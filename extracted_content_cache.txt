--- Page 13 ---
 7 การจัดเตรียมเครื่องมือ อนที่เราจะเข้าสู่ขั้นตอนการเขียนโค้ดภาษา c ตามที่จะกล่าวถึงในบทต่อตฺไป สิ่งที่เรา ก  จำเป็นต้องจัดเตรียมเอาไว้ล่วงหน้าก็คือ  เครื่องมือในการเขียนโค้ดและทดสอบเพื่อ ดูผลลัพธ์  ซึ่งแม้จะมีตัวเลือกอยู่มากมาย แต่ในหนังสือเล่มนี้ จะเลือกมานำเสนอเฉพาะเครื่องมือที่  ได้รับความนิยมสูงสุดในปัจจุบัน โดยเครื่องมือที่เลือกนี้ ไมใช่เฉพาะกับการเขียนโค้ดภาษา c เท่านั้น แต่ยังสามารถนำไปใช้สำหรับการเขียนโค้ดภาษาคอมพิวเตอร์อื่นซ ได้เกือบทั้งหมด  จึงถือเป็น ข้อได้เปรียบอย่างหนึ่งเมื่อเราศึกษาเรียนรู้การเขียนโปรแกรมภาษา อื่น" เพิ่มเติมในอนาคต การติดตั้ง vs code การเขียนโค้ดภาษา c นั้น  แม้เราจะมี  เครื่องมือให้เลือกใช้มากมาย  แต่ในที่นี้ผู้ เขียน ติดตัง visual studio code (s code) จะแนะวิธีการที้ได้รับความนิยมสูงสุดในปัจจุบัน ติดตั้ง mingw (ตัวแปลภาษา c) เพียงวิธีเดียว  นันภก็คือ  การใช้งานผ่าน  visual  studio code (เรานิยมเรียกสั้นไ ว่า vs code) ตั้งค่าตำแหน่งดัวแปลภาษาใน environment อย่างไรก็ตาม เนื่องจาก  vc  code สร้างมาสำหรับการเขียนโค้ดภาษา c โดยตรง ติดตั้งส่วนเสริม c/c++ packoge แต่สามารถใช้กับภาษาคอมพิวเตอร์ทั่วซไป ได้  เกือบทั้งหมด ดังนั้น เรายังต้องติดตั้งเครื่องมือ ติดตั้งส่วมเสริม code runner พร้อมเซตค่า  อื่น"  เพิ่มเติมอีก  โดยขั้นตอนที่จำเป็นต้องทำ สามารถสรุปได้ดังนี้ ไม่ได้ถูก
--- Page 14 ---
14 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน ติดตั้ง visual studio code (vs code) เพื่อใช้เป็นเครื่องมือหลักในการเขียนและ  แสดงผลลัพธ์รวมถึงจัดการไฟล์ของโค้ด 2 ติดตั้ง mingw เพื่อเป็นตัวแปลภาษา (compiler) ของภาษา c 3. เชตตำแหน่งที่ติดตั้ง mingw ลงใน  environment variables ของระบบ เพื่อให้ โปรแกรมอื่นไรู้ตำแหน่งของตัวแปลภาษา ติดตั้งส่วนเสริม cic++ package ลงใน vs code เพื่อเป็นตัวช่วยในการเขียนโค้ด ภาษา c. 5. ติดตั้งส่วนเสริม code runner ลงใน vs code เพื่อเชื่อมโยงระหว่าง vs code กับ mingw ซึ่งจะช่วยให้เราสามารถรันทดสอบโค้ดได้ง่ายขึ้น รวมทั้งตั้งค่าการแสดง ผลลัพธ์ อีกด้วย ทั้งหมดที่กล่าวมา จะแยกกล่าวรายละเอียดเป็นหัวข้อต่างๆ ในลำดับต่อไป แต่ในหัวข้อนี้  จะกล่าวถึงขั้นตอนแรกนั่นภก็คือ การติดตั้ง vs code ซึ่งเป็นโปรแกรมประเภท ide (integrated  development environment) ที่ microsoft สร้างขึ้นมาสำหรับใช้ในการเขียนโค้ดทั่ว" ไป และ ได้รับความนิยมสูงสุดในปัจจุบัน  เนื่องจากมีลักษณะที่โดดเด่นหลายประการ  เช่น  ให้ใช้งานฟรี รองรับการเขียนโค้ดได้หลายภาษา และที่สำคัญคือ มีส่วนเสริมการทำงานให้เลือกใช้มากมาย  สำหรับการติดตั้ง vs code ลงในเครื่องที่เราจะใช้งาน มีขั้นตอนโดยสังเขปคือ 1. สามารถดาวน์โหลดชุดติดตั้งได้ที่ ihttps:/icode. visualstudio.com /download daatoad วa ราrอ toda ntps icode visuaistudio con downlgad visual studio code dor  jodates apl ctonsons fao  windows .deb tpm mal ;9 . 4]1-4<214 irasas rlo- 2 เลือกดาวน์โหลดให้ตรงกับระบบปฏิบัติการที่เรากำลังใช้งาน (ในที่นี้จะกล่าวถึงเฉพาะ  ระบบ windows  เท่านั้น) 3 หลังจากดาวน์โหลดเสร็จ  ให้ดับเบิลคลิกไฟล์ติดตั้งที่ได้มาและในหน้าจอถัดไป ก็ ยอมรับเงื่อนไขแล้วคลิกปุ่ม next alog
--- Page 15 ---
 บทที 1 การจัดเตรียมเคร้องมือ 15 ขั้นตอนต่อไป จะมีออปชันให้เลือก ก็แนะนำให้เลือกทั้งหมด แล้วคลิกปุ่ม next ระา  mtotor milal วad tods iaat) tanes agrmont ระtปา microsoit studd locg ruaen .อ..า..อร า +"""~1-- 3]1014-34001] ปรปงเะปา .zรร .า aรารเรอ .ร qนะnl us . 13/33[-=!-1[ ...อ สส 38t7> i33 )g 96d l5 astu ... .. สิชตง t-  te a๙ jhis lirern= aonies mins uiaual วnidiว cace pmdu. souta cade visu. aaudig coae auuianie  ainsllเn momiin iat lnno าาาะาร ndar rnha mtfiaenng วargomnk at zaat 3c923 kon rrnsialih aoommuotot/tde /nn mwsoricasei nadl .อกรา  wormodon an dr jound iow ino o 7]-43-=[7-4= amn na d aa atend ควรเลือก lim llalnaalu o.qoiors4wnอเอย a drdan roda ..า pinis frna asaay mmau tanu  microsoft software license terms =-:|+-- .าสางา ..า ราลงา ทังหมด 77=.6311333๖:4[29)  microsoft visual studio code sacset he acrgemgns ยอมรับข้อตกลง dtวว not acrcpt tาa คลิกปุ่ม next คลึก next .าวา 5. ต่อจากนั้น คลิกปุ่ม install. เพื่อเริ่มการติดตั้งไฟล์ จากนั้นก็รอจนกว่าจะแล้วเสร็จ รวเนง  migcl xin รud0 703g รส!  aeody insull .ารา dern aatadna ms รtuา cกdะ you[ tamoa da rsal danuc ษ 33วก, didd d - :6 reaa eros sracarcs aiunalpat: anw t ..า ฬาเทรรรพ. วา.า.รา ^41"06-30="400!04[)0๓352=|13-0{ 4-<43 กาา  anprnad tade .17- -- กาณา .รอ การติดตั้ง mingw การที่ภาษาคอมพิวเตอร์จะทำงานได้นั้น ต้องอาศัยตัวแปลภาษา (compiler) ชึ่งสิ่งนี้ ไม่ ได้ถูกติดตั้งมาพร้อมกับ vs code โดยเราต้องติดตั้งเพิ่มเติมลงไปต่างหาก เซึ่งตัวแปลภาษา c มี ผู้สร้างให้เลือกใช้มากมาย ฺสำหรับในที่นี้จะใช้ตัวแปลภาษาของ gcc (gnu. compiler collection) ที่ได้รับความนิยมสูงสุด แต่จะใช้ในเวอร์ชัน mingw (minimalist gcc for windows) ซึ่งเป็น การลดขนาดของตัวแปลภาษาลงสำหรับใช้งานบนระบบ windows โดยตรง ทั้งนี้ mingw มีทั้ง ไนน รอา
--- Page 16 ---
16 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน แบบติดตั้งด้วยไฟล์ installer และแบบคัดลอกไฟล์มาไว้ในเครื่องก็ใช้ได้เลย โดยแบบ installer นั้นจะมีขั้นตอนการติดตั้งปลึกย่อยซึ่งค่อนข้างยุ่งยากเล็กน้อย ในที่นี้ผู้ เขียนจึงจะกล่าวถึงเฉพาะ แบบคัดลอกไฟล์ เพราะสะดวก รวดเร็วกว่า โดยมีแนวทางการนำมาใช้งานดังนี้  สามารถดาวน์โหลด mingw ได้ที่  https:iisourceforge. net/ projects/mingw w64/files/  แล้วเลื่อนลงมาคลิกที่ลิงก์ x86_64-win32-sjlj ดังภาพ (เชื่อไฟล์อาจถูกเปลี่ยนแปลง ไปเรื่อยต แต่ควรเลือกไฟล์ชื่อขึ้นต้นด้วย x86_64-win32 อันแรกสุด ฺซึ่งตามปกติ จะ เป็นเวอร์ชันล่าสุด) ^]05)"-04 -10240-0!  niids diaou maforgnnatorojattimingtalas dอ  sourceforge  mingw w64 gcc 8.1.0 )00_64 do51 ร]] 436_34 00243_|1 483,6- ก32 5i|] 6_3 sin32 ach joda maainil .า .เว.รา . .วีาคา. 2 หลังจากดาวน์โหลดเสร็จ ปกติจะได้ไฟล์ที่ถูกบีบอัดเอาไว้ ก็ให้ขยายไฟล์ดังกล่าว เซึ่ง หลังการขยายจะได้โฟลเดอร์ชื่อ  mingw64 พร้อมกับไฟล์จำนวนมากในโฟลเดอร์นั้น  ก็ให้เราคัดลอกโฟลเดอร์  mingw64  ไปเก็บไว้ยังตำแหน่งที่เราอ้างอิงได้สะดวก  เซึ่ง โดยทั่วไป เรานิยมเก็บไว้ที่ไดรฟ์ c ดังนั้น ตำแหน่งของมันจะเป็น c:lmingw64 (หรือ จะขยายไฟล์มาไว้ที่นี้โดยตรงเลยก็ได้) !:a 2i:< {c] .รา searn local lnl fame data moaite ]jos cinng )hh5 19ว0 ardat ปรเรานรเา ]1/5/2565 2];3 ala loldn 325/2555803 aia ialar miกgพบ )516'2355 19!49 ai: taloat naa jolger 23/2}23-5 1230 latalde itam aafactad วิธีการตามที่ผู้เขียนเลือกใช้ดังที่กล่าวมานี้` เราเพียงแค่คัดลอกไฟล์มาก็ใช้งานได้แล้ว แต่ อย่าลืมตำแหน่งที่เราเก็บไฟล์เอาไว้คือ c:lmingw64 ซึ่งต้องใช้อ้างอิงในหัวข้อต่อไป ณาาธ
--- Page 17 ---
 บทที 1 การจัดเตรียมเครื่องมือ 17 การเซตตำแทิน่งของตัวแปลภาษา แม้เราจะนำชุดไฟล์ของ mingw มาจัดเก็บในเครื่องแล้ว แต่ระบบหรือโปรแกรมอื่น" ก็ ยังไม่รู้จักตำแหน่งของมัน ดังนั้น เราต้องเซตตำแหน่งของ  mingw ลงใน environment ของ  ระบบ เพื่อให้โปรแกรมอื่น1รู้จักตำแหน่งของมัน และเข้าถึงได้ โดยมีขั้นตอนดังนี้ 1.  จากขั้นตอนการติดตั้งในหัวข้อที่แล้ว  ผู้เขียนได้บอกไว้ว่า  เราต้องจำไว้ด้วยว่าติดตั้ง  mingw เอาไว้ที่ใด ชึ่งตามปกติหากใช้ตามค่าที่ผู้เขียนแนะนำตำแหน่งของตัวแปล ภาษาก็จะอยู่ที่ c:imingw64lbin ถ้าไม่แน่ใจ ให้เปิดไปตรวจสอบอีกครั้งก็ได้ ong วnan amrnanr  sarth idhh )3!:]~. วa3m=: tde 5!/~ adrha 17/5/2551 19/0 analinatnn . 1325๖1 17+0 ai intii |0ว3 48 15]2561141 aprlieatun 435]43 sharant บนวรเรเบ5 zhortaut t3 าาา am aaatad 2. ที่ระบบ windows ให้คลิกขวาที่ปุ่ม start แล้วเลือก system (เหรือคลิกขวาที่ไอคอน my computer หรือ this pc จากนั้นเลือกเมนู  properties หรือใช้วิธี อื่นไ นอก เหนือจากนี้ก็ได้) แล้วในขั้นตอนถัดไปให้คลิกที่ลิงก์หรือเมนู advanced  system  settings (ระบบปฏิบัติการแต่ละเวอร์ชันอาจจัดวางตำแหน่งที่แตกต่างกัน)  sarings  on about remote deskop ฝad a sring srn protsction system aranced susfem setfings galler/ pname this ladvancnd] slorag 13=1[1=|4 n 3. ในขั้นตอนถัดไป เมื่อปรากฏหน้าจอ system properties ให้เลือกแท็บ advanced จากนั้นคลิกที่ปุ่ม environment variables เมื่อปรากฏหน้าจอ environment variables ให้คลิกที่ตัวแปร (variable) path จาก นั้นคลิกปุ่ม edit...
--- Page 18 ---
18 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน 5):~[ 7109)~"1)~$ amlornrnt aanate caua ea= --4)= ววราะ-4 ayssm tptecurn 1-!- you munns aans ann anrir  ataafto raa taatotaaatar4-.. uattanadlas aar mn .าาคง varatle valuc 1:=|=1-<4|00*=33^3:~070/"370[43-^--="0,04=|!=70[  crocaicta luatiath coate 131551619392453293 วnzdn.= cwar wmdnaln.a อาร เawแอ tา za angdaa localtamp .ะ! iolea cemasnalaaoralฟะmง dask qd sang5 relaad amou sภาเท 3=4 sarnand aazoe ra. acis nalats sialan sati0 3 5]am ame  ata datucuing mor aาวา ร.รrm anaales  ariagl บา กรทรวร วาวรรรราา_สรารเาา 8:2- วรมวาอาราา prcarttleรawเaanwaer hehn vndiaccmd6พร กรา สทเวารารา .า  cin do n5 em uscana[ sรte. aama3- 5. เมื่อปรากฏหน้าจอ  edit  environment  cwhmmnandaa aral mogamunon mon ndรala_ ctacra wappdata locad togfamaยวก ton 3)0  variable  ให้คลิกปุ่ม new แล้วใส่ตำแหน่ง clserm noodataloran frogramsu uthon athon3g  ariots| far: 6}[5414000:3[00904309/209,44039! ของ mingw ลงไปตามที่ได้จัดเก็บ #uรยยาาoคlยช} appuata local |icroses| indowanpps 3a  cwuemmn  soodaall nrannogamamtotol is cod torn  suaats mm appdaia  oanirgrom dalet- ไฟล์ เอาไว้  ชึ่งในกรณีของผู้ เขียนคือ imngan1oin 2  c:lmingw64lbin ทั้งนี้หากผู้อ่านจัดเก็บที่  moue ua  ตำแหน่งอื่น ก็ให้ระบุไปตามนั้น เสร็จแล้ว ua eown  คลิกปุ่ม ok { :=๓_ 6. เมื่อย้อนกลับมายังหน้าจอในขั้นตอนก่อน นี้ ก็ให้คลิกปุ่ม ok ทั้งหมด  ก็ถือเป็น อันเสร็จสิ้นขั้นตอนการเซตค่า .าร> กาธติดตั้ง cic++ package สำหิธับ vs code  จากที่ได้กล่าวไปบ้างแล้วว่า vs code เป็นเครื่องมือสำหรับเขียนโค้ดทั่ว"ไป ที้ไม่เจาะจง ว่าจะใช้กับภาษาคอมพิวเตอร์อันใดอันหนึ่ง ดังนั้น หากเราจะใช้ในการเขียนโค้ดภาษาใด  ก็อาจ ต้องติดตั้งส่วนเสริม (extension) เพื่อเป็นตัวช่วยสำหรับใช้งานร่วมกับภาษานั้นต ฺสำหรับในกรณี ของภาษา c.  ก็ให้เราติดตั้งส่วนเสริมที่ชื่อ cic++ package ที่พัฒนาโดยทีมงานของ microsoft โดยตรง ดังขั้นตอนต่อไปนี้ |3=^"3 า
--- Page 19 ---
 บทที 1 การจัดเตรียมเครื่องมือ 19 1. เปิดเข้าสู่ vs code แล้วคลิกที่ไอคอน extensions ที่แถบด้านขช้ายมือ (การติดตั้ง ส่วนเสริมต้องเชื่อมต่ออินเทอร์เน็ต) 2. ในช่องค้นหา ให้พิมพ์คำว่า cic++ edit  selection jarminal ลงไป d etestons mnepuce 7 .= 2 ac+t 3 หลังจากปรากฏรายชื่อส่วนเสริม  ชึ่งมี o 0c- อยู่ค่อนข้างมาก  แต่อันที่แนะนำให้ติด dc cc+e inillizense. debugging p microsatt inรal ตั้งโดยคลิกปุ่ม  install.  ตรงส่วนเสริม dic-- extension pack p aca popula exensions lor c++ de อันนั้น (หมายเลข 3  คือ microsat inะtall aicaa themes สาร 1) cic++ ac^^ ul themes lor cice> eslansion microsott indal 2) c/c++ extension pack ส่วนเสริม c/c++ เราติดตั้งดังขั้นตอนที่ผ่านมา เป็นเพียงตัวช่วยในการเขียนโค้ดเท่านั้น แต่หากเราต้องการความสะดวกสบายในการทดสอบโค้ดที่เขียน ก็อาจต้องติดตั้งส่วนเสริมอื่น1 เพิ่มลงไปอีก ตามทีจะกล่าวถึงในหัวข้อต่อไป การติดตั้ง code runner สำทิธับ vs code การติดตั้ง vs code และ mingw รวมทั้งส่วนเสริมของ c/c++ ดังขั้นตอนที่ได้กล่าวมา แม้จะเพียงพอที่จะเขียนโค้ดภาษา c. บน vs  code ได้แล้ว  แต่ก็ยังมีความยุ่งยากในการรัน  ทดสอบ เพราะหากต้องการดูผลลัพธ์ของโค้ดที่เขียน เราต้องพิมพ์คำสั่งลงไปเอง ดังนั้น เพื่อลด ความยุ่งยากดังกล่าว เราอาจติดตั้งส่วนเสริมของ vs code ที่ชื่อ code runner เป็นตัวช่วย ในขั้นตอนการรันทดสอบเพื่อดูผลลัพธ์ ดังขั้นตอนต่อไปนี้ 1. เปิดเข้าสู่ vs code แล้วคลิกที่ไอคอน fle edit selection vign go วบา terminal  extensions ที่แถบด้านข้ายมือ (ต้อง aยsonร: maaustp  aระ เชื่อมต่ออินเทอร์เน็ต) codc runncr  code runner ๓ 1322!4 2 ในช่องค้นหา ให้พิมพ์ คำว่า  code .า aun cc++, java js. pnp pytn ใ un han  paphd pequired แaย  runner ลงไป test runner for jaya @136 runland  debug juni: er testh6 test. 3. หลังจากปรากฏรายชื่อส่วนเสริม code microsort irotal   runner  ก็ให้คลิกปุ่ม install หลังติดตั้งเสร็จ ให้ปดโปรแกรม vs code แล้วค่อยเปิดขึ้นมาใหม่ file  vie run  ในภาพ)
--- Page 20 ---
20 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน 5. ต่อไปเราจะตั้งค่า เพื่อให้ code runner นำผลลัพธ์ไปแสดงที่ terminal ของ vs  code โดยเลือกเมนู file  preferences  settings 6. การค้นหาตัวเลือกเป้าหมาย วิธีที่สะดวกรวดเร็วที่สุดคือ เมื่อเปิดเข้าสู่แท็บหรือหน้าจอ  settings ให้พิมพ์ค้นหาด้วยคำว่า "code  runner run in terminal" ก็จะปรากฏ ตัวเลือกเป้าหมายคือ code runner: run in terminal (รายการนี้จะปรากฏเมื่อ ติดตั้ง code runner เอาไว้แล้วเท่านั้น) ต่อไปเราก็เลือก (เช็ก) ที่รายการนั้น ดังภาพ settings zade runner run in teminal user  workspace eitansions {2!  coda ninner run in terminal r.n code corกฎuเสน., 2 whatherto run coda in iniegrazd jarmimal หลังจากทำตามขั้นตอนดังที่กล่าวมาจนครบแล้วต้องบันทึกการเปลี่ยนแปลงเสมอ เช่น เลือกเมนู file > save หรือกด <ctrl s> จากนั้นภก็สามารถปิดแท็บ settings  ได้เลย และถือเป็นอันเสร็จสิ้นขั้นตอนการตั้งค่า การเลือกที่ run  in terminal  ตามที่เราเซตค่าในขั้นตอนดังกล่าวมานี้ ก็เพื่อให้ code  runner  แสดง เผลลัพธ์และรับข้อมูลจากคีย์บอร์ดผ่านทาง terminal ของ vs code โดยตรง นันเอง การทดสอบโค้ดภาษา c หลังจากที่เราได้จัดเตรียมเครื่องมือที่ต้องใช้สำหรับการทดสอบภาษา c จนครบทังหมด แล้ว ดังหัวข้อที่ผ่านไฺมา ขั้นตอนต่อไปเราก็จะทดสอบเครื่องมือเหล่านั้นว่าใช้งานร่วมกันได้จริง หรือไม่ โดยมีแนวทางดังต่อไปนี้ สร้างโฟลเดอร์สำหรับเก็บโค้ด ตามหลักการที่ถูกต้องของ vs code นั้น เราควรสร้างโฟลเดอร์สำหรับจัดเก็บไฟล์ของ  โค้ดให้เป็นสัดส่วน  เพราะการดำเนินการบางอย่างเราต้องทำกับโฟลเดอร์ที่บรรจุไฟล์เท่านั้น เซึ่ง แนวทางที่ผู้เขียนจะเลือกใช้ประกอบในหนังสือเล่มนี้คือ
--- Page 21 ---
 บทที 1 การจัดเตรียมเคร้องมือ 21  กำหนดโฟลเดอร์ชื่อ c-lang สำหรับเก็บโค้ดรวมของทุกบทฺ โดยโฟลเดอร์นี้จะสร้างไว้ที่  c:ic-lang  local diss [i) .า. ate search lacal diska ama nare madife tวa s17e !445" 12/425547-2 fula oldcr wjan[agen; !5/6/2565 2];03 tla jclder a5!! รaเbอs 13/5/2555 19.45 ale loldar ก.ก 1/11/25641457 ala roldar alang 17/5/2565 )1:13 fiin faldur aesonatna 11/5/2565 21:7 fla iaidar intc| 225'2505 8;[5 fila ioidar กาางาะ 15/6/2555 1}49 fila ialdar 35iic" ien  elested เนื่องจากในแต่ละบท จะมีไฟล์ย่อยต ของแต่ละตัวอย่างเป็นจำนวนมาก ดังนั้น เพื่อ ให้ง่ายต่อการเข้าถึงไฟล์เป้าหมาย เราจะสร้างโฟลเดอร์ย่อยต ซ้อนไว้ใน c:ic-lang เพื่อจัดเก็บโค้ดของแต่ละบท เช่น โฟลเดอร์ chapter1 สำหรับเก็บโค้ดของบทที่ จะอยู่ที่ c:ic-langlchapter1| โฟลเดอร์ chapter2 สำหรับเก็บโค้ดของบทที่ 2 จะอยู่ที่ c:ic-langlchapter2| โฟลเดอร์ chapter3 สำหรับเก็บโค้ดของบทที่ 3 จะอยู่ที่ c:ic-langlchapter3| โฟลเดอร์อื่นไ ก็ใช้หลักการเดียวกัน clana  hans cic lang saarch mains dal mootieป วอ mhatiar1 17)5/2555 )5;)7 fia falde zhanter2 )7'1/2555 15:37 sia lalder ahanten 17/612565 file joldar jitems ในแต่ละบท จะสร้างไฟล์ตามชื่อบท-ลำดับตัวอย่าง เช่น  โค้ดของตัวอย่าง 1-1 จะอยู่ที่ไฟล์ c:ic-langlchapter1 lexample1-1.c โค้ดของตัวอย่าง 1-2 จะอยู่ที่ไฟล์ c:ic-langlchapter1 lexample1-2.c  โค้ดของตัวอย่าง 2-1 จะอยู่ที่ไฟล์ c:ic-langlchapter2 lexample2-1.c  โค้ดของตัวอย่าง 3-5 จะอยู่ที่ไฟล์ c:ic-langlchapter3 lexample3-5.c  โค้ดของตัวอย่างอื่นไ ก็ใช้หลักการเดียวกัน รา arg !p: เรา7
--- Page 22 ---
22 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน thagter aama shar  ciclangtchabter1 sgarch chamter1 mame date monified tne ste  zampla1 1716/55515/3  source fla lka etamalel-2 )7/6/2563 1ร:43  solirce tiia aratplal-3 )7|6/2565 15:43 soumce fife สการ หลังจากที่เราทราบหลักการโดยสังเขปแล้ว ต่อไปเราจะลองทดสอบการใช้งาน โดยในขั้น ตอนแรก ถ้าเรายังไม่มีโฟลเดอร์รวม ให้สร้างขึ้นมาก่อน ดังนี้ 1. เปิด file explorer ของระบบ windows แล้วไปที่ c:i สร้างโฟลเดอร์ใหม่ชื่อ -lang ( เช่น คลิกขวา แล้วเลือก new  folder) 3 เปิดเข้าไปในโฟลเดอร์ c-lang แล้วสร้างโฟลเดอร์ชื่อ chapter1 สำหรับเก็บไฟล์ของ  บทที (ขั้นตอนนี้ อาจไปสร้างใน vs code ก็ได้) elang เ  hams shace อa^ ck long seufth cung narne date mou]ted tre siza chapter1 |7/62585 11}13 file fader itzm ก salartad การสร้างไฟล์และทดสอบโค้ดภาษา c หลังจากที่เราสร้างโฟลเดอร์สำหรับจัดเก็บโค้ดเอาไว้แล้ว ดังหัวข้อที่ผ่านมา ต่อไปเราจะ สร้างไฟล์ภาษา c เพื่อทดสอบการทำงาน ดังนี้ 1. เปิดเข้าสู่ vs code 2 คลิกเมนู file  open folder หรือเลือกจากลิงก์ open  folder บนหน้าจอ  get  started  ก็ได้  จากนั้นเลือกโฟลเดอร์ของบทที่ ตามทีเราได้สร้างเอาไว้ นันคือ  c:ic-langichapter1
--- Page 23 ---
 บทที 1 การจัดเตรียมเคร้องมือ 23 3  คลิกที่ไอคอน new file ดังภาพ แล้วกำหนด tile edit  selection  view cd run ชื่อไฟล์ โดยให้มีส่วนขยายหรือนามสกุลของ a}{pl0p57  ไฟล์เป็น .c เท่านั้น (หมายถึงไฟล์ภาษา c) เช่น  chaprer i e o e example1 lc  ในที่นี้กำหนดชื่อเป็น example1 2 ให้ลองพิมพ์ โค้ดง่ายๆ ลงไป ดังนี้ (รายละเอียด ห ของโค้ดจะกล่าวถึงในบทต่อต ไป) fil= edil sa action view co rur ta minal  h=lo axarle1 1.6 = tpleri exptonen  example1- ic  chpter1 example1-1,c) example 1lc ainclada astdio.h> p. void main() b puts "hello  lor.d"); 5.  หลังการเขียนหรือแก้ไขโค้ด ต้องบันทึกการเปลี่ยนแปลงทุกครั้ง เช่น  file  save หรือกด <ctrl s> 6. รันทดสอบ โค้ดที่เขียนด้วยวิธีใดวิธีหนึ่งคือ วิธีที่ 1 คลิกที่ปุ่มไอคอนหัวลูกศรที่อยู่บริเวณมุมขวาบนของพื้นที่เขียนโค้ด วิธีที่ 2  คลิกขวาบริเวณฟพื้นที่เขียนโค้ด แล้วเลือกเมนู run code (เมนูรายการนี้ จะปรากฏเฉพาะกรณีที่เราติดตั้งส่วนเสริม code runner เอาไว้แล้วเท่านั้น) หรือ กด <alt +ctrl n> วิธีที่ 2: วัธีที่ 1: คลิกขวา แล้วเลือก run code คลิกที่ไอคอนหัวลูกศร tila tdi salection  iew da กuา aramplei as- chapter1 viual studh an is d ewinา aamง ron code 3|++ chaadu cxamp go to datrition 512 o axampla1-1t so to dachration so to type dein ition  ห go lo fglargnze shiit4f12 paals b find all tatcrancas shiftfalt uf12 l-1.c เลือกเมนู
--- Page 24 ---
24 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน เมื่อสั่งรันตามที่กล่าวมา ผลลัพธ์ที้ได้จะถูกนำมาแสดงบน terminal  (จะปรากฏโดย  อัตโนมัติ) ดังภาพ .. e. salaction ien co. run  ganplei ics maiar1 พรมฺสริtบdา awonr axample1 1: x g cuptep exhmall le) o racode atamole}-ls =anc:ud= astato p. aamplel e vaid ทaบาา aบtร "hlle hanl b nouems  อuifli ieitiia juntan  code c:te- lansichapta^icd "c;lelanalchapta^1l" aas  exaole!-!.s anp1-1-1 sis  langichapter11"examp1e1-1 nallo morle c: ks  langihanter1) อย่างไรก็ตาม เนื่องจากการรันโค้ดภาษา c จะได้ไฟล์ .exe เพิ่มขึ้นมาอีกไฟล์ ซึ่งโปรแกรม  ประเภท anti virus อาจมองว่าไม่ปลอดภัย และอาจบล็อกการรันก็เป็นได้ ซึ่งเราอาจแก้ปัญหา ด้วยวิธีใดวิธีหนึ่งคือ วิธีที่ 1  อาจหยุดการทำงานของโปรแกรม  anti virus ชั่วคราวในระหว่างที่กำลัง  ทดสอบการรันภาษา c  แต่วิธีนี้อาจไม่ปลอดภัย หากในขณะนั้นเราใช้อินเทอร์เน็ต ควบคู่กันไปด้วย วิธีที่ 2  อาจสร้าง exception ภายในโปรแกรม anti virus เพื่อให้มันยกเว้นการ ตรวจสอบตำแหน่งโฟลเดอร์ที่เราจัดเก็บโค้ด เช่น ในที่นี้คือ c:ic-lang ดังในภาพถัดไป เป็นการสร้าง exception บนโปรแกรม  avast (เลือกไอคอน menu  settings  exceptions add exception) dlose uapcn uaer intonaed  exceptions caneral  jpoale  choose  peclidiiles iolnars ar wcbgites tolarcludetrom all ololr hiclds iznd seuns- mantan dnda domansa tedand ahoacamnaded aane ele requon lor aliol imanooicont maticadona nnlatua  add adtaced aicepndn  erccpuons ipotectdn plncaloe riirfoloea ..าร c.e stappdata poaming nonnode mnodileslayao- dinode monlicalanpinatea mindo  acd achicce oin padnatd tallane padatdncd patsona| enan cusers wwt anacongaวtoython cxe cclangl  trouble shpding
--- Page 25 ---
 บทที 1 การจัดเตรียมเคร้องมือ 25 หากเราต้องการสร้างไฟล์สำหรับตัวอย่างต่อตไป ก็ทำเหมือนเดิม นั่นคือ เปิดเข้าสู่ vs  code แล้วเข้าสู่โฟลเดอร์ c:ic-langlchapterx ที่ต้องการจัดเก็บไฟล์นั้น แล้วก็คลิกไอคอน new  file จากนั้นก็กำหนดชื่อที่มีส่วนขยายเป็น .c ตามเดิม ซึ่งเราจะสร้างเพิ่มกี่ไฟล์ก็ได้ file eait  selection view co  axploptr  chpten1 e o d erample1-is aaa tla exa nple1-2 6 evampie1 ว.c p หลังจากที่เราเสร็จสิ้นการใช้งาน อาจปิดโฟลเดอร์นั้น  เช่น เลือกที่เมนู  close  folder แต่กรณีนี้ หากจะใช้งานเมื่อเข้าสู่ vs code ครั้งต่อไป ต้องเปิดโฟลเดอร์ก่อน ตามหลัก การเดิมทั้งหมด การไช้เครื่องมือพื้นฐานของ vs code ก่อนที่เราจะเข้าสู่ขั้นตอนการเขียนโค้ดภาษา c. อย่างเต็มรูปแบบในบทต่อไป เก็ควรรู้จัก กับการใช้เครื่องมือพื้นฐานบางส่วนของ vs code เพิ่มเติม เผื่อจำเป็นต้องใช้งานในบางโอกาส โดยสิ่งที่เราควรรู้จักในเบื้องต้นมีดังนี้ ทิน้าจอเธิมต้น (get started) ตามปกติ เมื่อเราเปดเข้าสู่ vs code จะปรากฏหน้าจอ get started เป็นอันดับแรก ซึ่ง ลักษณะที่สำคัญเกี่ยวกับหน้าจอนี้คือ อาจมีการแจ้งข้อมูลข่าวสารที่น่าสนใจเกี่ยวกับ vs code มีลิงก์สำหรับให้เราคลิกเพื่อเปิดไฟล์หรือโฟลเดอร์เป้าหมายที่ต้องการได้อีกหนึ่งวิธี นอกเหนือจากการเลือกที่เมนู มีลิงก์ที่แสดงประวัติการเปิดโฟลเดอร์ที่เราเข้าสู่ vs code ในครั้งก่อน" ซึ่งหากมี โฟลเดอร์เป้าหมายที่เราต้องการรวมอยู่ด้วย ภก็สามารถคลิกเปิดจากตรงนี้ได้ทันที  file
--- Page 26 ---
26 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน gat slorled ปิดหน้าจอ get storted  start  walkthroughs nefle  ลิงก์สำหรับ เปืดไฟล์ หรือ get started with vs code open tile. discovur the bost custommations open talder โฟลเดอร์ to make vs code yours  recent  learn the fundamentals  jumn right into vs icouc and an ouemew crinhu must hatic  develcperthai 1 ประวัติการเปิด features boatstran5 chbun โฟลเดอร์สามารถ appt-1 zeact เปิดจากตรงนี้ได้เลย chap l0 cb n|vue boost your productivity more get started with  python unchaed ให้นสดงหน้าจอ get started wwelcome)  development เมือเริ่มต้น หร็อเปิดเ้าสู่vs code หร็อไม่ show valcome page on startup หากเราต้องการปิดหน้าจอนี้ ก็คลิกปุ่ม ix ที่แท็บด้านบน หรือหากไม่ต้องการให้ปรากฏ หน้าจอ get started ต่อไปอีก  ก็ให้เราเอาเครื่องหมายถูกตรงตัวเลือก show welcome page on  startup ทีบริเวณขอบด้านล่างออก หรือหลังจากปิดไปแล้ว หากเราต้องการให้หน้าจอ get stated กลับมาแสดงอีกครั้ง ก็ให้เลือกที่เมนู help > get started การเลือกรูปแบบสี (theme) ตามปกติ vs code จะเลือกธีม (theme) เป็นสีดำ (dark) เอาไว้ล่วงหน้า เซึ่งหากเรา ชอบแบบนี้กไม่จำเป็นต้องปรับเปลี่ยน แต่ถ้าเราต้องการสีสันในรูปแบบอื่น ภก็มีตัวเลือกอยู่จำนวน หนึ่ง โดยใช้ขั้นตอนดังต่อไปนี้ ที่มุมล่างขวาของโปรแกรม vs code ให้คลิกที่ไอคอน manage (ูรูปเฟือง) เลือกที่เมนู  color theme 3. จากนั้นจะปรากฏรายชื่อสีให้เลือก  ถ้าเรายังไม่ทราบว่าแต่ละสีมีลักษณะเป็นยังไง ก็ อาจลองเลือกดูก่อนก็ได้ ถ้าไม่ถูกใจก็ค่อยเลือกสีใหม่ สำหรับรูปแบบที่จะใช้ประกอบ ในหนังสือเล่มนี้ เผู้เขียนเลือกธีมสีแบบ light (visual studio) get aython
--- Page 27 ---
 บทที 1 การจัดเตรียมเครื่องมือ 27 fle eait selection vie go run visual sluui d salrct color thema {ua own keys to ptguiew] light ivisual studio] light themes o light- ldefault iight)  เลือกสี cuat light ช.  solarizrd light ดามต้องการ abvss dark wisal sttio) user shingets dark+ idelault dark)  kimbie dark  colouinang  cul+k cul+t  เลือกเมนู color theme b  monorar fla icon mianalat dimmed produdtioon thama turn on sattings syne  manage woik space trust ๘ู chedtlor updales คลิกไอคอน manoge 00a0 การปรับเปลี่ยนฟอนต์  ฟอนต์ (font: ในที่นี้คือตัวอักษรที่ใช้เขียนโคดและแสดงผลลัพธ์) ที่ vs code กำหนด เอาไว้ล่วงหน้า แม้จะเป็นรูปแบบมาตรฐานที่นิยมใช้งานกันทั่วไป  แต่หากต้องการใช้ฟอนต์ที่เรา  ก็สามารถเปลี่ยนแปลงได้ด้วยขั้นตอนดังต่อไปนี้ 1. ที่มุมล่างขวาของโปรแกรม vs code ให้คลิกที่ไอคอน manage (รูปเฟือง) 2.  เลือกที่เมนู settings 3.  คลิก แท็บ text editor 4.  คลิกแท็ก font 5. กำหนดชื่อฟอนต์ลงในช่อง font family ซึ่งตามปกติ จะมีฟอนต์เดิมที่ vs code  กำหนดไว้ให้ล่วงหน้า หากเราต้องการเปลี่ยนไปใช้ชนิดอื่น ควรเพิ่มชื่อฟอนต์ไว้ข้างหน้า  ฟอนต์เดิม (เชื่อที่อยู่ก่อนจะถูกพิจารณาก่อน และไม่แนะนำให้ลบชื่อฟอนต์เดิมออก) โดย  คั่นด้วยเครื่องหมาย และถ้าชื่อฟอนต์ชนิดนั้นมีช่องว่าง ให้เขียนไว้ในเครื่องหมาย ซึ่งชื่อฟอนต์ที่ระบุต้องถูกติดตั้งเอาไว้ในเครื่องนั้นอยู่ก่อนแล้ว (การติดตั้งฟอนต์ ให้  คัดลอกไฟล์ของฟอนต์ไปไว้ที่ c:windows|fonts แล้วเริ่มโปรแกรมที่จะใช้ฟอนต์ใหม่) 6.  ถ้าต้องการกำหนดขนาด ก็ระบุตัวเลขลงในช่อง font size และเมื่อปิดหน้าจอ setting  ฟอนต์ที่ตั้งค่าเอาไว้ก็จะมีผลทันที thame ถูกใจ
--- Page 28 ---
28 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน  cammnd paiatta ct shittep d  settings a+ เลือกเมน settings online services sattings atantian ctrl shiit+x fum onsaangs sync_  vanage war ispacg trust chad sinn dndes คลิกไอคอม manage qdo comi)nly usad font texr editor คลึก text editor cursor font tamily กำดนดช็อฟอนด์เพิมลงไป find  contols thg font aml ดควรก้ำเนดไว้ข้างหน้าฟอนต์เดิม) ront  font sattง coduno  consdlas. coui naw, monospac- คาิก fammatina ditt eaito  minimap font ligature5 suggastians  connguru lont ligaturs or jont jatres. can ba rider abochean to nablaldisable ไดง filas css 't! laaut aeftings' probertp markbandh ยปปรกวยรวา indd rertes tont site xrp| cation  cantrols she iont size ail  serimity ptenslons กาดนดขมาคเอนต์ นอกจากนี้ ยังมีเทคนิคเพิ่มเติมอีกอย่างคือ การย่อหรือขยาย (zoom) ขนาดของฟอนต์ ในโปรแกรม vs code ให้ใหญ่ขึ้นหรือเล็กลง ฺชึ่งกรณีนี้ จะมีผลกับทั้งโคด เมนู และข้อความอื่นฯ  ทั้งหมดบน vs code โดยใช้วิธีการง่ายๆ คือ หากต้องการขยายขนาดเพิ่มขึ้น (zoom in: คล้ายกับการเข้าไปมองใกล้ต ซึ่งจะเห็น ขนาดที่ใหญ่ขึ้น) ให้กดคีย์บอร์ดปุ่ม <ctrl => หรือเลือกเมนู view  appearance > zoom in ซึ่งหากทำซ้ำเช่นนี้อีก ขนาดของฟอนต์จะเพิ่มขึ้น ระดับ ไปเรื่อยๆ หากต้องการลดขนาดให้เล็กลง (zoom out: คล้ายกับการออกมามองไกลต ซึ่งเราจะ เห็นขนาดที่เล็กลง) ให้กดคีย์บอร์ดปุ่ม <ctr| -> หรือเลือกเมนู view > appearance  zoom out ซึ่งหากทำซ้ำเช่นนี้อีก ขนาดของฟอนต์จะลดลง ระดับ ไปเรื่อยๆ แนวทางการติดตั้งส่วนเสริมเพิ่มเติม การเขียนโค้ดในบางกรณี  เราอาจต้องใช้ส่วนเสริม  (extension)  สำหรับการทำงาน ร่วม กับภาษานั้นต ซึ่งในหัวข้อที่ผ่านมา เราก็ได้ติดตั้งส่วนของภาษา cic++ ไปแล้ว จึงขอกล่าวถึง  อีกครั้งหนึ่ง เนื่องจากส่วนเสริมของ vs code ยังมีอีกเป็นจำนวนมาก ชึ่งเราสามารถตรวจสอบ และนำส่วนเสริมอื่นไฺมาใช้งานเพิ่มเติมได้ดังแนวทางต่อไปนี้
--- Page 29 ---
 บทที 1 การจัดเตรียมเคร้องมือ 29 1. ในขณะนั้น ต้องเชื่อมต่อกับอินเทอร์เน็ต แล้วคลิกที่ไอคอน  extensions ที่ขอบด้าน ช้าย (ดูภาพถัดไป) หรือเลือกที่เมนู view extensions 2. ใส่คีย์เวิร์ดลงไป หลังจากนั้นจะปรากฏรายชื่อส่วนขยายที่อาจเกี่ยวข้องกับคีย์เวิร์ด ดังกล่าว 3 ถ้าเราต้องการติดตั้งส่วนเสริมใด ก็คลิกปุ่ม install บนรายการนั้น หรือหากต้องการดู รายละเอียดเพิ่มเติมเกี่ยวกับส่วนเสริมใด ก็คลิกที่รายการดังกล่าว ดังภาพ d rle"15m4 7 9 = enension cce: runngr 2, cic++ runner v.d.6 cica atension pack  ponular emtensons drc-+ ranneda 1323|322 p frosot c/c++  compila. run and dcbug singic ar cc++ com @2พ  camplle  run anile da danialaintoan nน uc++ runnar  tu yu datails faaturs contibutions  changelag depand  compile runand debg. irahneds cc^ ๗q4  camplation and dagnostic vscode cic+ + runner ทะมาmภa ถ้าค้นหาส่วนเสริมใดที่ถูกติดตั้งเอาไว้แล้ว จะมีรูปไอคอน manage ที่มุมล่างขวาของ รายการนั้น ทั้งนี้หากเราต้องการลบส่วนขยายนั้นทิ้งไป จากนั้นทำดังนี้ (1) คลิกที่้ไอคอน manage ที่ส่วนเสริมนั้น (รูปเฟิอง) (2) เมื่อปรากฏเมนฺู ให้คลิกที่ uninstall d ทมวทแรน- 7 .  otension' un o cic+ ais  intallisense, dabugg..  p. micosolt c/( ccaa themes b ul theme fr cic++ ad frat= maosolt . dc-- extansion padk populan axten sbi forc digabie srdd . dca- com.. ก  comile & run aing d: saiich lo pra nalaaa vartion  danisipitoouru  install anotar jarsion.. dca runnar หร  uninst3ll  comaia run and de rannal9a dang า coo
--- Page 30 ---
30 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน กาธนำโค้ดของหินังสือมาใช้งาน  สำหรับโค้ดของหนังสือเล่มนี้ |ผู้อ่านสามารถดาวน์โหลดได้ที่ https:/www. developerthai  .com หลังจากนั้นก็ให้ขยายไฟล์ดังกล่าว ซึ่งจะได้โฟลเดอร์ที่ชื่อ c-lang ก็ให้นำโฟลเดอร์ดังกล่าว ไปเก็บไว้ที่ c:l ดังนั้น ตำแหน่งของมันก็จะเป็น c:ic-lang โดยภายในโฟลเดอร์ c-lang จะประกอบ ด้วยโฟลเดอร์ย่อยต ของบทต่างๆ เช่น chapter1, chapter2, ดังหลักการทีได้กล่าวมาแล้ว เมื่อต้องการเปิดดูโค้ด  และ/หรือ  รันทดสอบ  ก็ให้เข้าสู่ vs code แล้วเปิดโฟลเดอร์  c:lc-lang แล้วโฟลเดอร์ของทุกบทก็จะถูกเปดพร้อมกันทั้งหมด หรือจะเลือกเปิดเฉพาะโฟลเดอร์ ของบทที่ต้องการ เช่น c:ic-langlchapter2 ชึ่งจะเข้าถึงไฟล์ได้ง่ายขึ้น หลังจากนั้นกึคลิกชื่อไฟล์ ของตัวอย่างทีต้องการได้เลย d dplonep c exampie2 ac x  chpten2 เว example2-3.8 ) o scode aincluds asdlo.n> example2- i.c vaid naind) p. examole2-2.c printf 123 example2 3.c printf b example2 ac printf 456 printf prinatf("579"  สิ่งที่เราได้เรียนรู้ไนบทนี้ เป็นการจัดเตรียมเครื่องมือก่อนจะเข้าสู่ขั้นตอนการเขียนโค้ด ภาษา c อย่างแท้จริงในบทต่อตฺไป ชึ่งหากเรามี เครื่องมือที่ครบถ้วนและรู้จักวิธีการใช้งานที่ดี พอในระดับหนึ่งแล้ว ก็จะมีส่วนช่วยให้เราศึกษาเรียนรู้ได้รวดเร็วยิ่งขึ้นด้วย
--- Page 31 ---
7 การเขียนโค้ดภาษา c ในเบื้องต้น าบา c. มืองค์ประกอบและข้อกำหนดที่สำคัญหลายอย่างซึ่งเราควร์รู้จักในเบื้องต้น โดย  สิ่งที่จะกล่าวถึงในบทนี้  เช่น  คำสงวน  คำสั่งที่จำเป็นสำหรับการเขียนโค้ดในเบื้องต้น การแสดงผลการกำหนดบล็อกและคำอธิบายโค้ด  เป็นต้น  ชึ่งสิ่งเหล่านี้ล้วนเป็นพื้นฐานสำคัญ ของภาษา c ที่เราต้องใช้งานกันไปตลอด ประวัติโดยย่อของภาษา c ภาษา c. ถูกสร้างขชึ้นเมื่อประมาณปี  ค.ศ. 1972 โดย dennis  ritchie ที่ห้องปฏิบัติการ ของ bell  labs (หรือ at & t ในปัจจุบัน) เชึ่งวัตถุประสงค์เริ่มแรกก็เพื่อใช้ในระบบ  unix อย่างไรก็ตาม dennis ritchie ไม่ใช่|ผู้บุกเบิกในการสร้างภาษา c มาตั้งแต่เริ่มต้น  แต่ภาษานี้  ได้จากการพัฒนาเพิ่มเติมต่อจากภาษาคอมพิวเตอร์อื่น" ที่มือยู่ก่อนแล้วในขณะนั้น และหลังจาก ยุคของ dennis ritchie ก็มีหลายองค์กรที่ได้นำภาษา cมาพัฒนาเพิ่มเติมเรื่อยมา ชึ่งเราสามารถ สรุปวิวัฒนาการที่เกี่ยวเนื่องกับภาษา c โดยสังเขปตั้งแต่อดีตจนถึงปัจจุบัน ได้ดังนี้ 1960: ภาษา algo สร้างโดยองค์กรระหว่างประเทศ  (international committee) ไม่มีข้อกำหนดการใช้งานที่ชัดเจน เนื่องจากมีลักษณะที่เป็นนามธรรม (abstract) มากเกินไป 1963: ภาษา cpl (combine programming language) สร้างขึ้นที่มหาวิทยาลัยเคมบริดจ์ (cambridge university) มีลักษณะที่เจาะจงมากเกินไป จึงไม่สะดวกต่อการใช้งานจริง
--- Page 32 ---
32 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน 1967: ภาษา bcpl (basic combine programming language) สร้างโดย martin richards ที่มหาวิทยาลัยเคมบริดจ์ ยังมีลักษณะทีเจาะจงเหมือนเดิม จึงเหมาะกับการใช้งานเฉพาะอย่าง  เพราะขาด ความยืดหยุ่นต่อการใช้งานทั่วตไป 1970: ภาษา b สร้างโดย ken thompson ที่ห้องปฏิบัติการ bell labs (at &t) สร้างขึ้นจากพื้นฐานของภาษา bcpl  (จึงเป็นที่มาของชื่อภาษา b) โดยแก้ไข ข้อบกพร่องหลายอย่างและทำให้ภาษามีขนาดเล็กลง เช่น การลดจำนวนคีย์เวิร์ด  แต่ก็ยังเหมาะกับการแก้ปัญหาที่มีลักษณะเฉพาะเจาะจงเหมือนเดิม 1972: ภาษา c สร้างโดย dennis ritchie สร้างขึ้นจากพื้นฐานของภาษา bcpl และภาษา b ร่วมกัน จึงกลายเป็นที่มาของ ชื่อภาษา c ว่าพัฒนาต่อจากภาษาในตระกูล b ภาษา c มีวิวัฒนาการต่อเนื่องมาหลายเวอร์ชัน ซึ่งสามารถสรุปได้ดังนี้ 1972: กำเนิดภาษา c (หรือเรียกว่า c72) 1978: k&r c (เหรือเรียกว่า c78) โดย ik มาจากชื่อของ ken thompson และ r มาจากชื่อของ dennis ritchie 1989: ansi c (หรือเรียกว่า c89) 1990: is0 c (c90) 1999: c99 2011: c11 2017: c17 2023:  c23 (เป็นเพียงการคาดการณ์ในขณะที่เขียนหนังสือเล่มนี้ แต่ยังไม่มี การประกาศใช้งานจริง) ข้อดีและข้อเสียของภาษา c  ถึงแม้ภาษา c จะถูกสร้างมานานมากแล้ว รวมถึงเป็นต้นแบบให้กับกับภาษา อื่น" อีกหลาย ภาษา หากนับจากอดีตถึงปัจจุบัน ก็ถือว่าเป็นภาษาที่ประสบความสำเร็จและมีอิทธิพลต่อเทคโนโลยี ด้านไอทีมากที่สุดอีกภาษาหนึ่ง และมีกลุ่มนักพัฒนาจำนวนมากจากทั่วโลกที่ยังคงเลือกใช้ภาษา c
--- Page 33 ---
บทที 2 การเขียนโค้ดภาษา c ในเบื้องต้น 33 กันต่อไป ถึงแม้จะมีภาษา อื่นตที่ถูกพัฒนาขึ้นมาภายหลังและพยายามจะมาทดแทนภาษา นี้ก็ตาม  แต่ภาษา c ก็ยังเป็น1 ใน 5 ของภาษาคอมพิวเตอร์ที่ผู้ใช้งานมากที่สุดในโลกไม่เคยเปลี่ยนแปลง ถึงอย่างไรก็ตาม ภาษา c ก็มีข้อดีและข้อเสียเช่นเดียวกับภาษา อื่นซ ซึ่งเราสามารถสรุปได้ดังนี้ ข้อดีบางส่วนของภาษา c มีรูปแบบไวยากรณ์การเขียนโค้ดที้ไม่ยากและเข้าใจได้ง่าย สามารถเรียนรู้ได้ในระยะเวลาอันรวดเร็ว จึงเหมาะที่จะศึกษาเป็นภาษาเริ่มแรก ก่อน ก้าวไปสู่ภาษา อื่นต ต่อไป เช่น c++, c# เป็นต้น  ทำงานได้เร็วกว่าเมื่อเทียบกับภาษา อื่นฯ ถือเป็นจุดเด่นที่สำคัญยิ่งของภาษานี้ มีไลบรารีให้เลือกใช้จำนวนมากและครอบคลุมการทำงานที่สำคัญทั้งหมด รองรับการใช้งานในทุกระบบ เนื่องจากภาษา c เป็นพื้นฐานที่ถูกใช้ในการพัฒนาระบบ ปฏิบัติการทั้งหมดไม่ว่าจะเป็น  unix/linux, windows.,  mac, ios,  android ดังนั้น จึงสามารถนำโค้ดที่เขียนไปใช้กับทุกระบบ ตามคำกล่าวที่ว่า  write once.,  compile everywhere ข้อเสียบางส่วนของภาษา c. ภาษา c เป็นภาษาแบบ procedural (function) ไมใช่ภาษาแบบ oop (object ori- ented programming) จึงอาจเกิดความยุ่งยากต่อการนำไปสร้างเป็นแอปพลิเคชันที่ชับ ซ้อนมากขึ้น เมื่อเทียบกับภาษาที่เป็น oop เช่น c++, c#, java., objective-c เป็นต้น ไม่มีระบบจัดการปัญหา garbage collection หรือส่วนของหน่วยความจำที่ไม่จำเป็น ต้องใช้งานต่อไปอีก อาจทำให้เกิดปัญหาหน่วยความจำเต็ม หรือมีพื้นที่ว่างเหลือไม่พอ ไม่มีวิธีการป้องกันและจัดการข้อผิดพลาด  exception  handling  เหมือนที่มี  ในภาษา อื่นซ จึงอาจทำให้เกิดข้อผิดพลาดในระหว่างรันได้ง่าย ภาษา c. ยังขาดเทคนิคที่จะช่วยให้การเขียนโค้ดนั้นง่ายขึ้น บางอย่างก็ใช้วิธีการที่ ล้าสมัย  ฺถ้าเทียบกับภาษาใหม่าต ที่สร้างขึ้นในภายหลัง เซึ่งส่วนใหญ่จะมีแนวคิดและ  หลักการที่ทันสมัยมากกว่า ทั้งนี้ก็อาจเนื่องมาจากภาษา c. นั้น ถูกสร้างมานานมาก แล้ว และเป็นรากฐานของภาษา อื่น" เอีกหลายภาษา รวมถึงมีหลายมาตรฐาน ดังนั้น การเปลี่ยนแปลงกฎเกณฑ์ต่างๆ จึงทำได้ยาก แในแบบ
--- Page 34 ---
34 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน คำสงวนของภาษา c คำสงวน (reserved words) หรือคีย์เวิร์ด (keywords) เป็นคำสำหรับใช้เป็นคำสั่งเพื่อ  ควบคุมหรือกำหนดวิธีการทำงานในภาษา c ซึ่งเราจะนำคำเหล่านี้ไปตั้งเป็นชื่อตัวแปร หรือฟังก์ชัน ไม่ได้ โดยคำที่ถูกใช้เป็นคำสงวนในภาษา c คือ auto do  signed  unsigned break  double  sizeof  void case  else int  static  volatile  char enum  struct  while  const  extern  register  switch  iniine (c99+)  continue  float return  typedef  restrict (c99+)  default for  short union  bool (c99+) ยังมีคำสงวนอีกบางส่วนที่ถูกเพิ่มเติมเข้ามาในเวอร์ชันหลัง ต แต่เรามักไม่ค่อย  ได้ใช้งานสำหรับการเขียนโปรแกรมทั่ว"ไป กันบ่อยนัก จึงไม่ขอนำมากล่าวถึง โดยวัตถุประสงค์ พอสังเขปสำหรับคำสงวนบางส่วน  มีดังนี้ (รายละเอียดที่ชัดเจนของคำเหล่านี้  เราจะได้เรียนรู้ ในภายหลัง) int, float, char, double., long., bool: ใช้ในการกำหนดชนิดข้อมูลของตัวแปร if., else., switch, case., default.: ใช้ในการกำหนดเงื่อนไขเพื่อตัดสินใจ หรือควบคุม โครงสร้างการทำงานของโปรแกรมนั่นเอง  while., do รูปแบบการวนลูปเพื่อการทำซ้ำ break : ใช้เพื่อหยุดการวนรอบของลูป ฺหรือออกจากเงื่อนไขแบบ switch case void: การส่งค่าเข้าและออกจากฟังก์ชัน  goto  กำหนดตำแหน่งที่จะข้ามไปทำงาน auto, signed, const, extern, register, unsigned, volatile ใช้ร่วมกับการประกาศ ตัวแปรสำหรับกรณีเฉพาะ  return:  สำหรับการส่งค่ากลับออกจากฟังก์ชัน หรือหยุดการทำงานของฟังก์ชัน  continue ให้วนลูปถัดไปทันที โดยไม่ทำคำสั่งที่เหลือภายในลูป  goto  long  นอกจากนี้ for.,
--- Page 35 ---
บทที 2 การเขียนโค้ดภาษา c ในเบื้องต้น 35 enum : สร้างชุดหรือกลุ่มของค่าคงที่ (set of constants)  sizeof: สำหรับการตรวจสอบขนาด  struct., typedef: สร้างชนิดให้กับกลุ่มข้อมูลแบบโครงสร้าง (structures) union: กำหนดกลุ่มตัวแปรที่จะใช้ตำแหน่งและพื้นที่จัดเก็บข้อมูลบนหน่วยความจำ  ร่วมกัน  ทบทวนการสร้างไฟล์ภาษา c ในบทที่แล้ว เราได้ทราบแนวทางการสร้างและทดสอบไฟล์ภาษา c กันไปแล้ว โดยในบทนี้ ก็มีหลายกรณีที่เราต้องเขียนโค้ดตัวอย่าง เพื่อทดสอบการใช้งานควบคู่กันไป  ทั้งนี้  เราจำเป็น ต้องแยกแต่ละตัวอย่างไว้คนละไฟล์ จึงขอนำวิธีการสร้างไฟล์ภาษา c ที่เคยกล่าวไว้ในบทที่แล้ว มากล่าวทบทวนอีกครั้งหนึ่ง ดังนี้  สำหรับตัวอย่างในบทที่ 2 เราจะเก็บไฟล์ทั้งหมดเอาไว้ที่ c:ic-lang ichapter2 ดังนั้น เราจำเป็นต้องสร้างโฟลเดอร์ chapter2 ซ้อนไว้ในโฟลเดอร์ c-lang  ใน vs code ให้เปิดโฟลเดอร์ c:ic-langlchapter2 ที่ได้สร้างเอาไว้ เมื่อต้องการสร้างไฟล์ตัวอย่างสำหรับบทนี้ ก็ file  edi:  selection  view go  คลิกทีไอคอน  new file  แล้วกำหนด:ชื่อไฟล์  exptonen โดยให้มีส่วนขยายเป็น  เท่านั้น เซึ่งในบทนี้  chapter2 - 0  exampla2 3.c  จะตั้งชื่อตัวอย่างต่างๆ  เป็น  example2-1.c, example?- 1r  example2-2.c เป็นเช่นนี้ไปเรื่อยๆ ห  exampie.2-2c  องค์ประกอบของการเขียนโค้ดภาษา c ในเบื้องต้น ไม่ว่าจะเขียนโค้ดเพื่อวัตถุประสงค์ใดก็ตาม ฺเราจำเป็นต้องใช้ข้อกำหนดพื้นฐานของภาษา  เหมือนซ กัน ดังนั้น ก่อนที่เราจะเข้าสู่ขั้นตอนการเขียนโค้ดที่ซับซ้อนมากขึ้นในลำดับต่อ ตไป  ก็ควรรู้จักกับองค์ประกอบของการเขียนโค้ดในเบื้องต้นเอาไว้ล่วงหน้า  เพราะมันคือสิ่งจำเป็นที่ เราต้องนำไปใช้งานอยู่ตลอด โดยจะแยกแต่ละประเด็นที่น่าสนใจออกเป็นหัวข้อต่างๆ ดังต่อไปนี้  คำสัง #include  คำสัง include ในภาษา c จะใช้สำหรับการอ้างถึงไฟล์ภายนอกที่จัดเก็บชุดคำสั่งพิเศษ ที่ ต้องนำเข้ามาใช้งานร่วมกับโค้ดในไฟล์นั้นดังแนวทางในภาพ
--- Page 36 ---
36 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน include  <stdio  stdio.h tincludo znatn.n> zinclude astaing กร nath. h  void rain()  string. h  ทั้งนี้ สาเหตุที่เราต้องอ้างถึงชุดคำสั่งจากไฟล์ภายนอกก็เนื่องจาก ตามปกตินั้น ชุดคำสั่ง ดังกล่าว ไมใช่พื้นฐานที่จำเป็นสำหรับการทำงานทั่วๆไปของภาษา c  แต่อาจใช้ในบางกรณี ดังนั้น เมื่อใดที่จำเป็นต้องใช้ ก็จะอ้างถึงด้วยคำสั่ง include ในรูปแบบดังนี้ #include .<ชื่อไฟล์ .h> หรือ # include ชือไฟล์ .h." กลุ่มไฟล์ที่จัดเก็บชุดคำสั่งพิเศษดังกล่าว เราเรียกว่า เฮดเดอร์ (header) ด้วยเหตุนี้ จึง มีส่วนขยายเป็น .h. ทั้งหมด โดยไฟล์เหล่านี้ เราจะได้เรียนรู้เพิ่มเติมต่อไปเรื่อยตแต่เฮดเดอร์ที่ เราจะได้ใช้งานอยู่บ่อย ไ ก็คือ stdio.h ซึ่งจากที่ผ่านมาจะเห็นว่า เราเขียนโค้ดบรรทัดแรกเป็น # include  <stdio.h> include เป็นคำสงวนของภาษา c ที่ใช้อ้างถึงไฟล์ภายนอกดังที่กล่าวมาแล้ว  โดย ในกรณีนี้ต้องเขียนเครื่องหมาย # กำกับไว้ข้างหน้า เพื่อให้แตกต่างจากคำสั่งทั่วไป  stdio.h คำว่า stdio ย่อมาจาก standard input output ซึ่งเป็นมาตรฐานการรับและ แสดงผลข้อมูลทางจอภาพ เถ้าเราไม่อ้างถึงเฮดเดอร์อันนี้ เมื่อเรียกใช้ฟังก์ชันที่เกี่ยว กับการรับและแสดงผลข้อมูล เช่น puts., gets., printf., scanf และอีกหลายฟังก์ชัน ก็จะเกิดข้อผิดพลาดเมื่อรันทดสอบ ซึ่งเราจะได้เรียนรู้เพิ่มเติมในภายหลัง ถ้าเราติดตั้งตัวแปลภาษา c. ตามวิธีการของหนังสือเล่มนี้ (กล่าวไว้ในบทที่ 1) ตำแหน่ง ของไฟล์เฮดเดอร์ ก็น่าจะอยู่ที่ c:lmingw64|x86_64-w64-mingw32linclude ซึ่งถ้าเราลอง เปิดเข้าไปดูก็จะพบกับไฟล์จำนวนมาก ในลักษณะดังนี้
--- Page 37 ---
บทที 2 การเขียนโค้ดภาษา c ในเบื้องต้น 37 iaclud= ต.วา sงโว amatannaanna  seartn inalude  nama date madingd tdg sing <;ส'-1 ]2/5/2551 39;33: css headar fl= 7k3 stuio 12/5/2561 1939 araderfile 35 /3 .ulib 1413/25611!)39 hadar il3 2a a9 12/5/25611939 cs> hadder ifle !0^9 stier 12/5/2561 19;39 c. heaer fle ำd stiten |2/5/3551 !939: css haaer fla aillods 12/5/2361 1939 cs. haader fle aกา 14[5/2551 10:39 hcadariile !2|3/2561 1939 วอยาเ3 storuic 12/5/2561 19;39 cs l!aader fila storarad 12/5/2561 19,39 c.s naader file stralign |25/2561 19;39 haadeภlง string 12]5/2561 19:39 . zcadar fils 12 a3 เฎ7 ilems การประกาศเฮดเดอร์ ให้เขียนไว้ส่วนหัวของไฟล์ก่อนจะเริ่มต้นโค้ดหลัก  เพื่อให้มันถูก ประมวลผลก่อนส่วนโค้ดที่เราเขียนในลำดับถัดมา ซึ่งตามปกติ ในการเขียนโค้ดที่ซับซ้อนขึ้น เรา  อาจต้องอ้างถึงเฮดเดอร์มากกว่า  อัน โดยใช้หลักการเดิมทั้งหมด เช่น #include <stdio.h> #include  <math.h> #include  <string.h>  ฟังก์ชัน main  ในภาษา c.  (รวมถึงภาษาคอมพิวเตอร์โดยส่วนใหญ่) จะใช้ฟังก์ชันที่ชื่อ  main  เพื่อเป็น จุดเริ่มต้นในการทำงาน เซึ่งความจริงนั้น นอกจากคำว่า main แล้วอาจมีองค์ประกอบอื่นต ฺที่เรา สามารถเขียนเพิ่มเติมร่วมกับคำว่า main ได้ แต่ในเบื้องต้นนี้ จะแนะนำเพียงแบบเดียวไปก่อน นั่นคือ  void  main( )  void เป็นคำสงวนในภาษา c ชึ่งใช้เพื่อบ่งชี้ว่าฟังก์ชันนี้ จะไม่มีการส่งข้อมูลใดต กลับ  ออกไปจากฟังก์ชัน main เป็นชื่อฟังก์ชันหลักของโค้ดโปรแกรมนั้น  ชึ่งเป็นส่วนแรกที่จะถูกเรียกขึ้นมา ทำงาน aotge
--- Page 38 ---
38 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน การกำทินดบล็อกคำสังด้วยวงเล็บ {} การกระทำหรือดำเนินการบางอย่าง เอาจประกอบด้วยคำสั่งย่อย มากกว่า  คำสั่ง และ เพื่อให้เราทราบขอบเขตว่าการกระทำนั้น ประกอบด้วยคำสั่งย่อย1ใดบ้าง ในภาษา c จะใช้วงเล็บ {} เป็นตัวกำหนดขอบเขต โดยนำคำสั่งย่อยต ที่จะดำเนินการต่อเนื่องกันไปตามลำดับมาเขียนไว้ ในวงเล็บ {} ดังรูปแบบต่อไปนี้ คำสั่งที่ คำสั่งที่ คำสั่งที่  แต่ละคำสั่งภายในบล็อก  ควรเยื้องเข้าไปเป็นระยะ  แท็บ โดยให้จุดเริ่มต้นของแต่ละ  บรรทัดอยู่ในแนวเดียวกัน แม้จะไมใช่ข้อบังคับ แต่ก็เป็นสิ่งที่นิยมทำกันทั่วไป เพราะช่วยให้โค้ดนั้น  อ่านง่ายขึ้น ชึ่งจากที่ผ่านมาจะเห็นว่า เราได้กำหนดวงเล็บ {} ต่อท้ายฟังก์ชัน main เพื่อกำหนด คำสั่งย่อยๆ ที่จะดำเนินการ เช่น  void nain( )  กำหนดคำสั่งย่อย1 ไว้ในนี้ การเขียนวงเล็บเปิด เพื่อเริ่มต้นบล็อกคำสั่งนั้น  เราอาจวางไว้ที่บรรทัดถัดไป  หรือจะ เขียนต่อจากท้ายบล็อกในบรรทัดเดียวกันก็ได้ ดังวิธีการต่อไปนี้ วิธีที 1  new line block โดยเขียนวงเล็บเปิด { เพื่อเริ่มต้นบล็อกคำสั่ง ที่บรรทัด ถัดไป เช่น  void  main( ) คาสั่งย่อยๆ
--- Page 39 ---
บทที 2 การเขียนโค้ดภาษา c ในเบื้องต้น 39 วิธีที่ 2  in - line block โดยเขียนวงเล็บเปิด { ต่อท้ายบล็อกในบรรทัดเดียวกัน เช่น void  main( ) คำสั่งย่อยๆ การเขียนโค้ดภาษา c ในยุคแรกต ฺจะนิยมใช้แบบที่ เป็นส่วนใหญ่ เพราะอ่านโค้ดได้ ง่ายกว่า แตในยุคหลังฆ ที่การเขียนโค้ดจะชับซ้อนและยืดยาวมากขึ้นเรื่อยต เราจึงนิยมใช้แบบที่ 2 มากกว่า เพราะใช้พื้นที่ในการเขียนโค้ดน้อยกว่า จึงทำให้โค้ดดูสั้นลง แต่อย่างไรก็ตาม เกณฑ์หรือข้อบังคับว่าเราต้องใช้แบบใด ทั้งนี้ผู้อ่านสามารถใช้แบบใดก็ได้ที่ตนถนัด และสำหรับใน หนังสือเล่มนี้ จะเลือกใช้แบบที่ 2 เป็นหลัก ซึ่งเป็นรูปแบบที่พบเห็นในการใช้งานจริงได้มากกว่า การกำหินดจุดสิ้นสุดคำสั่งด้วยเครื่องหิมาย  คำสั่งต่างๆ ในภาษา c ที่เราเขียน มักใช้เพื่อทำสิ่งใดสิ่งหนึ่งโดยเฉพาะ ดังนั้น เราอาจ ต้องนำคำสั่งย่อยตหลายอันมาใช้งานร่วมกัน เพื่อดำเนินการอย่างใดอย่างหนึ่ง ด้วยเหตุนี้จึงต้องมี  สิ่งที่ใช้ระบุขอบเขตหรือจุดสิ้นสุดในแต่ละคำสั่ง โดยในภาษา c จะใช้เครื่องหมาย semicolon (;) เพื่อกำหนด จุดสิ้นสุดของแต่ละคำสั่ง โดยวางเครื่องหมายนี้ต่อท้ายคำสั่ง เช่น void  main() คำสั่งที่ = เขียนเครื่องหมาย  ปิดท้าย เพื่อบ่งชี้ว่ำ สิ้นสุดคำสั่งที่ คำสั่งที่ 2 ; <= เขียนเครื่องหมาย  ปิดท้าย เพื่อบ่งชี้ว่า สิ้นสุดคำสั่งที่ คำสั่งที่  3 <= เขียนเครื่องหมาย  ปิดท้าย เพื่อบ่งชี้ว่า สิ้นสุดคำสั่งที่ และจากการที่เราระบุเครื่องหมาย ต่อท้าย  เพื่อระบุจุดสิ้นสุดคำสั่ง ดังนั้น จึงสามารถ นำคำสั่งถัดไป ฺมาเขียนต่อเนื่องในบรรทัดเดียวกันได้ เพราะมีเครื่องหมาย เป็นตัวแบ่งหรือบ่งชี้  จุดสิ้นสุดคำสั่งอยู่แล้ว เช่น void  main() คำสั่งที่ คำสั่งที่ 2 ; คำสั่งที่  3 ; ไม่มีกฎ
--- Page 40 ---
40 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน การเขียนคำอธิบายโค้ด (comment) เราสามารถเขียนข้อความแทรกลงในโค้ด เพื่ออธิบาย เกี่ยวกับโค้ดส่วนนั้นพอสังเขป หรือ จะเขียนข้อความในวัตถุประสงค์ อื่นต  ทั้งนี้  เมื่อเราย้อนกลับมาอ่านโค้ดในภายหลัง หรือเมื่อส่ง  โค้ดให้กับคนอื่นฯ ต่อไป  ก็จะอ่านเข้าใจโค้ดส่วนนั้นได้เร็วขึ้น ซึ่งวิธีการเขียนคำอธิบายโค้ดใน ภาษา c นั้น อาจทำแบบใดแบบหนึ่ง ดังนี้ การเขียนคำอธิบายแบบบล็อก (block comment) วิธีนี้ จะกำหนดจุดเริ่มต้นและสิ้นสุดบล็อกด้วยสัญลักษณ์ /* */ ตามลำดับ โดยนับตั้งแต่ สัญลักษณ์ /* เป็นต้นไป จะถือเป็นคำอธิบายทั้งหมด จนกว่าจะเจอสัญลักษณ์ */ จึงจะถือว่าสิ้นสุด คำอธิบาย ดังนั้น เราจึงสามารถเขียนคำอธิบายหลายบรรทัดไว้ในบล็อกเดียวกันได้ เช่น  example2 -o.c c progranning language  written oy  dennis ritchie  void  main( ) main progran puts( "hello  world" );  display nessage puts( " goodbye" ) ; โค้ดบรรทัดนี้ไม่ถูกประมวลผล แม้จะเป็นคำสั่งในภาษา c ก็ตาม เพราะเขียนไว้ใน  block  conment การเขียนคำอธิบายแบบบรรทัด (line comment) คำอธิบายแบบนี้ำ จะใช้สัญลักษณ์ / เป็นตัวกำหนดจุดเริ่มต้น และถือว่าจุดสิ้นสุดบรรทัด (ตำแหน่งที่เรากด <enter> เพื่อขึ้นบรรทัดใหม่) เป็นจุดสิ้นสุดคำอธิบาย นั่นแสดงว่า เราจะเขียน คำอธิบายที่ยาวได้ไม่เกิน บรรทัด และถ้าต้องการเขียนคำอธิบายที่ยาวหลายบรรทัด ต้องกำหนด ด้วยสัญลักษณ์ // ไปทุกบรรทัด เช่น  rexample2  o.c ic programming language awritten by  dennis ritchie
--- Page 41 ---
บทที 2 การเขียนโค้ดภาษา c ในเบื้องต้น 41 void  main( )  inain program puts( " hello  world" ) ; idisplay  nessage iputs( "goodbye" ) /โค้ดบรรทัดนี้ไม่ถูกประมวลผล /แม้จะเป็นคำสั่งในภาษา c ก็ตาม เพราะเขียนตามหลัง line conment การแสดงข้อความในเบื้องตัน  ในการเขียนโค้ดภาษา c นั้น ไม่ว่าจะเป็นการทดสอบหรือเพื่อใช้งานจริง ก็อาจมีกรณีที่ ต้องแสดงข้อความบางอย่างแก่ ผู้ใช้ เซึ่งอาจเป็นข้อความ ทั่วไป การแสดงผลลัพธ์ คำแจ้งเตือน รวมถึงการแสดงข้อผิดพลาดต่างๆ โดยการแสดงข้อความตามที่กล่าวมา อาจเป็นเพียงการแสดง ข้อความแบบง่ายๆ หรืออาจเป็นข้อความที่มีการจัดรูปแบบก็ได้ สำหรับข้อความที่มีการจัดรูปแบบ ที่ซับซ้อนขึ้นจะกล่าวถึงในบทที่ แต่ในบทนี้ จะแนะนำเพียงการเขียนข้อความพื้นฐานธรรมดา ไปก่อน ดังรายละเอียดต่อไปนี้ การแสดงข้อความด้วยฟังก์ชัน puts() วิธีการแสดงข้อความแบบที่ง่ายที่สุดในภาษา c น่าจะเป็นการใช้ฟังก์ชัน puts( ) แบบดังนี้ puts 'ข้อความที่ต้องการแสดง  ฟังก์ชัน  puts( ) อยู่ในกลุ่ม เฮดเดอร์ stdio.h ดังนั้น  เราต้องอ้างอิงเฮดเดอร์นี้ด้วย  #include <stdio.h> เอาไว้ล่วงหน้าเหมือนที่เคยทำมา จึงจะใช้งานฟังก์ชันนี้ได้ ข้อความที่จะแสดงด้วย puts( ) ต้องเขียนไว้ในเครื่องหมายคำพูดแบบ เท่านั้น ถึง จะเป็นตัวเลขก็ต้องเขียนไว้ในเครื่องหมายนี้แเช่นกัน เช่น "123"  ฟังก์ชัน puts( ) แสดงได้เพียงข้อความเดียว ถ้าเราจะแสดงหลายข้อความก็ต้อง  กำหนด:แต่ละข้อความด้วยฟังก์ชัน  puts( )  แยกกัน  หรือใช้ฟังก์ชัน  puts( ) หลาย  ครั้งนั่นเอง  ฟังก์ชัน puts() เป็นการแสดงข้อความ  บรรทัด ดังนั้น เมื่อเราใช้ฟังก์ชัน puts() เพื่อแสดงข้อความครั้งถัดไป มันจะถูกนำไปแสดงหรือขึ้นบรรทัดใหม่โดยอัตโนมัติ  ในรูป
--- Page 42 ---
42 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน ข้อความที่อยู่ในเครื่องหมาย  อันเดียวกัน ต้องเขียนให้จบในบรรทัดเดียวกัน จะแยก บางส่วนไปขึ้นบรรทัดใหม่ไม่ได้ (ความจริงมีวิธีที่ทำได้แต่จะมีปัญหาการเว้นระยะห่าง) ถ้าข้อความนั้นยาวเกินไป ไม่สามารถเขียนจบในบรรทัดเดียวกัน วิธีแก้ปัญหาในเบื้องต้น คือ ให้แยกเป็นข้อความย่อยต แล้วกำหนดไว้ในเครื่องหมาย คนละอัน  สำหรับแนวทางการใช้งาน ให้เราดูจากตัวอย่างต่อไปนี้ ซึ่งวิธีการสร้างไฟล์ตัวอย่าง  ในภาษา c ได้กล่าวเอาไว้แล้ว ตัวอย่าง 2-1 การแสดงข้อความอย่างง่ายด้วยฟังก์ชัน puts( ) #include  <stdio.n>  void  main( ) puts( "c  is real world widely  available  and puts( "c is  siall, efficient,  powerful, and puts( "c has  been  standardized,  portable and c: ic- langichapter2>cd  "c: ic- langlchapter2|" && gcc axan๖le2-1.c exanp1e2-1 er2|"exanp1e2-1 cis rea1 world, widely available  and  popular  ianguage smali efficient, powerful, and  flexible language has been  standardized, วortable and close to ardwana c: ie- langichaวter2> การแสดงข้อความด้วยฟังก์ชัน printf() ตามปกตินั้น  เรามักใช้  printf( ) กับข้อความที่มีการจัดรูปแบบบางอย่าง โดยตัว ที่ เขียนต่อท้ายชื่อฟังก์ชัน ฺมาจากคำว่า format ที่หมายถึงการจัดรูปแบบนั่นเอง แต่อย่างไรก็ตาม ในเบื้องต้นนี้  เราจะใช้ฟังก์ชัน printf() เพื่อแสดงข้อความธรรมดาที่ยังไม่มีการจัดรูปแบบใดฯ เช่นเดียวกับ puts( ) โดยข้อแตกต่างที่สำคัญในเบื้องต้นของ 2 ฟังก์ชันนี้คือ  ฟังก์ชัน puts( ) จะแสดงข้อความโดยขึ้นบรรทัดใหม่โดยอัตโนมัติ  ฟังก์ชัน  printf( ) หากแสดงข้อความแบบธรรมดา  จะแสดงที่บรรทัดเดิมต่อเนื่องไป  เรื่อยๆ
--- Page 43 ---
บทที 2 การเขียนโค้ดภาษา c ในเบื้องต้น 43  สำหรับแนวทางการใช้ฟังก์ชัน printi() ในเบื้องต้น ให้ดูจากตัวอย่างต่อไปนี้ ตัวอย่าง 2-2 การแสดงข้อความอย่างง่ายด้วยฟังก์ชัน printf( ) #include  <stdio.h> void  main() printf( "c is real world., widely avai lable  and printf( "c is a  snal1, efficient,  powerfu1, and printf( "c has been  standardized  portable and c: ic- lang ichapter2>cd "c: ie- langichapter2| && gcc  examp1e2-2 -0  exat31=2-2  && c: le-  -lang ichapter2| example2-2 cis real world, widely available  and  popular  language .c is  small, efficient, powgnful, and flexible language .c nas been  standardized,  portable and slosa ta har duara c: ie- langichapter2>| จากผลลัพธ์จะเห็นได้ว่า printf() จะเขียนข้อความต่อท้ายข้อความเดิมในบรรทัดเดียวกัน ไปเรื่อยต ทั้งนี้ สำหรับวิธีการแก้ไขให้คาสั่ง  printf( )  แสดงข้อความที่บรรทัดใหม่  จะกล่าวถึง ในหัวข้อถัดไป ตัวอย่าง 2-3 การแสดงข้อความด้วยฟังก์ชัน printf( )  #include  <stdio.h> void  main( ) printf("123" printf( printf( "456 prints( printf("579  ie-lang ichapter2>cd "c: ic- langichaater2|" && gcc  exampie2-3.c ie- lang chapter2| examplel-3 123 456 579 c: le langichanter2>
--- Page 44 ---
44 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน อักขระพิเศษสำหิรับขึ้นบรรทัดใหิม่ an) ถ้าเรามีข้อความย่อยตหลายอันที่จะแสดงผล เก็ต้องใช้ฟังก์ชัน puts( หรือ printf( ) ตามจำนวนข้อความจนครบ ดังตัวอย่างที่ผ่านไฺมานั่นเอง ซึ่งการเรียกฟังก์ชันเดิมซ้ำไแบบนี้ถือ เป็นข้อบกพร่องที่เราควรแก้ไข โดยวิธีการที่จะแนะนำในเบื้องต้นคือ การแทรกอักขระพิเศษลงใน ข้อความเพื่อให้เกิดการขึ้นบรรทัดใหม่ โดยไม่จำเป็นต้องใช้ puts( ) หรือ printi( ) ช้ำหลายครั้ง ดังหลักการต่อไปนี้  ให้แทรกอักขระพิเศษคือ in  (หมายถึง  new  line) ลงในข้อความ ณ  ตำแหน่งที่ ต้องการขึ้นบรรทัดใหม่  ในข้อความเดียวกัน  ในเครื่องหมาย เดียวกัน) จะแทรก in ลงไปกี่ครั้งก็ได้ โดย  จะเกิดการขึนบรรทัด ใใหม่ทุกครั้งในตำแหน่งที่เป็นอักขระ  in ความจริงแล้ว อักขระพิเศษที่ขึ้นต้นด้วย ยังมีอีกหลายอัน โดยเราเรียกอักขระพิเศษ ในกลุ่มนี้ว่า escape sequence ซึ่งจะกล่าวรายละเอียดเพิ่มเติมในบทที่ 3 เนืองจากการแทรกอักขระ in  ลงในข้อความ  เป็นเพียงเรื่องง่ายต  จึงขอให้ดูแนวทาง การใช้งานจากตัวอย่างต่อไปนี้ได้เลย ตัวอย่าง 2-4 การแทรกอักขระพิเศษ in ลงในข้อความเพื่อขึ้นบรรทัดใหม่ ne #include  <stdio.h> tuo thaaa four  void  main( ) fiva printf( "onein") ; six seuา printf( "twoin") ; printf( "threein" ) eight printf( " fourin") nina ten printf( "five ins ix inseven in"); puts( " ineight puts(  innine puts( lenin") ช้ำ1
--- Page 45 ---
บทที 2 การเขียนโค้ดภาษา c ในเบื้องต้น 45 ตัวอย่าง 2-5 การแทรกอักขระพิเศษ in ลงในข้อความเดียวกัน (อยู่ในเครื่องหมาย เดียวกัน) เพื่อขึ้นบรรทัดใหม่  #include <stdio.h>  void  main( ) puts( |n1989 :  ansi cin1990: iso cin1999 : c99" ) printf( |n2011 : c11|2017:  c171n2023: c23wn" ) : c: ie-  langichapter 2>cd "c: ic- langichapter2| && gcc axatp-4-1.c exand1e4-1  8& "c: ic-langichapter2 |"example4-1 1989:  aus7 1999:  [$0 1999:  c99 2811: c11 2817: c17 2923 : c23 c:  ie- langlchapter2>  สิ่งที่เราได้เรียนรู้ไนบทนี้  ถึงจะเป็นเพียงพื้นฐานของภาษา c.  ในเบื้องต้น  แต่มันคือสิ่ง  สำคัญที่เราต้องใช้งานกันอยู่ตลอด  โดยการเขียนโค้ดในบทต่อตฺไป  เราจำเป็นต้องนำสิ่งที้ได้ กล่าวถึงในบทนี้ ไปใช้งานร่วมกันแทบทุกกรณี
--- Page 46 ---
 ว ...ง มะ  . . ) [773 เฆ . en . objec 3[0 ช. sele . .. อ a sled selec object to te trror xt airror . as m n. .. ว . 6 operator):  selected nirror  none tot bject
--- Page 47 ---
3 ชนิดข้อมูลและตัวแปร ข้ อมูลแต่ละอย่างที่นำมาใช้งานในการประมวลผลต่าง= ๓ นั้น ต้องตรงกับชนิดใดชนิดหนึ่งที่ ภาษา c รองรับ เนื่องจากวิธีดำเนินการกับข้อมูลแต่ชนิดจะแตกต่างกันออกไป โดยข้อมูล  แต่ละค่า เราต้องสร้างชื่ออ้างอิงให้กับมัน ฺชึ่งเรียกว่า ตัวแปร หรืออาจกล่าวได้ว่า สิ่งที่เกี่ยวข้อง กับข้อมูลแต่ละค่า ก็คือตัวแปรและชนิดข้อมูลของตัวแปรนั้น เพื่อให้ตัวประมวลผลสามารถเลือก วิธีจัดการกับข้อมูลได้อย่างถูกต้อง ดังเนื้อหาที่เราจะได้เรียนรู้กันในบทนี้ ชนิดข้อมูลในภาษา c ข้อมูลต่างๆ ที่เราจะนำมาประมวลผล  จะต้องมีชนิดหรือประเภทที่แน่นอน ทั้งนี้|ก็เพราะ ข้อมูลแต่ละชนิดนั้นจะใช้วิธีจัดการและจัดเก็บที่แตกต่างกัน  โดยในภาษา c. จะแบ่งข้อมูลออก เป็นชนิดย่อยๆ ค่อนข้างมาก ซึ่งเราสามารถจำแนกเป็น 2 กลุ่มหลักต ดังนี้  predefined data type หรือ primitive data type หรือ base type เป็นชนิดข้อมูล แบบพื้นฐานที่ถูกกำหนดมาล่วงหน้าหรือมือยู่แล้วในภาษา c จึงสามารถใช้งานได้ทันที ซึ่งชนิดข้อมูลในกลุ่มนี้ ยังสามารถแบ่งเป็นกลุ่มย่อยต ได้อีก โดยกลุ่มที่น่าสนใจคือ ชนิดเลขจำนวนเต็ม (integer) เช่น short, long เป็นต้น ชนิดเลขทศนิยม (float) เช่น float, double เป็นต้น ชนิด:อักขระ (character) เช่น char ชนิดจริงเท็จ (boolean) เช่น  bool  user defined data type  เป็นชนิดข้อมูลที่ผู้ใช้  (เผู้เขียนโค้ด) กำหนดขึ้นมาเอง เช่น typedef.,  struct เป็นต้น int,
--- Page 48 ---
48 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน โดยส่วนใหญ่ เราจะใช้งานข้อมูลในกลุ่ม predefined เป็นหลัก ส่วนกรณีของ user defined  อาจได้ใช้งานในบางกรณี  สำหรับข้อมูลในกลุ่ม  predefined  ซึ่งแบ่งย่อยออกเป็นชนิดต่างๆ ที่ หลากหลาย โดยในบทนี้  เราจะศึกษารายละเอียดของบางชนิดที่น่าสนใจ  แล้วส่วนที่เหลือก็จะ กล่าวเพิ่มเติมในบทต่อตไป ข้อมูลประเภทเลขจำนวนเต็ม ข้อมูลประเภทเลขจำนวนเต็ม  (integer) จะแบ่งย่อยออกเป็นชนิดย่อยตตามขนาดหรือ  ช่วงตัวเลขที่สามารถจัดเก็บได้ ซึ่งสามารถสรุปได้ดังตารางต่อไปนี้ ชนิด ขนาด ค่าต่ำสด ค่าสูงสุด  short 2-byte -32,768 32,767 int a-byte -2,147,483,648 2,147,483,647 a-byte -2,147,483,648 2,147,483,647  long long 8-byte -9,223,372,036,854,775,808 9,223,372,036.854,775,807  unsigned short a byte 65,535  unsigned int 4-byte 4,294,967,295  unsigned long long 8-byte 18,446.744,073,09,551.615 ค่าตำสุด  (minimum) และค่าสูงสุด  (maximum) เป็นตัวกำหนดขอบเขตของข้อมูล ชนิดนั้น ว่าเราสามารถกำหนดค่าเป็นตัวเลขในช่วงใด ชึ่งหากกำหนดค่าทีไม่อยู่ในช่วง ของมันก็จะเกิดข้อผิดพลาด เช่น ข้อมูลชนิด short ต้องกำหนดค่าในระหว่าง -32,768 ถึง 32,767 เป็นต้น หรือเราจำแบบง่ายจ ดังนี้  short  เก็บค่าได้สูงสุดประมาณ หมื่น (ทั้งค่าบวกและลบ) int และ long  เก็บค่าได้สูงสุดป iระมาณ 2 พันล้าน (ทั้งค่าบวกและลบ) เราสามารถระบุคำว่า signed และ unsigned นำหน้าชนิดข้อมูล ฺซึ่งจะมีความหมาย ดังนี้  signed หมายถึง ข้อมูลนั้นสามารถมี เครื่องหมาย (ลบ) นำหน้า หรือกล่าวได้ว่า  อาจเป็นได้ทั้งค่าบวกและค่าลบนั่นเอง แต่อย่างไรก็ตาม เนื่องจากในกรณีนี้ถือเป็น ลักษณะปกติของเลขทั่วไปอยู่แล้ว ดังนั้น เราไม่จำเป็นต้องเขียน signed กำกับไว้ ข้างหน้าก็ได้ เช่น singed int อาจเขียนสั้นๆ แค่ int เป็นต้น  long
--- Page 49 ---
 บทที 3 | ชนิดข้อมูลและตัวแปร 49  unsigned หมายถึง ข้อมูลแบบไม่มีเครื่องหมายนำหน้า หรือเป็นได้แค่จำนวนเต็ม บวกเท่านั้น และจะเห็นได้ว่า ค่าสูงสุดของข้อมูลในช่วงบวก จะเพิ่มเป็น 2 เท่าจาก ชนิดปกติ (signed) โดยในกรณีนี้เราต้องระบุคำว่า unsigned กำกับข้างหน้าชนิด ข้อมูลเสมอ ทั้งนี้หากระบุแค่คำว่า unsigned จะหมายถึง unsigned int ข้อมูลประเภทเลขทศนิยม ข้อมูลประเภทเลขทศนิยม (float) หรือจำนวนที่สามารถมีทศนิยมได้ จะแบ่งย่อยออกเป็น ชนิดต่างๆ ดังตารางต่อไปนี้ ชนิดข้อมูล ขนาต ค่าต่ำสุด ค่าสูงสุด  float a-byte 3.4e-38 3.4e+38  double 8-byte 1.7e-308 1.7e+308  long double 10 bytes 3.4e-4932 1.1e+4932 ข้อมูลชนิด float สามารถมีทศนิยมได้ ไม่เกิน 6 ตำแหน่ง ข้อมูลชนิด double สามารถมีทศนิยมได้ ไม่เกิน 15 ตำแหน่ง ข้อมูลชนิด long double สามารถมีทศนิยมได้ ไม่เกิน 19 ตำแหน่ง ข้อมูลชนิด double เป็นการขยายขนาดให้เป็น 2 เท่าจากชนิด float ชนิดในกลุ่มนี้ อาจเป็นได้ทั้งค่าบวกและลบ (ไม่สามารถระบุ unsigned กำกับได้) ข้อมูลประเภทอักขระ  คำว่าอักขระ (character) อาจหมายถึง ตัวอักษร a-z (พิมพ์เล็กหรือใหญ่ก็ได้), ตัวเลข 0-9 หรืออักขระอื่น1 เช่น "'@', $' )*! '%' # เป็นต้น  แต่ ต้องเป็นอักขระเพียงตัวเดียว เท่านั้น โดยข้อมูลชนิดอักขระจะกำหนดด้วยคำต่อไปนี้ ชนิดซ้อมูล ขนาค ค่าตำสุด ค่าสูงสุด char 1 byte -128 127  unsigned char 1byte 255 ข้อมูลทั้ง
--- Page 50 ---
50 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน ข้อมูลประเภทอักขระจะถูกจัดเก็บและจัดการในแบบรหัส ascii (american  standard code for information interchange) ไม่ใช่การเก็บอักขระตัวนั้นโดยตรง โดยอักขระแต่ละตัวจะ มีรหัสของมันเอง เช่น a (65), (97), c (67), $ (36) เป็นต้น ตัวอย่างรหัส ascii ของอักขระ บางส่วนเป็นดังตารางต่อไปนี้ รหัส  อักขระ รหัส  อักขระ รหัส อักขระ 33 48 91 34 49 92 35 93 36 57 94 37 % 58 95 38 59 96 39  6o 97 4d 61 98 41 62 42 63 122 43 64 123 44 65 124 45 66 125 46 126 47 9o 127 del  สำหรับรายละเอียดเพิ่มเติมเกี่ยวกับข้อมูลชนิดอักขระ เราจะได้เรียนรู้เพิ่มเติมในลำดับต่อไป หมายเหตุ นอกจากที่กล่าวมาแล้ว ในกลุ่ม predefined type เก็ยังชนิดข้อมูลอื่น" อีก  เช่น void, bool  ซึ่งเรายังไม่จำเป็นต้องใช้สำหรับการเรียนรู้ไนช่วงบทแรกซ จึงขอนำไปกล่าวร่วมกับบทที่เกี่ยวข้อง กับข้อมูลชนิดนี้โดยตรง ฺชึ่งในบทนี้จะกล่าวถึงเฉพาะชนิดข้อมูลที่จำเป็นต้องใช้ประกอบการเรียนรู้ ในเบื้องต้นไปก่อน
--- Page 51 ---
 บทที 3 | ชนิดข้อมูลและตัวแปร 51 ลักษณะของตัวแปรไนภาษา c ในการเขียนโปรแกรม  ฺเราจำเป็นต้องใช้ข้อมูลหลายอย่างร่วมกัน ซึ่งข้อมูลแต่ละอย่าง จะต้องมีชื่อในการอ้างอิง โดยเราจะเรียกชื่อที่ใช้สำหรับการอ้างอิงข้อมูลว่า ตัวแปร (variable) หรืออาจกล่าวได้ว่า ตัวแปร เก็ชื่อตำแหน่งที่ใช้จัดเก็บและอ้างถึงข้อมูล  ทั้งนี้  การตั้งชื่อตัวแปร  จะต้องเป็นไปตามหลักการหรือข้อกำหนดของภาษา c มิฉะนั้น  อาจเกิดข้อผิดพลาดขึ้นได้ ดังนี้ ชื่อตัวแปร ต้องประกอบด้วยตัวอักษร a-z, a z เลข 0-9 หรือเครื่องหมาย  (underscore) เท่านั้น จะมีอักขระอื่น1 นอกเหนือจากนี้รวมอยู่ด้วยไม่ได้ ชื่อตัวแปรจะขึ้นต้น (เอักขระตัวแรก) ด้วยตัวเลขไม่ได้ (แต่อาจมีตัวเลขอยู่ในตำแหน่ง ที้ไม่ใช่ตัวแรกได้) ต้องไม่ช้ำกับคำสงวน (reserved words) ของภาษา c การเขียนด้วยตัวพิมพ์ในรูปแบบที่ต่างกัน ถือว่าไม่เหมือนกันแม้จะเป็นคำเดียวกันก็ตาม เช่น การเขียนเป็น value., value., value ไม่ถือว่าซ้ำกัน (ไมใช่ตัวแปรเดียวกัน) ชื่อตัวแปรในภาษา c เรานิยมเขียนเป็นตัวพิมพ์เล็กทั้งหมด (แต่ไม่ใช่ข้อบังคับ) ถ้านำหลายๆ  คำมารวมกันเป็นชื่อตัวแปร ตามแนวทางที่ใช้กันส่วนใหญ่ในภาษา c. เรานิยมเชื่อมแต่ละคำด้วยเครื่องหมาย underscore (_) ชึ่งจะอ่านได้ง่ายกว่าการเขียน ติดกัน เช่น first_value., user_name., of_week (แต่ไมใช่ข้อบังคับ) ลักษณะการตั้งชื่อตัวแปรที่ ถูกต้อง  string2number  value v3_beta2  firstname  core_i_7  priceperunit ax x_ num1 _x_  grand_ total  void (ตัวพิมพ์ต่างจาก resewved word)  freediskspace  อื่น1  day
--- Page 52 ---
52 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน ลักษณะการตั้งชื่อตัวแปรที่ ไม่ถูกต้อง  price$ เพราะมีอักขระ $ 3x เพราะขึ้นต้นด้วยตัวเลข auto เพราะช้ำกับคีย์เวิร์ด date-  month year เพราะมี เครื่องหมาย  lucky number เพราะมีช่องว่าง การประกาศตัวแปร ก่อนที่เราจะนำตัวแปรไปใช้งานได้ จำเป็นต้องประกาศตัวแปรนั้นขึ้นมาก่อน  ทั้งนี้|ก็เพื่อ จองพื้นที่บนหน่วยความจำสำหรับจัดเก็บข้อมูลนั่นเอง  ดังนั้น  เราจำเป็นต้องระบุชนิดข้อมูลที่ จัดเก็บด้วยตัวแปรนั้นลงไปด้วย ดังรูปแบบต่อไปนี้ ชนิดข้อมูล  ฺชื่อตัวแปร; ชนิดข้อมูล เก็เลือกใช้ชนิดใดชนิดหนึ่งตามลักษณะของข้อมูลที่เราจะจัดเก็บ เช่น int.,  float., char เป็นต้น ชื่อตัวแปร ก็กำหนดตามหลักการที่ได้กล่าวมาแล้ว  แนวทางการประกาศตัวแปร เช่น int x; int y;  long  distance_from_earth_to_mar  float f:  char ch:  double lat itude; เราจะสร้างหรือประกาศตัวแปรซ้ำซ้อนกัน (เชื่อเดียวกัน) ไม่ได้  แม้จะกำหนดชนิดข้อมูล ต่างกันก็ตาม ฺเช่น กรณีต่อไปนี้ จะเกิดข้อผิดพลาดทั้งหมด int x; int  x; ferror เพราะชื่อตัวแปรช้ำกัน  float x; ierror เพราะชื่อตัวแปรช้ำก้น
--- Page 53 ---
 บทที 3 | ชนิดข้อมูลและตัวแปร 53  กกรณีที่เราจะประกาศตัวแปรหลายตฺตัว ให้มีชนิดข้อมูลเดียวกัน สามารถนำมาเขียนรวม  ในคาสั่งเดียวกัน โดยระบุชนิดข้อมูลเพียงครั้งเดียว ในรูปแบบดังนี้ ชื่อตัวแปร 1,  เชื่อตัวแปร ชื่อตัวแปร_3  ชนิดข้อมูล ก็กำหนดตามหลักการเดิม แต่เขียนเพียงครั้งเดียว เราจะกำหนดตัวแปรจำนวนกี่ตัวก็ได้ โดยคั่นแต่ละตัวด้วยเครื่องหมาย comma ( แนวทางการประกาศตัวแปรแบบใช้ชนิดข้อมูลร่วมกัน เช่น int ทนา1 nun2 nun3 ; /ตัวแปรทั้งหมดเปินชนิด  int  float  sum,  average; /ตัวแปรทั้งหมดเป็นชนิด  float  double latitude  iongitude /ตัวแปรทั้งหมดเป็นชนิด  double char letter1  letter2 char1  char2 ,  char3; /เขียนแยกบรรทัดก็ได้ การกำทินดค่าให้กับตัวแปร ตัวแปรที่เราประกาศขึ้นมาดังหัวข้อที่แล้ว จะเป็นตัวแปรแบบว่างเปล่า หรือไม่ได้จัดเก็บ ข้อมูลใดต นั่นเอง  ทั้งนี้หลังการประกาศตัวแปร  เราต้องกำหนดค่าให้กับมันก่อนจึงจะใช้งานได้ โดยรูปแบบพื้นฐานทั่วไปของการกำหนดค่าให้กับตัวแปรคือ ชื่อตัวแปร  ค่าที่กำหนด ; โดยการกำหนดค่าให้กับตัวแปรนี้ จะต้องทำหลังจากที้ได้ประกาศเอาไว้แล้วเท่านั้น  ส่วน  ค่าที่กำหนดมีหลักการพื้นฐานดังนี้ ต้องสอดคล้องกับชนิดข้อมูลของตัวแปร ถ้าเป็นชนิดตัวเลข เช่น int., short., long., float., double ให้เขียนตัวเลขนั้นลงไปโดยตรง ถ้าเป็นชนิด char ให้เขียนอักขระไว้ในเครื่องหมาย เท่านั้น กรณีที่เป็นชนิดตัวเลข  ต้องอยู่ในช่วงที่เป็นไปได้(อยู่ภายในช่วงค่าตำสุดและสูงสุด ของข้อมูลชนิดนั้น)  ค่าที่กำหนดให้แก่ตัวแปร สามารถเปลี่ยนแปลงแก้ไขในภายหลังได้ ชนิดข้อมูล
--- Page 54 ---
54 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน  แนวทางการกำหนดค่าให้กับตัวแปร เช่น int  quantity;  quantity 10 :  float  price; price 199 . 50 ;  char grade:  grade ลักษณะการกำหนดค่าให้กับตัวแปรที่ผิดพลาด int a; 1. 50 ;  ierror  เพราะตัวแปร เป็นชนิด  int /จึงต้องกำหนดค่าที่เป็นจำนวนเต็ม  short b; 1000000 ;  ferror เพราะ b  เป็นชนิด  short /ชึ่งต้องมีค่าระหว่าง 32768  ถึง 32767  char c.; z; ferror "7" ferror /ต้องเขียนอักขระไว้ไนเครื่องหมาย อย่างไรก็ตามฺ ฺหากเราทราบค่าที่จะกำหนดให้กับตัวแปรอยู่แล้วในขณะนั้น อาจลดขั้นตอน  ให้สั้นลง โดยประกาศตัวแปรแล้วกำหนดค่าให้กับมันในคาสั่งเดียวกันดังรูปแบบต่อไปนี้ ชนิดข้อมูล ฺชื่อตัวแปร ค่าที่กำหนด ; แนวทางการประกาศและกำหนดค่าตัวแปรในคำสั่งเดียวกัน เช่น int  quantity 10 :  float  price 199 . 50 ;  char grade  short ni 1oo :  short  n2 n1: /น่าค่าตัวแปร n1 มากำหนดให้ n2
--- Page 55 ---
 บทที 3 | ชนิดข้อมูลและตัวแปร 55 ถ้าเราประกาศตัวแปรหลายตัวในรูปแบบการใช้ชนิดข้อมูลร่วมกัน ภก็สามารถกำหนดค่า แบบต่อเนื่องในรูปแบบดังนี้ ชื่อตัวแปร  ค่าทีกำหนด ชื่อตัวแปร_2  ค่าทีกำหนด  ประกาศตัวแปรหลายตัวโดยใช้ชนิดข้อมูลร่วมกัน พร้อมกำหนดค่าให้กับมันไปพร้อมศกัน เช่น  int 1o, 20 30 ;  float 10.25 , y 11 . 50 12.75 :  char first= s.  second= b" third= " i'  เราอาจกำหนดค่าให้กับตัวแปรเพียงบางตัว แต่บางตัวอาจแค่ประกาศชื่อไว้ก่อนแล้วค่อย  กำหนดค่าในภายหลังก็ได้ เช่น int 1o, b. 30 ;  float  ix, y. 12 .75; ในกรณีที่เราจะกำหนดค่าเดียวกันให้กับตัวแปรหลายตตัว หรือให้ตัวแปรเหล่านั้นมีค่า เดียวกัน อาจกำหนดค่าแบบต่อเนื่องโดยระบุค่าเพียงครั้งเดียวที่ด้านขวาสุด ดังแนวทางต่อไปนี้ int x. y. 7 : y 10 : ตัวแปรทั้งหมดมีค่าเป็น  1o ที่กล่าวมาทั้งหมดเป็นการกำหนดค่าแบบพื้นฐานทั่วไป แต่อย่างไรก็ตาม เนื่องจากเราต้อง กำหนดชนิดข้อมูลให้กับตัวแปร และข้อมูลแต่ละชนิดก็จะมีลักษณะปลีกย่อยเฉพาะตัวบางอย่างที่  แตกต่างกัน ดังนั้น เราจะได้เรียนรู้เพิ่มเติมเกี่ยวกับข้อมูลแต่ละชนิดกันไปเรื่อยๆ พื้นฐานการแปลงชนิดข้อมูล ในการประกาศตัวแปรนั้น เราต้องระบุชนิดข้อมูลที่จะจัดเก็บด้วยตัวแปรนั้นลงไปด้วย ดัง ที่เราได้เรียนรู้มาแล้ว อย่างไรก็ตาม เนื่องจากข้อมูลแต่ละชนิดมีขนาดหรือขอบเขตที่แตกต่างกัน  ทั้งนี้ หากเราจัดเรียงตามขนาดจากเล็กไปใหญ่ก็จะได้เป็นดังนี้  short > int >  float > double ชนิดข้อมูล  long
--- Page 56 ---
56 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน โดยข้อกำหนดพื้นฐานที่เราได้เรียนรู้มาก็คือ  ต้องกำหนดค่าให้สอดคล้องกับชนิดข้อมูล ของตัวแปร มิฉะนั้นอาจเกิดข้อผิดพลาด  แต่อย่างไรก็ตาม ฺในภาษา c นั้น มีกลไกที่ช่วยในการ แปลง ชนิดข้อมูลจากอีกชนิดหนึ่งไปเป็นอึกชนิดหนึ่งได้ หรือที่เรียกว่า type  conversion  โดย แบ่งเป็น 2 รูปแบบคือ implicit conversion และ explicit conversion ดังรายละเอียดต่อไปนี้  double  hoat  implicit ilong  explicit  conversion int  conversion  (widening)  (narrowing)  sholt  implicit conversion  implicit  conversion  หรือ widening  conversion เป็นการแปลงจากชนิดข้อมูลที่มี ขนาดเล็กกว่า ไปเป็นชนิดที่มีขนาดใหญ่กว่า เช่น แปลงจาก short => int หรือจาก int => long เป็นต้น  เชึ่งสามารถทำได้โดยอัตโนมัติ  และไม่จำเป็นต้องอาศัยการกระทำใดต  เข้ามาช่วย เชึ่ง  ก็เปรียบเสมือนการนำสิ่งของขนาดเล็ก ไปจัดเก็บในภาชนะที่มีขนาดใหญ่กว่า ย่อมทำได้โดย ธรรมชาติอยู่แล้ว เช่น  short 100;  int a:  iinplicit conversion  short 1000 ;  long y x: iiinplicit conversion  float 123 .45f ;  double f;  iimplicit conversion  explicit conversion  explicit  conversion หรือ  narrowing  conversion  เป็นการแปลงจากชนิดข้อมูลที่มี ขนาดใหญ่กว่าไปเป็นชนิดที่มีขนาดเล็กกว่า เช่น แปลงจาก long => int หรือจาก double => เป็นต้น โดยเหตุผลที่ต้องทำเช่นนี้ มักเกิดจากกรณีที่เราต้องนำค่าที่มีชนิดข้อมูลใหญ่กว่า ไปกำหนด  int
--- Page 57 ---
 บทที 3 | ชนิดข้อมูลและตัวแปร 57 ให้กับตัวแปรที่มีชนิดข้อมูลเล็กกว่า จึงเปรียบเสมือนการนำสิ่งของที่มีขนาดใหญ่ ไปใส่ลงในภาชนะ ที่มีขนาดเล็กกว่า ย่อมทำไมได้โดยวิธีการแบบปกติ แต่ในภาษา c มีวิธีการที่ช่วยแก้ปบัญหานี้ได้ โดยใช้การกระทำที่เรียกว่า การคาสต์ (cast) เข้ามาช่วย ในรูปแบบต่อไปนี้ ไชนิดข้อมูล )ค่าที่ต้องการแปลง ชนิดข้อมูลเป้าหมายของการแปลง ต้องเขียนไว้ในวงเล็บ ( ) ต้องวางชนิดข้อมูล ไว้ข้างหน้าค่าของข้อมูลที่ต้องการแปลง ถ้าเราแปลงจากจำนวนที่มีทศนิยมไปเป็นจำนวนเต็ม ส่วนทศนิยมฉะถูกตัดทิ้งเหลือแค่ จำนวนเต็ม แต่ถ้าแปลงจากชนิดจำนวนเต็มเป็นทศนิยม ฺก็จะมี .0 ต่อท้าย เช่น  double 123.45;  int (int )d; ifi 123  short 123;  float  d  (float ya; /b 123 อย่างไรก็ตาม ฺสิ่งที่เราอาจนำมาพิจารณาด้วยก็คือขอบเขตของข้อมูลแต่ละชนิด ทั้งนี้หาก ข้อมูลเดิมมีค่าเกินขอบเขตของชนิดข้อมูลปลายทางที่เราจะคาสต์ก็อาจได้ผลลัพธ์ที่ผิดพลาด เช่น กรณีต่อไปนี้  int  value1 1234567 :  short  vatue2  fshort )value1 /ไม่เกิดข้อผิดพลาด แต่ได้ผลลัพธ์ที่ไม่ตรงตามคาดหวัง /เพราะข้อมูลชนิด short  ต้องมีค่าระหว่าง 32768  ถึง 32767 การแปลงข้อมูลโดยวิธีการคาสต์  จะมีประโยชน์เมื่อเราต้องนำไปใช้ร่วมกับการคำนวณ ที่มีข้อมูลหลายชนิดร่วมกัน ซึ่งเราจะได้เรียนรู้ไนบทที่  5 โดยในบทนี้ เพียงแค่แนะนำให้รู้จักกับ หลักการในเบื้องต้นเอาไว้ล่วงหน้าเท่านั้น  ค่าคงที่ เป็นการจัดเก็บข้อมูลในอีกลักษณะหนึ่งที่เราต้องใช้ค่าใดค่าหนึ่งไปตลอด  จะ เปลี่ยนแปลงแก้ไขไม่ได้ (ต่างจากตัวแปร ที่เราสามารถแก้ไขค่าของมันได้ตลอด) โดยการสร้างค่า  คงที่ในภาษา c สามารถทำได้ 2 วิธีคือ การใข้คำสั่ง const และ define ดังรายละเอียดต่อไปนี้  ค่าคงที่
--- Page 58 ---
58 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน การกำทินดค่าคงที่ด้วยคำสั่ง const const (มาจากคำว่า constant) จัดเป็นคำสงวนอีกอันหนึ่งของภาษา c ใช้สำหรับกำหนด  ค่าคงที่ในรูปแบบดังนี้  const ชนิดข้อมูล เชื่อค่าคงที่  ค่าที่กำหนด ต้องระบุคำว่า const นำหน้าเพื่อบ่งชี้ว่าเป็นค่าคงที่ ต้องกำหนดชนิดข้อมูลเช่นเดียวกับการประกาศตัวแปร การตั้งชื่อค่าคงที่ใช้หลักเกณฑ์เดียวกับการตั้งชื่อตัวแปร และโดยทั่วไปเรานิยมตั้งชื่อ  ค่าคงที่โดยเขียนเป็นตัวพิมพ์ใหญ่ทั้งหมด (แต่ไมใช่ข้อบังคับ) เช่น pl, vat, max  value เป็นต้น ทั้งนี้ก็เพื่อให้ต่างจากตัวแปรนั่นเอง ต้องกำหนดค่าให้กับมันในขั้นตอนการประกาศทันที จะกำหนดค่าในภายหลังเหมือน กับตัวแปรไม่ได้ และค่าที่กำหนดต้องสอดคล้องกับชนิดข้อมูลเช่นเดียวกับตัวแปร  เราไม่สามารถแก้ไขค่าคงที่ในภายหลังได้ (เต้องใช้ค่านั้นไปตลอด) แนวทางการกำหนดค่าคงที่ด้วย const เช่น  const  float pi 3.141  const  short  maxtmum 500 ;  const int sirst valu= last val uf 100 ;  const  double lat -1.23456 ,  lon 100. 001234 :  const char letter ลักษณะการกำหนดค่าคงที่ที่ไม่ถูกต้อง เช่น  const  float pi ; pi 3. 141  ferror  ต้องกำหนดค่าในขั้นตอนการประกาศ /จะกำหนดค่าในภายหลังไม่ได้  const  short  maximum 500 ;  max imum 1000 ;  ferror จะแก้ไขค่าในภายหลังไม่ได้ การกำหินดค่าคงที่ด้วยคำสั่ง define  define  เป็นคำสงวนอีกอันหนึ่งของภาษา c ซึ่งในการสร้างนิยาม  ฺหรือข้อกำหนดบาง อย่าง  (เรียกว่า มาโคร) รวมถึงการสร้างค่าคงที่ก็เช่นเดียวกัน โดยในที่นี้จะกล่าวถึงเฉพาะกรณี
--- Page 59 ---
 บทที 3 | ชนิดข้อมูลและตัวแปร 59 การกำหนดค่าคงที่เท่านั้น ส่วนในการใช้ define สำหรับกรณีการกำหนดมาโครจะกล่าวถึงในบทที่ 15 โดยการสร้างค่าคงที่ด้วย define จะใช้รูปแบบดังนี้  #define  ชื่อค่าคงที่ ค่าที่กำหนด  #define  เป็นการบ่งชี้ว่าเราจะใช้กำหนดค่าคงที่  โดยต้องมีเครื่องหมาย  กำกับที่ ข้างหน้า define (ลักษณะเช่นนี้เรียกว่า preprocessor  ซึ่งจะได้เรียนรู้ไนบทที่ 15) ไม่ ต้องระบุชนิดข้อมูล การตั้งชื่อค่าคงที่ ก็ใช้หลักการเดิม (คล้ายกับ const) ไม่ ต้องใช้เครื่องหมาย  เพื่อกำหนดค่า ก่อนกำหนดค่า ให้เว้นช่องว่างอย่างน้อย ช่อง  ค่าที่กำหนดจะเป็นข้อมูลชนิดใดก็ได้ แม้กระทั่งสตริง(เข้อความ) โดยหากเป็นข้อมูล ชนิดตัวเลขหรืออักขระ ก็ใช้หลักการเดิม  แต่หากเป็นสตริง(อักขระมากกว่า  ให้กำหนดด้วยเครื่องหมาย เท่านั้น ไม่ ต้องใช้เครื่องหมาย เพือปิดท้ายคำสัง โดยทั่วไปการกำหนดคงที่ด้วย define มักนำไปใช้ร่วมกันตลอดทั้งโปรแกรม เดังนั้น เรา นิยมกำหนดไว้ก่อนฟังก์ชัน main() หรือถัดจากส่วน include นันเอง แต่ไมใช่ข้อบังคับ เนื่องจากในกรณีนี้` เราไมได้กำหนดชนิดข้อมูลของค่าคงที่แต่ชนิดข้อมูลจะขึ้นกับค่าที่ เรากำหนดให้กับมัน เช่น ฺถ้าเรากำหนดเป็นเลขจำนวนเต็ม เค่าคงที่นั้นภก็อาจเป็นชนิด int  ชึ่งมันจะส่งผลเมื่อเรานำค่าคงที่นั้นไปใช้งาน ทั้งนี้หากไม่สอดคล้องกับชนิดข้อมูล ที่มันจัดเก็บเอาไว้ ก็อาจเกิดข้อผิดพลาดขึ้นได้  แนวทางการกำหนดค่าคงที่ด้วยคำสั่ง define เช่น  #include  stdio.h>  #define pi 3 .14159  #define  lucky_ number 13  #define  letter c.  #define  procram_ name "business  managenent  #define  verston "1 void  main( ) ตัว)
--- Page 60 ---
6o การเขียนโปรแกรมกาษา c ขั้นพืนฐาน แนวทางการกำหนดค่าคงที่ด้วยคำสั่ง define ที่ไม่ถูกต้อง เช่น  #define  float pi3.14159 ierror ไม่ต้องระบุชนิดข้อมูล  #define  lucky_ nunber 13 ierror ไม่ต้องใช้เครื่องหมาย  rdefine letter c  zerror ไม่ต้องปิดท้ายด้วย  #define  procram_name /error ต้องกำหนดค่าให้มันทันที  สิ่งสำคัญที่เราได้เรียนรู้ไนบทนี้ก็คือ ชนิดข้อมูลพื้นฐานในภาษา c และขอบเขตของมัน พร้อมกับการนำชนิดข้อมูลเหล่านั้นมาใช้ในการประกาศตัวแปร  รวมถึงการกำหนดค่าให้กับมัน ชึ่งสิ่งเหล่านี้ต้องสอดคล้องกัน  เช่น  หากเป็นตัวแปรชนิด  short  ก็ต้องกำหนดค่าที่เป็นเลข  จำนวนเต็ม  ที่อยู่ระหว่าง -32768 ถึง 32767  เป็นต้น  ตลอดจนการสร้างค่าคงที่ด้วย  const และ  define ที่จะต้องใช้ค่านั้นไปตลอด  จะเปลี่ยนแปลงในภายหลังไม่ได้ ซึ่งทั้งหมดนี้ถือเป็น หลักการที่เราต้องคำนึงถึงและนำไปใช้งานอยู่ตลอดในการเขียนโค้ดภาษา c
--- Page 61 ---
 สตริง ฺกาธรธับและแสดงผลข้อมูล นบทนี้สิ่งที่เราจะได้เรียนรู้คือ ข้อมูลชนิดอักขระ สตริง รวมถึงการรับและแสดงผลข้อมูล ในลักษณะต่างๆ ชึ่งถือเป็นพื้นฐานที่สำคัญยิ่งของภาษา c  เพราะสตริงเป็นข้อมูลหลัก ที่ถูกใช้งานบ่อยที่สุด และการแสดงผลก็ต้องทำควบคู่กันไปตลอด ดังนั้น เราควรศึกษาทั้ง 2 เรื่องนี้  ให้เกิดความเข้าใจที่ดีพอในระดับหนึ่ง มิฉะนั้นอาจเกิดปัญหาในการเรียนรู้เรื่องต่อตไปได้  อักขระและสตริง  เราได้ทราบไปแล้วว่า ข้อมูลชนิด char จะจัดเก็บอักขระเพียงตัวเดียว โดยกำหนดอักขระ ไว้ในเครื่องหมาย เท่านั้น เช่น char letter1 char letter2 "c" char nl  in" i*  in จัดเป็นอักขระ ตัว * หากเราต้องการแสดงข้อมูลชนิดอักขระ วิธีที่ง่ายที่สุดคือใช้ฟังก์ชัน putchar() ทั้งนี้ เรา จะใช้ฟังก์ชัน puts() ไม่ได้ และหากจะใช้ printi( ) เต้องมีการจัดรูปแบบซึ่งจะกล่าวถึงในภายหลัง โดยแนวทางการแสดงอักขระด้วยฟังก์ชัน putchar( ) เช่น char  vowe11 ya  char  vowe12 e putchar  vowe11) putchar(  in") ขึ้นบรรทัดใหม่ putchar( vowe12 ) puts( vowel1) /error printf( vowe12 ) ; /error {เต้องจัดรูปแบบ )
--- Page 62 ---
62 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน อย่างไรก็ตาม ฺในการใช้งานจริงนั้น ข้อมูลส่วนใหญ่มักประกอบด้วยอักขระมากกว่า ตัว ที่จัดเรียงต่อเนื่องกันในรูปแบบของข้อความหรือสตริง (string) แต่ในภาษา c. ไม่มีชนิดข้อมูล  สำหรับใช้กับสตริงโดยตรงเหมือนที่มีในหลายฺๆ ภาษา โดยเราต้องจัดการสตริงบนพื้นฐานของ ข้อมูลชนิด char ตามหลักการที่ว่า สตริง เปินการนำอักขระมาจัดเรียงต่อเนื่องกันไปตามลำดับ  หรือกล่าวอีกอย่างได้ว่า  สตริง ข้อมูลชนิด:อักขระ เช่น  คำว่า thail and หรือ w.  hello world เกิดจากการนำอักขระมาจัดเรียงต่อ เนื่องกันดังภาพ ความจริงแล้ว  ชุดข้อมูลที่มีการจัดเรียงตามลำดับดังกล่าว เราเรียกว่า อาร์เรย์ ( array) ซึ่ง เป็นเนื้อหาของบทที่ 10 แต่หากกล่าวถึงในแบบอาร์เรย์ ก็เกรงว่าผู้อ่านจะสับสน ดังนั้น ฺจะแทน ด้วยคำว่า  'ชุดข้อมูล" ไปก่อน โดยใช้พื้นฐานเพียงบางส่วนของอาร์เรย์เท่านั้น เชึ่งในภาษา c จะ  จัดการกับข้อมูลประเภทสตริงในแบบชุดอักขระ ด้วยวิธีการดังต่อไปนี้ สร้างตัวแปร โดยระบุชนิดข้อมูลเป็น char เพราะเป็นอาร์เรย์ของอักขระ กำหนดตัวแปร พร้อมขนาด (จำนวนอักขระ) ที่มีได้สูงสุดสำหรับสตริงที่จะจัดเก็บใน ตัวแปรนั้น โดยระบุตัวเลขไว้ในวงเล็บ [] ต่อท้ายชื่อตัวแปร เพื่อเป็นการจองพื้นที่ใน การจัดเก็บข้อมูล ต้องกำหนดค่าที่เป็นสตริง( ใช้เครื่องหมาย ") ให้กับตัวแปรในขั้นตอนประกาศทันที  จะกำหนดค่าในภายหลังไม่ได้  char  name[30]  john  snith"  char address[150]  london  uk  char  enai1[80]  johncexample. com career[30]  "programmer ถ้าเราไม่ต้องการระบุขนาดหรือจำนวนอักขระไว้แบบตายตัว ยังมีวิธีที่ยืดหยุ่นกว่าคือ ไม่ต้องกำหนดตัวเลขลงไป  โดยให้มีเพียงวงเล็บ  [l ซึ่งกรณีนี้ เราจะกำหนด  สตริงที่มีความยาวเท่าไหร่ก็ได้ เช่น  char  name( ]  john  snith"  char  address[ ] " london  uk  char  enaill]  johncexample con career l] "progranmer" คือชุด  ว่างๆ
--- Page 63 ---
 บทที 4 สตรึง การรับและแสดงผลข้อมูล 63  นอกจากจะต้องกำหนดค่าในขันตอนการประกาศแล้ว เรายังไม่สามารถแก้ไขค่า  ในภายหลังได้อีกด้วย (เนื่องจากสตริงเป็นอาร์เรย์ ถ้าจะแก้ไขต้องใช้วิธีการแบบ  อาร์เรย์) นอกจากนี้กึยังไม่สามารถนำค่าจากตัวแปรหนึ่งไปกำหนดให้กับตัวแปรหนึ่ง  อีกด้วย(ให้ใช้ฟังก์ชัน strcpy( ) ทีจะกล่าวถึงในหัวข้อถัดไป) เช่น char text[100] : text  hello  world"  ferror  ต้องกำหนดค่า /ในขั้นตอนการประกาศ char  nessage[200]  sawasdee thai people"  message  he1lo  thai people" ferror  แก้ไขค่าสตริงไม่ได้ char str1[] "i can c"  char str2[] st^1: /error ใช้ strcpy( ) แทม ลักษณะการจัดเก็บข้อมูลที่แท้จริงของตัวแปรในแบบชุดอักขระคือ จะจัดเรียงอักขระ ต่อเนื่องกันไปตามลำดับ  และปิดท้ายด้วยสัญลักษณ์ '|0' เพื่อบ่งชี้ว่าเป็นจุดสิ้นสุด สตริง แต่อักขระตัวปิดท้ายนี้ ตัวแปลภาษาจะใส่ให้เราเอง โดยที่เราจะมองไม่เห็นมัน ถ้าเราระบุตัวเลขในวงเล็บ []  แสดงว่า จำนวนอักขระสูงสุดที่ตัวนั้นจัดเก็บในตัวแปร นั้นได้เท่ากับ (ตัวเลขที่ระบุ 1) h. a il a  n d !0 เนื่องจากตำแหน่งสุดท้ายต้อง wo l0  ใช้เก็บ ld เช่น char name[50] '/จะเก็บได้สูงสุด 49  อักขระ  char address[200] '/จะเก็บได้สูงสุด 199  อักขระ  char  emai1[101] '/จะเก็บได้สูงสุด 1oo  อักขระ หากเรากำหนดขนาดหรือจำนวนอักขระไว้ในวงเล็บ [] ต่อท้ายชื่อตัวแปร จะมีผลดังนี้ ถ้ากำหนดสตริงทีมีความยาวหรือจำนวนอักขระ  เกินค่าที่ระบุ ฺจะเกิดข้อผิดพลาด หรือมีคำเตือน  แล้วแสดงผลเท่ากับจำนวนความยาวที่ระบุวงเล็บ [] และอาจมี  อักขระแปลกประหลาดมาต่อท้ายสตริง ถ้ากำหนดสตริงที่มีความยาวหรือจำนวนอักขระ  เท่ากับค่าที่ระบุ ฺจะไม่เกิดข้อผิด พลาด  แต่อาจมีอักขระแปลกประหลาดมาต่อท้ายสตริง ถ้ากำหนดสตริงที่มีความยาวหรือจำนวนอักขระ น้อยกว่าค่าที่ระบุ จะไม่มีปัญหาใดฯ
--- Page 64 ---
64 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน ช่องว่าง ช่องเรานับเป็น  อักขระ ดังนั้น หากมี ช่องว่างก็นับเป็น 5 อักขระ เราสามารถนำค่าจากตัวแปรแบบชุดอักขระไปแสดงผลด้วยฟังก์ชัน puts() และ print()  ได้โดยตรง  สำหรับแนวทางการใช้งานให้ดูจากตัวอย่างต่างๆ ดังต่อไปนี้ โดยตัวอย่างทั้งหมดในบทนี้  จะจัดเก็บไว้ที่ c:ic-langlchapter4 ชึ่งเราก็สร้างไฟล์ของแต่ละตัวอย่างตามที่ได้กล่าวไว้แล้วใน  บทที ตัวอย่าง 4-1 การกำหนดตัวแปรแบบชุดอักขระ เพื่อจัดเก็บข้อมูลแบบสตริง พร้อมแนวทาง การแสดงผล #include  <stdio.h>  void  main( ) char firstnane [ ] "elon  lastname [l  musk"  addross1 u]  "palo alto california  address2 u]  united states of anerica enaili] "elon_muskexanple . com  career[] tesla  spacex ceo" printf(  innane: printf( firstname) printf( ); printf{ lastnane ) putchar(  in" ); printf( career: printf{ career ) mana: eion husk  putchar(  wn" ); cargen: tesla & spacex ceo ตัวอย่าง 4-2 เป็นการทดสอบว่าหากเรากำหนดสตริงให้มีขนาดหรือจำนวนอักขระต่างจาก  ค่าตัวเลขที่กำหนดไว้ในวงเล็บ [] จะส่งผลอย่างไร #include stdio.h>  void  main( )  char str1[10) 1234567890123" /นาว  13 char str2[10] "1234567890 /ยาว  10  char str3[10] "1234578 เยาว
--- Page 65 ---
 บทที 4 สตรึง การรับและแสดงผลข้อมูล 65 printf( "str1 ==> ); printf(str1);  putchar( เn" ); printf( "str2 -=> ) : printf(str2); putchar( เn") printf( "str3 ==> printf(str3); putchar(  เn" ); c: ic-lang>ed "c: ie lang chaptar4w 8& gcc axample4-2.c o  exatp1e4-2 &2"<:|6- exainp1e4-2 in  function main examp1a4-2.6:4:21 warning: initmaiizen- string for  array of  chars is  too  long char str1[le] '1234567899123  sta1 =a) 1234567898&: str2 ==)1234567898123456789031 str3 ==> 1234578 การกำทินดและแก้ไขค่าของตัวแปรสตริง  จากที่ได้กล่าวไปในหัวข้อที่แล้ว จะพบปัญหาบางอย่างคือ เราต้องกำหนดค่าให้กับตัวแปร แบบสตริง (ชุดอักขระ) ตั้งแต่ขั้นตอนการประกาศ  และนอกจากนี้ก็ยังแก้ไขค่าในภายหลังโดย การกำหนดค่าใหม่แทนที่ค่าเดิมโดยตรงไมได้ ชึ่งเป็นปัญหาสำคัญที่เราจำเป็นต้องรู้วิธีการแก้ไข เพราะในบางครั้งเราไม่สามารถกำหนดค่าตัวแปรเอาไว้ล่วงหน้าแบบตายตัวได้ นอกจากนี้ ในบาง สถานการณ์ เราจำเป็นต้องเปลี่ยนแปลงค่าของตัวแปรแบบสตริงจากค่าหนึ่งไปเป็นอีกค่าหนึ่ง เพื่อ ให้สอดคล้องกับเงือนไขในแต่ละขณะ ชึ่งเป็นสิ่งที่เกิดขึ้นอยู่บ่อยครั้ง สำหรับแนวทางการแก้ไข ปัญหาดังที่กล่าวมา ฺสามารถใช้ฟังก์ชันที่จะกล่าวถึงดังต่อไปนี้ การไช้ฟังก์ชัน strcpy()  ฟังก์ชัน  strcpy( ) มาจากคำว่า string  copy ตามปกติเราจะใช้ฟังก์ชันนีในการคัดลอก สตริงที่ระบฺหรือค่าจากตัวแปรหนึ่ง แล้วนำมากำหนดค่าให้กับอีกตัวแปรหนึ่ง โดยใช้รูปแบบดังนี้  strcpy( ดัวแปรสตริง ,  สตริงที่จะคัดลอก
--- Page 66 ---
66 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน  ฟังก์ชัน strcpy( ) อยู่ในเฮดเดอร์ string.h ดังนั้น เราจำเป็นต้องอ้างอิงด้วย include ก่อนการใช้งาน เราต้องประกาศตัวแปรสตริงที่จะใช้จัดเก็บสตริงที่คัดลอกมา เอาไว้ล่วงหน้า  สตริงที่จะคัดลอกมา อาจกำหนดค่าโดยตรง ฺหรือจะเป็นค่าที่จัดเก็บอยู่ในตัวแปรอื่นๆ  ก็ได้ (ระบุเชื่อตัวแปรนั้นลงไปแทนสตริงที่จะคัดลอก) ถ้ามีข้อมูลที่จัดเก็บตัวแปรนั้นเอาไว้อยู่ก่อนแล้ว  ข้อมูลจะถูกแทนที่ด้วยค่าสตริงใหม่  char str[100] ; strcpy( str,  he1lo  world"); iistr  "he1lo  world"  char greeting[20]  sawasdee  char  msg[ ]  "he1lo" strcpy ( greeting,  nsg)  igreeting "helio" ข้อควรระวังคือ ขนาดของตัวแปรสตริง ต้องสามารถรองรับ (มีขนาดมากกว่า) สตริง ใหม่ที่จะคัดลอกไป มิฉะนั้นสตริงอาจถูกคัดลอกไปเพียงบางส่วนเท่าที่เป็นไปได้ หรือ ไม่เกินขนาดของตัวแปร หรือสตริงอาจถูกคัดลอกไปทั้งหมดแต่มีคำแจ้งเตือนเมื่อ รันโค้ด โดยลักษณะเช่นนี้อาจขึ้นกับตัวแปลภาษา c ที่เราใช้ประมวลผล เช่น  char str[5] ; strcpy( str,  hello world" ); /ตัวแปร str ควรเก็บคำว่า he11 /เท่ากับขนาด [5 1i แต่ตัวแปลภาษา c บางอัน /อาจคัดลอกไปได้ทั้งหมด และมีคำแจ้งเตือน เพื่อหลีกเลี่ยงปัญหาดังที่กล่าวมานี้ หากตัวแปรใด ที่เราจะใช้รองรับสตริงที่แก้ไขค่าได้ ในภายหลัง ควรกำหนดขนาดเผื่อเอาไว้ให้ใหญ่พอสมควร ซึ่งสามารถรองรับข้อความ ที่ยาวซ ได้  จากที่กล่าวมา จะเห็นว่า ฟังก์ชัน strcpy() สามารถแก้ไขปัญหาได้ทั้งกรณีที่เราไม่สามารถ  กำหนดค่าตัวแปรแบบสตริงไว้ล่วงหน้าตั้งแต่ขั้นตอนการประกาศ  และกรณีการเปลี่ยนแปลงค่า ของตัวแปรในภายหลัง เซึ่งขอให้ดูเพิ่มเติมจากตัวอย่างต่อไปนี้ ที่ระบุ
--- Page 67 ---
 บทที 4 สตรึง การรับและแสดงผลข้อมูล 67 ตัวอย่าง 4-3 การกำหนดและเปลี่ยนแปลงค่าของตัวแปรด้วยฟังก์ชัน strcpy( ) # include  <stdio.h> # include <string.h> void  main( )  char str1[100] ;  char str2[1001 putchar(  in" )  strcpy( str1  "can  you  see?" ) printf( "str1 ") ; printf(str1); putchar(  in" ) strcpy( str2  yes, i  can  c" ); printf( "str2 " ) ; str1 can  you see? str2  yes, can printf(str2 ) putchar( in") การใช้ฟังก์ชัน strcat()  strcat( ) มาจากคำว่า  concatenate ใช้ในการนำสตริงใหม่มาต่อท้ายกับสตริงเดิม ที่จัดเก็บในตัวแปร (กรณีของฟังก์ชัน strcpy จะเป็นการแทนที่) โดยใช้รูปแบบดังนี้ strcat ( ตัวแปรสตริง  สตริงที่จะนำไปต่อท้าย"  strcat( ) อยู่ในเฮดเดอร์ string.h เช่นเดียวกับ strcpy( ) ดังนั้น จึงต้องอ้างอิงไฟล์ นี้ด้วย include จึงจะใช้งานได้ หลักการต่างๆ ของ strcat( )  ทั้งตัวแปรสตริง และสตริงที่จะนำไปต่อท้ายก็พิจารณา ในแนวทางเดียวกับ strcpy( เช่น char str[50]  hello strcat (str,  world" ) ustr  hello  world" char  nsg[100]; strcat (nsg,  sawasdec" ): insg  sawasdec  string
--- Page 68 ---
68 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน  char a[1oo] be  better than"  char b[]  that  you  can be" strcat(a., ") strcat(a, b) ; fa be  better than that  you  can  be ตัวอย่าง 4-4 การกำหนดและเชือมต่อค่าของตัวแปรด้วยฟังก์ชัน strcat( )  include  <stdio.h> # include  <string.h>  void  main( ) char str[1oo]  happy strcat (str ") strcat (str  new  year" ): puts( str)  /happy new year strcoy( str  happy strcat (str  "birthday puts( str) /happy birthday  อักขระพิเศษ (escape sequence)  อักขระบางตัว ไม่มือยู่บนปุ่มคีย์บอร์ด หรืออักขระบางตัว เราจะเขียนลงในสตริงโดยตรง ไม่ได้  เพราะถูกใช้เป็นข้อกำหนดบางอย่างในภาษา c ดังนั้น ฺจึงมีการกำหนดสัญลักษณ์พิเศษ เพื่อใช้แทนอักขระเหล่านี้ โดยสัญลักษณ์ดังกล่าวจะขึ้นต้นด้วยเครื่องหมาย 'i'  แล้วตามด้วย  อักขระฮอื่นๆ เพื่อให้มีความหมายหรือวัตถุประสงค์ที่แตกต่างกันออกไป  ซึ่งเราเรียกสัญลักษณ์ หรืออักขระพิเศษในกลุ่มนี้ว่า escape  sequence โดยตัวที่น่าสนใจขซึ่งเรามีโอกาสได้นำไป ใช้งานอยู่บ่อยต มีดังนี้  อักขระ ชื่อ คำอธิบาย  ไn  new line ขึ้นบรรทัดใหม่ ดังที่เราเคยใช้กันมาแล้ว la  alert ให้มีเสียง beep  ครั้ง  lb  backspace เลื่อนเคอร์เชอร์ย้อนกลับไป  ตำแหน่ง  carriage return เลื่อนเคอร์เซอร์ไปที่ตำแหน่งเริ่มต้นบรรทัด
--- Page 69 ---
 บทที 4 สตรึง ฺภารรับและแสดงผล 69  อักขระ ชือ คำอธิบาย  horizontal tab เว้นระยะในแนวนอนเท่ากับ  แท็บ  single quote  แสดงเครื่องหมาย double quote แสดง  แเครื่องหมาย  question mark แสดงเครื่องหมาย  backslash  แสดงเครื่องหมาย ตัวอย่าง 4-5 แนวทางการใช้อักขระพิเศษที่น่าสนใจบางอันเพือแสดงผลลัพธ์คล้ายกับตาราง โดยจะแทรกอักขระเหล่านี้ลงในสตริงที่แสดง evolution  of "c" ianguage ผลด้วย printf( )  language yaar chaated cheator  acpl 1957 nartin richards #include. <stdio.h> 1973 ken tnompson 1972 dannts ritchie void main( ) printf(  inevolut ion  of v"ci  language inin") printf( " language ityear created tcreatorin") ; printf(  in"): printf( "bcpl it it1967t utmartin richards in" ) ; printf( "bit it1970t utken  thompson in"); printf( "citit1972ut ltdennis ritchiewn" ) การจัดรูปแบบสตริงสำหิธับแสดงผล ที่ผ่านมานั้น  เราได้เรียนรู้ไปแล้วว่า ฟังก์ชันพื้นฐานที่ใช้แสดงผลข้อมูลแบบสตริงก็คือ puts( ) และ printf( ) โดยที่ puts( ) ใช้แสดงสตริงที่กำหนดเอาไว้อย่างแน่นอน ในขณะที่ printf( )  สามารถแสดง ไได้ทั้งสตริงที่มีกำหนดค่าไว้อย่างแน่นอนและสตริงที่มีการจัดรูปแบบ  ด้วยเหตุดัง กล่าว เราจึงอาจพบเห็นการใช้ printi( ) ได้มากกว่า puts( ) และในหัวข้อนี้ เราจะมาเรียนรู้วิธีการ  จัดรูปแบบสตริงที่จะแสดงผลด้วยฟังก์ชัน printi() เซึ่งถือเป็นลักษณะพื้นฐานที่สำคัญอีกอย่างหนึ่ง ของภาษา c. โดยมีรายละเอียดดังต่อไปนี้ เข้อมูล
--- Page 70 ---
70 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน กาธจัดรูปแบบในเบื้องตันสำหรับ printf() บางครั้ง  สตริงหรือข้อความที่เราต้องการแสดงผล ไม่สามารถกำหนดให้ครบสมบูรณ์ เอาไว้ล่วงหน้าได้ แต่อาจต้องนำข้อมูลจากที่อื่นไมาเติมลงไปด้วย เพื่อให้สอดคล้องกับเงื่อนไข ในแต่ละขณะ เช่น คำว่า my name is from and i'm  years old. จากข้อความ ส่วนที่เป็นขีดล่างขซึ่งเว้นเอาไว้นั้นคือ ที่เราจะนำมาเติมลงไปในประโยคนี้  แต่อย่างไรก็ตาม  ฺถ้า สิ่งที่จะนำมาเติมอาจเป็นไปได้หลากหลาย  ครั้นเราจะใช้วิธีการนำสตริง และข้อมูลมาเชื่อมต่อกัน ก็จะยุ่งยากจนเกินไป ดังนั้น ฺในภาษา c จึงมีวิธีการแทรกข้อมูลลงใน สตริง ก่อนจะแสดงผลด้วย printf( ) แต่อย่างไรก็ตาม เนื่องจากข้อมูลที่จะแทรกสามารถเป็นไป  ได้หลายชนิด เช่น เลขจำนวนเต็ม ฺทศนิยม ฺอักขระ หรือ สตริง (ชุดอักขระ) ชึ่งข้อมูลแต่ละชนิด จะใช้วิธีดำเนินการที่แตกต่างกัน ดังนั้น  เพื่อให้ตัวประมวลผลสามารถจัดเตรียมวิธีการที่ถูกต้อง และสอดคล้องกับชนิดข้อมูลที่จะแทรก  เราต้องบอกให้มันรู้ล่วงหน้าว่าเราจะแทรกข้อมูลชนิดใด ลงไป โดยแทนข้อมูลแต่ละชนิดด้วยสัญลักษณ์ดังต่อไปนี้ สัญลักษณ์ ววามหมาย %c  (char) สำหรับค่าที่เป็นอักขระตัวเดียว %d  (decimal) สำหรับค่าที่เป็นเลขจำนวนเต็มทุกชนิด (ยกเว้น long) %e  (exponential) สำหรับแสดงตัวเลขแบบวิทยาศาสตร์ เช่น 1.23e4 %f  (float)  สำหรับเลขทศนิยมทั้งชนิด  float  และ double ซึ่งโดยทั่วไป  ผลลัพธ์ที่แสดง จะเป็นเลชที่มีทศนิยม 6 ตำแหน่ง ดังนั้น ฺอาจมีการเติมเลข ต่อท้ายให้ทศนิยมครบ 6 ตำแหน่ง  แต่ถ้าเป็นเลขที่มีทศนิยมเกิน 6 ตำแหน่ง จะตัดให้เหลือแค่ 6 ตำแหน่ง %0.?f  (float) สำหรับเลขทศนิยมทั้งชนิด float และ double โดยให้ ? แทนตัวเลขที่ใช้กำหนด  จำนวนตำแหน่งทศนิยม  ฺเช่น %0.3f หมายถึง ให้มีทศนิยม 3 ตำแหน่ง (อาจมีการปัด  ค่าของตัวเลข) %g  สำหรับแสดงตัวเลขที่คล้ายกับ %e หรือ %f ในแบบที่สั้นที่สุด กรณีที่เป็นเลขทศนิยม และต้องการให้แสดงผลลัพธ์ตรงกับค่าจริง(ไม่เติม d ต่อท้ายทศนิยม ฺผู้เขียนแนะนำ ใช้ %g แทน %f) %s  (string) สำหรับค่าที่เป็นสตริง %% แสดงเครื่องหมาย % ข้อมูล  long
--- Page 71 ---
 บทที 4 สตรึง การรับและแสดงผลข้อมูล 71 สัญจักษณ์ ความหมาย  %lld  (long long) สำหรับค่าที่เป็นเลขจำนวนเต็มชนิด long long  %hu  สำหรับค่าที่เป็นเลขจำนวนเต็มชนิด short (ไใช้ %d แทนได้) รูปแบบโดยทั่วไปของฟังก์ชัน printi() ที่มีการจัดรูปแบบสตริงคือ printf( "สตริงที่จัดรูปแบบ  ค่าที่_1 ,  ค่าที่_2 ,  ค่าที่_3 ,  สตริงที่จะจัดรูปแบบ เก็คือสตริงที่เราจะแสดงผลฺ ซึ่งภายในสตริงนั้น ฺจะมีสัญลักษณ์ ตามชนิดข้อมูลที่จะนำมาแทรกปะปนอยู่ด้วย โดยวางตำแหน่งสัญลักษณ์ ให้ตรงตาม ที่ต้องการแสดงผล  ค่าที่_1, ค่าที่_2,  คือค่าที่เราจะนำไปแทรกลงในสตริง โดยเรียงลำดับให้ตรงกับลำดับ สัญลักษณ์ที่วางไว้ในสตริง และชนิดข้อมูลต้องสอดคล้องกับสัญลักษณ์ มิฉะนั้น อาจ ได้ผลลัพธ์ที้ไม่ถูกต้อง หรือบางกรณีอาจเกิดข้อผิดพลาด  printf(" .%? .%?_ .%?  value1, value2, value3  แนวทางการใช้สัญลักษณ์เพื่อแทรกข้อมูลในเบื้องต้น เช่น printf( "%d 12345 ) //12345 printr( "%f" 123 . 456 ) //123.456000 printf( "%9 123. 456 ) //123 .456 printf( "i can  %c "c" ); iii can printr( "%s "i can c"): char color[l rea" printf( "my  car is  %s  color)  imy  car is red char  happy[l "happy  %s printf( happy,  "birthday" ' /happy birthday printf( happy  new  year" ' zhappy  new  year
--- Page 72 ---
72 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน ในสตริงเดียวกัน ฺสามารถแทรกสัญลักษณ์ได้มากกว่า  ตำแหน่ง ปะปนอยู่ในสตริง รวม ถึงอาจมีการคำนวณข้อมูลก่อนนำไปแทรก ซึ่งขอให้ดูเพิ่มเติมจากตัวอย่างดังต่อไปนี้ ตัวอย่าง 4-6  แนวทางการจัดรูปแบบ the lucky nunber is  l3 สตริงสำหรับฟังก์ชัน printf( ) โดยแทรก pt  (f) 3 . 141999 (8.2f) 3.14 (g) 3 .141 สัญลักษณ์หลายๆ แบบไว้ในสตริงเดียวกัน in dannis aitchie creator of c language khun  banchar please contact counter nunbera  happy new year # include <stdio.h> happy birthday  void  main( ) printf(  inthe  lucky  number is %d 13 ) printf(  inpi (f) %f 3. 141 ) printf(  inp1 (o.2f) %0 .2f" 3 .141) ; printf(  inpi (g) %g 3 . 141 ) ; printf( " inhi i"m %$  %$ .  creator of  %c  language "dennis"  "ritchie" "c" ): printf(  inkhun  %s please  contact  counter  nunber %d banchar" 5 ) char  word[1o0]  ' inhappy %s char ny[]  new year"  char bd[] "birthdayin" printf(word., ny.) printf(word. bd.) ตัวอย่าง 4-7 การจัดรูปแบบสตริง โดยค่าที่นำไปเติม ฺจะได้จากการคำนวณแบบง่ายๆ เซึ่ง  กำหนดไว้ที่ฟังก์ชัน printf() ก่อนนำไปแทรกลงในสตริง # include  <stdio.h> 1ว 2a 3o # include  <string.h> tas born in year  zeee and currant yaar _s  2823 so i"n 23 years old  void  main( ) printf( " in%d %d %din" 1o.  20 , (10 20 ) ) ; int  year born 2000 : int  current _year 2023 : char str[200]  was  born  in year %d  ani
--- Page 73 ---
 บทที 4 สตรึง การรับและแสดงผลข้อมูล 73 strcat (str  inand  current  year is  %d" )  strcat (str  inso im %d years oldin" ); printf(str  year _born,  current _year  (current _year  year porn) ); การกำทินดความกว้างของสตริง ตามปกตินั้นขนาดความกว้างของสตริงที่แสดงผล จะเท่ากับจำนวนอักขระในสตริงนั้น แต่ บางครั้งเราต้องการจัดรูปแบบโดยให้ความกว้างของพื้นที่แสดงผลมีขนาดแน่นอน เช่น การแสดง ผลแบบหลายบรรทัดและหลายคอลัมน์คล้ายกับตาราง ภก็สามารถจัดแนวข้อความให้ตรงหรือให้ เยื้องตามต้องการได้ โดยการกำหนดความกว้างของสตริง ฺจะใช้รูปแบบพื้นฐานดังนี้ %พอักขระของชนิดข้อมูล  ในที่นี้ จะให้ w แทนเลขจำนวนเต็ม ฺซึ่งใช้ระบุขนาดความกว้างที่ต้องการ  อักขระของชนิดข้อมูล ก็ขึ้นกับชนิดข้อมูลที่เราจะนำมาแทรกลงในสตริง ดังที่กล่าวไป ในหัวข้อที่แล้ว เช่น %5d, %7s หรือ %10f หากข้อมูลที่นำมาแทรกมีจำนวนอักขระ น้อยกวา ขนาดความกว้างที่ระบฺุสตริงจะถูก  จัดชิดขวา (มีช่องว่างทางด้านข้ายเกิดขึ้นตามจำนวนอักขระที่ต่างกัน) หากข้อมูลที่นำมาแทรกมีจำนวนอักขระ มากกว่า ขนาดความกว้างที่ระบฺุข้อมูลจะถูก นำมาใส่ลงไปจนครบทุกอักขระโดยไม่เกิดข้อผิดพลาดใด  สำหรับแนวทางการใช้งานในเบื้องต้น จะเปรียบเทียบให้เห็นลักษณะการจัดวางตำแหน่ง อักขระเมื่อเทียบกับความกว้างที่ระบุ printf("%10$  thailand /ให้พื้นที่แสดงผลมีความกว้าง 1o  อักขระ แต่คำว่า thailand" มีเพียง 8  อักขระ เจ๋งจัดชิดขวา ( มีช่องวางด้านช้าย) printf( "%7d" 1234 ) printf( "%5f" 12.345 ) ;
--- Page 74 ---
74 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน จากกรณีที่จำนวนอักขระของข้อมูลที่นำมาแทรกน้อยกว่าความกว้างที่ระบฺฺุสตริงจะถูก  จัดชิดขวา แต่หากเราต้องการให้ชิดช้าย ก็ใส่ เครื่องหมายลบ (-) ข้างหน้าความกว้าง พอักขระของชนิดข้อมูล printf("%-10s  thailand" ) printf( %-7d" 1234 ) ; กรณีที่เป็นเลขทศนิยม (f) ถ้าเราไม่ระบุจำนวนตำแหน่งทศนิยมฺฺมันจะปรับให้มีทศนิยม 6 หลัก  ดังโค้ดและภาพก่อนนี้  แต่เราสามารถกำหนดให้มีจำนวนทศนิยมตามต้องการได้โดยใช้  %w. ?f หรือ %-w.?f (จัดชิดข้าย) เมือ คือตัวเลขซึ่งแสดงจำนวนตำแหน่งทศนิยมที่ต้องการ หรือถ้าต้องการจัดชิดซ้าย ก็ใส่ เครื่องหมายลบข้างหน้าความกว้าง อย่างไรก็ตาม ค่าที่แสดงผลออกมา ฺอาจถูกปัดเศษให้  สอดคล้องกับจำนวนตำแหน่งทศนิยมที่ระบุเหมือนเช่นเคย ดังแนวทางต่อไปนี้ printf( "%10 . 2f1n" 12345.678) printf( %-10.2f1n" 12345. 678 ) printf("%10 , 2f" 12345. 678) : หรือในกรณีที่เป็นตัวเลขจำนวนเต็ม บางครั้งเราต้องการแสดงผลโดยให้มีตัวเลขครบตาม  จำนวนที่ต้องการ โดยส่วนใหญ่เราจะใช้วิธีเติม d ข้างหน้า เช่น ถ้าต้องการเลข 3 เหลัก แต่ค่าที่  ได้คือ 7 ก็อาจเติม 0 ข้างหน้าเป็น oo7 เป็นต้น ซึ่งก็อาจกำหนดรูปแบบดังนี้ (ให้ w คือตัวเลขที่ ใช้ระบุความกว้างหรือจำนวนหลักที่ต้องการ)  %owd หรือ  %owi int  code 7 : int 2023 ; printf( "%03d"  code) //007 printf( "%02d/%02d/%04d" d., m.  y); 09/07/2023 ในรูปแบบ รูปแบบ
--- Page 75 ---
 บทที 4 สตรึง การรับและแสดงผลข้อมูล 75 ตัวอย่าง 4-8 การจัดรูปแบบสตริง โดยกำหนดความกว้างในลักษณะที่แตกต่างกัน # include <stdio.h>  void  main( ) printf( เn%5a" 555 ) printf( 1n%-5d" 555 ) printf(  เn% - 5dwn" 555 ) printf( 1n%10.2f" 12345. 6789 ) printf( 1n%-10 .2f" 12345. 6789) printf( 1n%10.2f|n 12345. 6789) ;  char str[] "c language 555 555 printf( 1n% -1os st^) -555 printf( 1%11$ " str) 12345.68 printf( 1n%12s str) 12345 printf(  inช1s inin" str) : 12345.68  language  char strf[] "%10s1n"  language c language printf( strf +." ) c lang4age printf( strf 2" ) printf( strf 3" |) l- 123 printf( strf "1  2  3  4" ) ; 1 23 4 printf( strf "า 2  3 4  5" ) : 1 2 3 4  5 ตัวอย่าง 4-9 แนวทางการกำหนดความกว้าง prodacts list: ของสตริง เพื่อแสดงผลคล้ายตาราง itan mana price  (bath) storage  (cd) iวhone 35 ,8ว3 256 ipad 29, 999 123 #include <stdio.h> book s8 8aง 512 void  main( ) ปรูปแบบ  ( ความกว้าง) โดยแต่ละคอลัมน์เท่ากับ 15 /คอลัมน์แรกเป็นข้อความให้ชิดข้าย  ( ให้ความกว้างติดลบ ) เส่วนคอลัมน์ถัดไปให้ชิดขวา เพราะเป็นตัวลข  char  fm[200] |n%-15$%15$%15$ /หัวตาราง puts( " inproducts list: " ) printf( fn, item  nane price.  (bath)  "storage {gb ) ") printf( บา-
--- Page 76 ---
76 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน  แถวที่ printf{ fm,  iphone "35 , 000" "256" ) ii  แถวที่ printf( fn  ipad" "20 , 000" "128" ) ;  แถวที่ printf(fm,  macbook" '80 , 000" "512" ) ;  putchar(  in") การอ่านค่าสตริงที่จัดรูปแบบด้วย sprintf() การใช้ฟังก์ชัน printf( ) ดังที่กล่าวมานั้น เป็นการแสดงสตริงผลลัพธ์ออกไปโดยตรง ชึ่ง  เราไม่สามารถนำสตริงดังกล่าวไปใช้งานอื่น"ต่อไปได้ แต่นอกจากนี้ ยังมีฟังก์ชันที่มีหลักการ คล้ายคลึงกัน นั่นคือ sprintf( ) โดยมีรูปแบบดังนี้  sprintf( ตัวแปรเก็บข้อมูล  สตริงที่จัดรูปแบบ  ค่าที่ 1.  ค่าที่_2 ,  ค่าที่_ 3 . ชื่อฟังก์ชันนี้ จะขึ้นต้นด้วยตัว "s" ดังนั้น อย่าสับสนกับอีกฟังก์ชันที่ชื่อ printf( )  สตริงที่จัดรูปแบบ  ก็เหมือนกับฟังก์ชัน  printi( ) ซึ่งเราสามารถนำสัญลักษณ์การจัด รูปแบบมาใช้ได้ทั้งหมด  ค่าที่จะนำไปแทรก ก็ใช้หลักการเดียวกับฟังก์ชัน printf( ) เช่นเคย ตัวแปรเก็บข้อมูล ฺฟังก์ชัน sprintf( ) จะไม่แสดงผลออกไป แต่จะเก็บสตริงผลลัพธ์ที่ ได้ (หลังการแทรกข้อมูล) ไว้ในตัวแปรนี้แทน จากนั้น หากเราจะนำสตริงไปใช้งาน ก็ ทำผ่านตัวแปรนี้ นี่คือสิ่งที่แตกต่างจาก printf( )  จากที่กล่าวมา ฺอาจสรุปความแตกต่างระหว่าง 2 ฟังก์ชันนี้ได้ว่า printf( ) จะแสดงผลลัพธ์  ออกไปทันที ส่วน sprintf( ) จะเก็บผลลัพธ์ไว้ในตัวแปร ชึ่งในหัวข้อต่อตไป ฺเราจะเห็นแนวทาง การนำไป sprinti() ไปประยุกต์ใช้งานที่ชัดเจนขึ้น ส่วนแนวทางการใช้งานแบบพื้นฐาน ตัวอย่างต่อไปนี้  ให้ดูจาก
--- Page 77 ---
 บทที 4 สตรึง การรับและแสดงผลข้อมูล 77 ตัวอย่าง 4-10 การจัดรูปแบบสตริงด้วยฟังก์ชัน sprintf( ) เพื่อเก็บผลลัพธ์ไว้ในตัวแปร ก่อน นำไปใช้งานอื่นต ฺต่อไป โดยในตัวอย่างนี้ จะแสดงให้เห็นแนวทางการเชื่อมต่อสตริงใหม่กับค่าเดิม  ในตัวแปรคล้ายกับ strcat( ) แต่กรณีนี้ เราสามารถแทรกค่าตัวแปรได้  #include <stdio.h> todayis: 31/18/2923 was  born in year  zebe void main( ) and current year is 2923 so  i'm23 years ola  char today[10] ;  sprintf( today.,  intoday ls : %d/%d/%d  31, 1o, 2023) ; puts( today)  char str[200]  sprintf(str ini  was  born  in year %d 2000 )  sprintf(str %s inand  current  year is  ad" str, 2023 )  sprintf(str %s inso im  %d  years old in" str, ( 2023 2000 ) ) puts( str) การจัดรูปแบบตัวเลขโดยมี  คันทิลักพัน ตัวเลขที่มีค่ามากตฺหากเราเขียนต่อเนื่องกันโดยไม่มีสัญลักษณ์ใดตมาคั่นระหว่างหลัก  อาจเกิดความยุ่งยากในการอ่านค่าตัวเลข  เช่น 387504244 หรือ 256520238014257 เป็นต้น ดังนั้น เพื่อแก้ปัญหาตามที่กล่าวมา เราควรใช้เครื่องหมาย เพื่อคั่นหลักพัน เช่น 387,504,244 หรือ 256,520,238,014,257 อย่างไรก็ตาม ฺในภาษา c ไม่มีสัญลักษณ์ที่ใช้สำหรับกรณีนี้โดยตรง แต่ยังมีทางเลือกที่ใช้ทดแทนได้ ชึ่งวิธีการที่ผู้เขียนจะแนะนำต่อไปนี้ สามารถใช้งานได้บนตัวแปล ภาษา gcc/mingw แต่ไม่แน่ใจว่าจะใช้ได้ผลกับตัวแปลภาษา c ของผู้สร้างรายอื่นต ฺหรือไม่ โดยมีแนวทางดังนี้  เพิ่มค่าคงที่  และอ้างอิงไฟล์เฮดเดอร์  locale.h โดยกำหนด โค้ดตามนี้ (กำหนดไว้ ก่อนเฮดเดอร์อื่นฯ)  #define  posix_c_source  200809|_  #include  <locale.h> ก่อนการแสดงผลตัวเลขที่จะคั่นหลักพัน ให้กำหนดคำสั่ง setlocale( ) ดังนี้  setlocale ( lc  all.
--- Page 78 ---
78 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน การแสดงผลตัวเลข ก็ใช้ฟังก์ชัน printi( ) ตามเดิม โดยกำหนดสัญลักษณ์ดังนี้ (เต้อง เลือกให้สอดคล้องกับชนิดข้อมูล) % d /สำหรับเลขจำนวนเต็ม %"f หรือ %"0.? //สำหรับเลขทศนิยม  โดย ?  คือจำนวนตำแหน่งทศนิยม /สำหรับเลขทศนิยม ต้องใช้เครื่องหมาย " ชึ่งจะถูกเปลี่ยนเป็น เมือแสดงผล หลักการอื่น" เก็เหมือนกับที่เรากำหนดสัญลักษณ์สำหรับจัดรูปแบบให้กับฟังก์ชัน  printf( ) ตามปกตินั่นเอง แค่เพิ่ม เข้ามา  สำหรับแนวทางการใช้งาน ให้ดูจากตัวอย่างต่อไปนี้ได้เลย  เพราะใช้หลักการเดิมเป็น ส่วนใหญ่ ตัวอย่าง 4-11 การจัดรูปแบบตัวเลขโดยมี  คั่นหลักพัน  #define  posix_c_source  200809|_ 12,345,678 987,654,321.357 #include  <locale .h> #include  <stdio.h>  void  main( )  set locale ( lc all, int 12345678 ;  double  b 987654321 357 putchar(   wn" ); printf( "a %d" a) :  putchar(  in" ): printf( "b %"0.3f" b) ;  putchar(  in" ): กาธธับข้อมูลทางคีย์บอร์ด ที่ผ่านมานั้น เรากำหนดข้อมูล ฺหรือค่าของตัวแปรลงโค้ดแบบตายตัว หรือเรียกว่า hard  code ซึ่งเป็นวิธีการที่ขาดความยืดหยุ่น เพราะผู้ใช้งานไม่สามารถปรับเปลี่ยนค่าเองได้ ดังนั้น ใน หัวข้อนี้ เราจะมาเรียนรู้วิธีการรับข้อมูลทางคีย์บอร์ด โดยผู้ใช้งานสามารถกำหนดข้อมูลได้เองตาม %"g
--- Page 79 ---
 บทที 4 สตรึง การรับและแสดงผลข้อมูล 79 ที่ต้องการ ซึ่งจะช่วยให้โปรแกรมที่เราเขียนมีผลตอบสนองที่หลากหลายมากขึ้น ตามข้อมูลที่เรา กำหนดให้กับมัน แต่อย่างไรก็ตาม ฺการรับข้อมูลทางคีย์บอร์ดมีหลายลักษณะ เซึ่งในที่นี้จะขอแยก  อธิบายตามฟังก์ชันที่ใช้งาน ดังรายละเอียดต่อไปนี้ กาธธับข้อมูลชนิดอักขระด้วย getchar() ข้อมูลชนิดอักขระ (char) จะมีได้เพียงอักขระตัวเดียว ชึ่งหากเราจะรับข้อมูลชนิดนี้ทาง คีย์บอร์ด ก็ต้องใช้ฟังก์ชัน getchar( ) ที่มีรูปแบบดังนี้ ตัวแปร  getchar( ) ตัวแปรที่จะใช้รับค่าจากฟังก์ชัน ต้องเป็นชนิด char เท่านั้น เซึ่งอาจประกาศไว้ล่วงหน้า หรือจะประกาศในขณะนั้นเลยก็ได้ ก่อนรับข้อมูลด้วย getchar() เราควรแสดงข้อความเพื่อแจ้งให้ผู้ไช้ทราบพอสังเขปว่า ต้องใส่ข้อมูลเกี่ยวกับอะไร ซึ่งโดยส่วนใหญ่เรานิยมใช้ฟังก์ชัน printf( ) เพื่อให้จุดรอ รับข้อมูลอยู่ที่ท้ายข้อความ (ฟังก์ชัน printf( ) จะไม่ขึ้นบรรทัดใหม่) เมื่อการประมวลผลดำเนินมาถึงขั้นตอนที่ฟังก์ชัน  getchar( ) ถูกเรียกขึ้นมาทำงาน ส่วนแสดงผล  เช่น  terminal  จะหยุดรอรับข้อมูลจนกว่าเราจะใส่ค่าลงไป  แล้วกด  <enter>  จึงจะทำคำสั่งถัดไป ตามปกติ เราต้องใส่|อักขระเพียงตัวเดียวแล้วกด <enter> แต่ถ้าเราใส่ข้อมูลในแบบ สตริง(อักขระมากกว่า ตัว) มันจะอ่านเฉพาะอักขระตัวแรกที่เราใส่ลงไปเท่านั้น  ค่าที่ได้ซึ่งเก็บในตัวแปร ก็สามารถนำไปใช้งานอื่นตตามต้องการ เนื่องจากฟังก์ชัน getchar( ) ไม่มีอะไรที่ยุ่งยาก จึงขอให้ใช้แนวทางการใช้งานจากตัวอย่าง ต่อไปนี้ได้เลย ตัวอย่าง 4-12 การรับข้อมูลชนิดอักขระทางคีย์บอร์ดด้วย  getchar( ) แล้วนำไปแสดงผล (หากเรากำหนดสัญลักษณ์ เป็น จะแสดงอักขระตัวนั้น แต่หากกำหนดเป็น %d จะแสดงรหัส  ascii ของอักขระตัวนั้นแทน) # include <stdio.h> antar charactar  c asciz coda of c  is  void  main( ) printf(  inenter character >>  %c
--- Page 80 ---
80 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน char ch  getchar( ); printf{ "ascii  code of %c  is  %din" ch, ch) : การธับข้อมูลแบบสตริงด้วย gets( )  ฟังก์ชัน gets() มาจากคำว่า ใช้ในการรับข้อมูลแบบสตริงทางคีย์บอร์ด ซึ่ง ลักษณะของฟังก์ชันนี้คือ gets ;(ตัวแปรที่ใช้รับข้อมูล) ตัวแปรที่จะใช้รับข้อมูลต้องประกาศเอาไว้ล่วงหน้า  และเป็นชนิดชุดอักขระ (สตริง) เช่น char str[] ก่อนรับข้อมูลด้วย  gets( )  เราควรแสดงข้อความเพื่อแจ้งให้ผู้ใช้ทราบพอสังเขปว่า ต้องใสข้อมูลเกี่ยวกับอะไร ซึ่งโดยส่วนใหญ่เรานิยมใช้ฟังก์ชัน printi( ) เพื่อให้จุดรอ รับข้อมูลอยู่ที่ท้ายข้อความ (ฟังก์ชัน printi( ) จะไม่ขึ้นบรรทัดใหม่) ข้อมูลที่รับผ่านฟังก์ชัน ฺจะกลายเป็นชนิดสตริง แม้จะใส่เปืนอักขระตัวเดียว หรือตัวเลข  ทั้งหมดก็ตาม และไม่สามารถนำไปคำนวณได้ (ยกเว้นจะผ่านการแปลงชนิดข้อมูลก่อน ซึ่งกรณีนี้จะกล่าวถึงในหัวข้อต่อตไป)  แนวทางการรับข้อมูลชนิดสตริงทางคีย์บอร์ดด้วยฟังก์ชัน gets( ) มีดังนี้ ตัวอย่าง 4-13 การรับข้อมูลชนิดสตริงทางคีย์บอร์ดด้วย gets(  แล้วนำไปแสดงผล #include  <stdio.h> hat s your nare  >ton jerry mhane are  you  come  from  >>usa  ho!ola are y04 >>38  void  main( ) your thformation:  char name[30] age[3]  from[200] ane tom  jerry ^ge:  3o printf( " inwhat s  your nane >> "); from:  usa  iname ) printf( " where ane you  come  from >> ); gets( fron) printf( " how  old are  you >>"  gets( age)  get  string  gets
--- Page 81 ---
 บทที 4 สตรึง การรับและแสดงผลข้อมูล 81 puts( puts(  your  information: " ) printf(  innane: %s  inage: %s  infrom: %sin" nane age.  from ) กาธธับข้อมูลหิลาย1นิดด้วย scanf( ) การรับข้อมูลด้วย getchar( ) หรือ gets() ดังที่กล่าวมานั้น เป็นการรับแบบเจาะจงชนิด ซึ่งอาจใช้งานได้เพียงบางกรณีเท่านั้น ฺถ้าเราต้องการรับข้อมูลได้หลายชนิด  ก็สามารถ เปลี่ยนไปใช้ฟังก์ชัน  scanf( ) ชึ่งรองรับการรับข้อมูลทางคีย์บอร์ดได้หลายชนิด และมีความ  ยืดหยุ่นมากกว่า โดยตัว f ที่ต่อท้ายชื่อฟังก์ชันมาจากคำว่า format หมายถึง เราสามารถระบุรูป แบบ (ชนิด) ข้อมูลที่จะรับผ่านฟังก์ชันนี้ได้ ด้วยรูปแบบดังนี้  scanf  สตริงควบคุมรูปแบบ ดัวแปร) หรือ  scanf  สตริงควบคุมรูปแบบ &ดัวแปร)  สตริงควบคุมรูปแบบ  (control- format-string)  เป็นตัวบ่งชี้ หรือข้อกำหนดว่า  เรา จะใช้รับข้อมูลชนิดใด โดยใช้สัญลักษณ์เป็นอักขระในแบบเดียวภกับที่เรากำหนดให้แก่  ฟังก์ชัน printf( ) แต่อย่างไรก็ตาม ฺในกรณีของเลขตัวเลข  เราต้องระบุสัญลักษณ์ให้  สอดคล้องกับชนิดข้อมูล  เพราะบางอย่างใช้แทนกันไมได้ (แม้จะไม่เกิดข้อผิดพลาด แต่อาจทำให้ได้ผลลัพธ์ที้ไม่ถูกต้อง ชึ่งต่างจาก printi( ) ที่อาจใช้แทนกันได้ในบางกรณี) และเพื่อความชัดเจนยิ่งขึ้นผู้เขียนขอนำสัญลักษณ์ที่เราอาจได้ใช้งานบ่อย ตมาแสดง เปรียบเทียบให้ดูระหว่างการใช้ร่วมกับ printi() และ scanf() อีกครั้งหนึ่ง data type  ptint()  scant() data type ptintf()  scant() int %d %d long long %lld %lld  unsigned int %u หรือ %d %u  float %i %f  short  %hd หรือ %d %hd  double %t  %if  unsigned short  %hd หรือ %d %hu  char %c %c  long  %ld หรือ %d  %ld  string %s %s  unsigned long %u หรือ %d %u  ข้อมูล
--- Page 82 ---
82 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน ตัวแปร ที่จะใช้เก็บข้อมูล ฺต้องประกาศไว้ล่วงหน้า และให้ชนิดข้อมูลสอดคล้องกับสตริง  ควบคุมรูปแบบ ทั้งนี้ การวางเครื่องหมาย & ไว้หน้าตัวแปรหรือไม ให้พิจารณาดังนี้  กำหนดแค่ชื่อตัวแปร (ไม่มี & นำหน้า) จะได้ข้อมูลแบบสตริง  แม้จะใส่ ค่าเป็น ตัวเลขทั้งหมดก็ตาม ฺชึ่งไม่สามารถนำไปคำนวณโดยตรงได้ กำหนดชื่อตัวแปรโดยมี & นำหน้า ถ้าใส่ข้อมูลเป็นตัวเลข ฺก็จะได้ข้อมูลชนิดตัวเลข ตามที่ระบุในสตริงสัญลักษณ์ และสามารถนำไปใช้ในการคำนวณได้ทันที  หรือกล่าวได้ว่า กรณีที่รับข้อมูลตัวเลข ให้เขียน & นำหน้าชื่อตัวแปรในแบบ &ชื่อตัวแปร ก่อนรับข้อมูลด้วย  scanf( )  เราควรแสดงข้อความเพื่อแจ้งให้ผู้ใช้ทราบพอสังเขปว่า ต้องใส่ข้อมูลเกี่ยวกับอะไร ซึ่งโดยส่วนใหญ่เรานิยมใช้ฟังก์ชัน print( ) เพื่อให้จุดรอ รับข้อมูลอยู่ที่ท้ายข้อความ (ฟังก์ชัน printi( ) จะไม่ขึ้นบรรทัดใหม่) เช่น  char  name[50] int  age: printf( "what s  your namne >> " ) ;  scanf( "%$ name) /รับข้อมูลชนิดสตริง printf( "how old are  you >> " ) ;  scanf( "%d"  &age ) /รับข้อมูลชนิดเลขจำนวนเด็ม  ฟังก์ชัน scanf(  สามารถรับข้อมูลพร้อมกันได้มากกว่า  ค่า โดยใช้ ช่องว่าง เป็น ตัวแบ่งข้อมูล  ชึ่งเราต้องกำหนดสัญลักษณ์ ควบคุมรูปแบบและตัวแปรให้ครบตาม  จำนวนข้อมูล และต้องเรียงลำดับให้สอดคล้องกัน เช่น  char firstnane[3o]  lastname[50] int  age; printf( "enter your  firstnane  lastname  and  age >>" ) :  scanf( "%$%$%d firstnane  lastname.,  &age ) : แนวทางการใส่ข้อมูล ฺเช่น  what your .>>john  snith  40  ค่าที่เก็บในตัวแปรจะเป็น  firstnane  john  lastnane  smith" age 40
--- Page 83 ---
 บทที 4 สตรึง การรับและแสดงผลข้อมูล 83 จากกรณีที่ฟังก์ชัน scanf( ) ใช้ช่องว่างเป็นตัวแบ่งค่าของข้อมูลที่รับจากคีย์บอร์ด จึง เกิดปัญหาเมื่อเราจะรับข้อมูลที่เป็นสตริงยาวๆ และมีหลายคำซึ่งโดยทั่วไปคำในภาษา  อังกฤษจะใช้ช่องว่างเป็นตัวแบ่งคำดังนั้น ฺถ้าเรารับค่าแบบสตริงโดยมีตัวแปรเดียว แล้วใส่ข้อมูลทางคีย์บอร์ดที่มีหลายๆ คำเช่น hello how are you ค่าที่เราอ่านได้ จะเป็นคำว่า hello เท่านั้น เช่น  char greeting[200] ; printf( ienter string >>" |  scanf( %s greeting) enter string  >>he1lo  how are  you ค่าที่เก็บในตัวแปรจะเป็น greet ing  hello" ในการรับข้อมูลสตริง ฺถ้าเรากำหนดสัญลักษณ์เป็น "%s" อาจได้เฉพาะคำแรกที่ใส่เข้า มา คำที่อยู่ถัดจากนั้นอาจสูญหายไป ทั้งนี้ เราอาจเลี่ยงไปใช้ gets( ) แทนก็ได้ หรือถ้า เราอยากใช้ scanf( ) เพียงแบบเดียวกับข้อมูลทุกชนิด ก็มีแนวทางแก้ไขได้โดยกำหนด สัญลักษณ์ ควบคุมรูปแบบเป็น "%[^ไn]" ชึ่งหมายความว่า ให้รับอักขระทั้งหมดยกเว้น  อักขระการขึ้นบรรทัดใหม่ (การกด <enter> นั่นเอง) ซึ่งกรณีนี้จะไมใช้ช่องว่างในการ  แบ่งคำดังนั้น เราจะได้ค่าเป็นสตริงตามที่เรากำหนด เช่น  char. str[100] ; printf( ienter string  >>" ) ; scanf( "%[^ไท] str) enter string   >>1 can ci str ="1 can c!  scanf() จะไม่มีปัญหาในการรับข้อมูลชนิดตตัวเลข เพราะเลขจำนวนเดียวกันจะเขียน ติดกันโดยไม่มีช่องว่างคั่น ปัญหาที่สำคัญอีกอย่างหนึ่งคือ ถ้าเราใช้ scanf( ) เพื่อรับข้อมูลต่อเนื่องกันหลายครั้ง อาจมีบางกรณีที่มันไม่หยุดรอรับข้อมูล  แต่จะข้ามไปทำคาสั่งถัดไปทันที เนื่องจากมัน ตีความหมายว่าปุ่ม <enter> ที่เรากดหลังใส่ข้อมูลครบเป็น อักขระ ตัว an) จาก นั้นมันก็จะเก็บอักขระนี้ไว้ในบัฟเฟอร์ (buffer) เมื่อเรารับข้อมูลครั้งถัดไปด้วย scanf()
--- Page 84 ---
84 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน มันจะนำอักขระจากบัฟเฟอร์ไปกำหนดค่าให้เองโดยอัตโนมัติ เด้วยเหตุนี้มันจึงไม่หยุดรอ ซึ่งความจริงเราสามารถแก้ไขปัญหานี้ได้หลายวิธี แต่ในเบื้องต้นนี้ผู้เขียนจะ แนะนำวิธีง่ายๆ เพียงแบบเดียวไปก่อน โดยการเพิ่มคำสั่ง getchar( ) หลังจากเรียก  scanf( ) เพื่อให้มันอ่านหรือล้าง (clear) เอักขระ in บัฟเฟอร์ก่อนรับข้อมูลค่าต่อไป ชึ่งขั้นตอนนี้จะไม่ทำาให้เกิดการหยุดรอแต่อย่างใด เช่น  char a[10o], b[100] scanf("%[^|n] a)  getchar( ); iiclear in. ในบัฟเฟอร์ (ไม่หยุดรอรับข้อมูล)  scanf( "%[^in] b)  getchar( );  iclear in. ในบัฟเฟอร์ (ไม่หยุดรอรับข้อมูล) ปัญหาที่กล่าวถึงในข้อสุดท้ายนี้  มักเกิดขึ้นในกรณีที่เรารับข้อมูลทางคีย์บอร์ดต่อเนื่องกัน  มากกว่า ครั้ง โดยทั่วไปมักจะเกิดกับการรับข้อมูลแบบสตริงและอักขระ ส่วนข้อมูลชนิดตัวเลข มักไม่เจอปัญหาดังกล่าว  แต่ถ้ามีกรณีเจอปัญหาแบบเดียวกัน เก็อาจนำวิธีการดังกล่าวนี้ไปใช้กับ การรับข้อมูลชนิดตัวเลขก็ได้เช่นกัน  สำหรับแนวทางการใช้งาน ให้ดูเพิ่มเติมจากตัวอย่างต่างๆ ดังต่อไปนี้ ตัวอย่าง 4-14 เป็นการนำตัวอย่างที่ 4-13 ฺมาปรับเปลี่ยนจากการรับข้อมูลด้วยฟังก์ชัน get()  ก็เปลี่ยนมาใช้ scanf( ) #include <stdio.h> what "s your nane  >>robert nillian johnson uhane ana you cone frgn  >uhited kingdon how  old are you>)4d  void  main( ) your  information: char  name[30], fron[100] int age namne: robert nilliam  jonnson from:  united kingdom age: aa printf(  inwhat s  your  nane >>  scanf( %[^in] nane)  getcnar( ) iiclear  in printf( " where are  you  cone  fron >2 scanf( "%[^in]  fron)  getchar( ) iiclear  in รับข้อมูล
--- Page 85 ---
 บทที 4 สตรึง การรับและแสดงผลข้อมูล 85 printf( "how old are  you >>" )  scanf( "%d  &age ) puts( puts(  your  infornat ion: printf(  inname: %s  infrom : %s  inage:  %d  เn name  from,  age) ตัวอย่าง 4-15 การรับข้อมูลตัวเลขทางคีย์บอร์ดด้วย scanf( ) แล้วเทียบว่าระหว่างการใช้ และไมใช้เครื่องหมาย & นำหน้าชื่อตัวแปรที่เป็นชนิดตัวเลข จะให้ผลต่างกันอย่างไร #include  <stdio.h>  using & first nunber>aa second number >>68 void  main() sa  ioo int numi`  nun2 ; uithout first aumber>>58  เกิดข้อผิดพลาด puts( " using &" ) ; ไม่รับข้อมูลต่อ printf( "first  number >>" ) : ie  langichapter4>  scanf( "%d  &nui1)  igetchar( ) /ไม่มีก็ได้ เพราะรับข้อมูลตัวเลข printf( "second  nunber >>" ) :  scanf( "%d &num2 ) igetchar( ) printf( "%d ad yd nui1  nunn2  (num1 nun2 ) ) ; puts ( in- puts(  inwithout &" ) printf( "first  number >>" ) ;  scanf( "%d nun1 ) ; & นำหน้าตัวแปร nun1 igetchar( ) printf( "second  nunber >>" )  scanf( "%d nun2 ) & นำหน้าตัวแปร  nun2 igetchar( ) printf( "%d yd id nun1 าun2  (nun1  nun2 ) ); /ไม่ระบุ /ไม่ระบุ
--- Page 86 ---
86 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน ตัวอย่าง 4-16 การรับข้อมูลทางคีย์บอร์ดครั้งละ ค่าโดยเป็น  example: taam taann >)3 ผลการแข่งขันฟุตบอลในบางคู่ ฺจากนั้นนำไปแสดงผล manu liverpoo1 )>2 chelsea ansena1>>31 mancity saun >>2 #include  <stdio.h>  void  main( )  footbal1 resuit: int ทน, ip, cs as inc  sp manu  livgrpoo- chalsea ansgna1 puts(  inexample:  inteam  team 8  >>3  2" ); mancity a. spur printf{ " inmanu  liverpoo1 >>" ) : scanf( %a%d" &ทu &1p) ; printf( "chelsea  arsena1 >>" ) ; scanf(  %a%d &cs . &as ) ; printf( " mancity  spur >>" ) ; scanf( %a%d" &nc  &sp) puts( wา  in") puts( "footbal1  result : printf(  inhanu  %d ชd liverpoo1" กน. lp) printf(  inchelsea  %d %d  arsenal cs. as) printf( " inmancity %d %d  spurin" nc sp) การแปลงชนิดข้อมูลธระทิว่างสตริงและตัวเลข ภาษา c นั้น จะเข้มงวดเกี่ยวกับชนิดข้อมูลเป็นอย่างมาก ดังนั้น เราต้องเลือกใช้ชนิดข้อมูล ให้ตรงตามที่กำหนด มิฉะนั้นอาจเกิดข้อผิดพลาด หรือได้ผลลัพธ์ที้ไม่ถูกต้อง ชึ่งปัญหาพื้นฐานอย่าง หนึ่งที่เราต้องพบอยู่บ่อยต ก็คือ การใช้งานสลับไปมาระหว่างข้อมูลแบบสตริงและตัวเลข  เช่น หากนำข้อมูลแบบสตริงไปคำนวณก็จะเกิดข้อผิดพลาด ฺหรือถ้านำข้อมูลชนิดตัวเลข ไปแสดงผล แบบสตริง  ก็อาจเกิดข้อผิดพลาดได้เช่นกัน ด้วยเหตุนี้  เราจึงควรเรียนรู้วิธีแก้ไข  เพื่อช่วยลด ข้อผิดพลาด และให้มีทางเลือกในการใช้งานที่หลากหลายมากยิ่งขึ้น ดังแนวทางต่อไปนี้ การแปลงสตริงเป็นตัวเลขด้วยฟังก์ชัน ato_() ตัวเลขที่เขียนหรือกำหนดค่าในแบบสตริง เราเรียกว่า number เช่น "1234" โดย ค่าเช่นนี้ถือเป็นข้อมูลประเภทสตริงไม่สามารถนำไปคำนวณได้ ซึ่งเราอาจแก้ไขด้วยการเปลี่ยน  สตริงให้เป็นข้อมูลชนิดตัวเลขอย่างแท้จริง และสามารถนำไปคำนวณต่างๆ ได้ตามต้องการ โดย ใช้ฟังก์ชันอันใดอันหนึ่งดังต่อไปนี้  string
--- Page 87 ---
 บทที 4 สตรึง การรับและแสดงผลข้อมูล 87  atoi(string) แปลงจากสตริงเป็นเลขจำนวนเต็มชนิด int  atof(string) แปลงจากสตริงเป็นเลขทศนิยมชนิด float atol(string) แปลงจากสตริงเป็นเลขจำนวนเต็มชนิด long  atoll(string) แปลงจากสตริงเป็นเลขจำนวนเต็มชนิด long long  ฟังก์ชันเหล่านี้ อยู่ในเฮดเดอร์ stdlib.h ดังนั้น เราต้องอ้างอิงไฟล์เฮดเดอร์นี้ด้วยคำ สัง include จึงจะใช้งานได้ ค่าสตริงที่กำหนดให้แก่ฟังก์ชันเหล่านี้ ต้องอยู่ในหลักเกณฑ์ที่สามารถแปลงไปเป็น ตัวเลขได้ เช่น  อาจเป็นเลขจำนวนเต็มหรือมีทศนิยม ฺที่มีค่าเป็นบวกหรือติดลบก็ได้ ถ้าสตริงนั้นมีอักขระที้ไมใช่ตัวเลขรวมอยู่ด้วย ต้องขึ้นต้นด้วยตัวเลขฺเท่านั้น เช่น "120$", "256g8" "0.95km" -10 celsius" ซึ่งสตริงเหล่านี้สามารถใช้ฟังก์ชัน ที่สอดคล้องกันเพื่ออ่านตัวเลขที่ขึ้นต้นมาใช้งานได้ ไม่  นับรวมกรณีที่ตัวเลขอยู่ระหว่างอักขระหรือลงท้ายด้วยตัวเลข  เช่น "$120"  "one2thee", "g7" ชึ่งสตริงเหล่านี้ ไม่ ฺสามารถใช้ฟังก์ชันเพื่ออ่านตัวเลขได้  ฟังก์ชันดังที่แสดงในตาราง จะให้ผลลัพธ์เป็นข้อมูลในชนิดที่สอดคล้องกัน นั่นคือ  atoi( ) ให้ผลลัพธ์ข้อมูลชนิด int atof( ) ให้ผลลัพธ์ข้อมูลชนิด float atol( ) ให้ผลลัพธ์ข้อมูลชนิด atoll( ) ให้ผลลัพธ์ข้อมูลชนิด long long  สำหรับแนวทางการใช้งาน ให้ดูจากตัวอย่างต่อไปนี้ ตัวอย่าง 4-17 การแปลงข้อมูลจากรูปแบบสตริง ให้เป็นตัวเลขชนิดต่างๆ แล้วทดลองนำไป  คำนวณแบบง่ายๆ เพื่อพิสูจน์ว่าค่าที่ถูกแปลงเป็นชนิดตัวเลขจริงหรือไม่ #include  <stdio.h> 123"" 124 67"' 44.57  #include  <stdlib.h> 25568"' 64 329 lla. 75calรi4s  lee -219.75 void  main( ) enter float nurber >>3.14159 char  one23[ ] "123 3.14159"' 9. 5 = 3.84  char  ff_point_ss[ ] '45 . 67  char storage.[ ] 256gb  long "45 
--- Page 88 ---
88 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน char tem[ ] 110 . 75celsius  char float_num[20] ; int atoi (one23 )  float atof( ff point_ss) ; int atoi ( storage )  float atof(ten) printf( " inv"%$ |  %d in" one23, 1 ) ; printf( " %$ | %0 .2f เn"  ff point_ss, 1 ) : printf("!"%$ | 64 %d in"  storage., 64 ) ; printf( " %s | 1oo %0 . 2f  in"  tem, 100 ) ; printf( " inenter float  nunber >> " ) : gets( float _num)  float atof( float _num) printf( " %s | o. 5 %0 . 2f  in  float_num , 0. 5 ) ; การแปลงตัวเลขเป็นสตริงด้วยฟังก์ชัน sprintf()  นอกจากการแปลงจากสตริงเป็นตัวเลขดังที่กล่าวมาในหัวข้อที่แล้ว ในบางครั้งเราต้องทำ  ในลักษณะที่ตรงกันข้าม นันคือ การแปลงจากตัวเลขไปเป็นสตริง ซึงแม้จะทำได้หลายวิธี แต่อัน ที่น่าจะง่ายสุดภ็คือ การนำฟังก์ชัน sprintf( ) มาดัดแปลงในรูปแบบดังนี้  sprintf(  ตัวแปรสตริงที่จะเก็บข้อมูล สัญลักษณ์รูปแบบตัวเลข ตัวเลขที่จะแปลง )  ฟังก์ชันนี้ก็คืออันเดิมที่เราเคยใช้ในการจัดเก็บสตริงผลลัพธ์หลังการจัดรูปแบบไว้ใน ตัวแปร เพียงแต่เราสามารถนำมาดัดแปลงเป็นการปรับเปลี่ยนชนิดข้อมูล สัญลักษณ์รูปแบบตัวเลข  ก็กำหนดเช่นเดียวกับฟังก์ชัน scanf( ) หรือ  printf() แต่ ในกรณีนี้  เราต้องการสตริงผลลัพธ์ที่มีแค่ตัวเลข  ดังนั้น  ไม่ควรมีสตริงอื่นฯ ราม อยู่ในสัญลักษณ์รูปแบบตัวเลข  และต้องกำหนดให้สอดคล้องกับชนิดข้อมูลตัวเลขที่ จะแปลง เช่น ถ้าเป็นเลขชนิด int ก็กำหนดสัญลักษณ์เป็น "%d" ถ้าเป็นเลขชนิด float ก็กำหนดสัญลักษณ์เป็น "%f"
--- Page 89 ---
 บทที 4 สตรึง การรับและแสดงผลข้อมูล 89 เนื่องจากเป็นฟังก์ชันเดิมที่เราผ่านการใช้งานมาแล้ว ชึ่งรายละเอียดปลีกย่อยต่างๆ ก็ ยังเหมือนเดิม  เพียงแต่มาปรับเปลี่ยนจากเดิมอึกเล็กน้อย สำหรับแนวทางการใช้งาน ให้ดูจาก ตัวอย่างต่อไปนี้ ตัวอย่าง 4-18 แนวทางการแปลงจากชนิดข้อมูลตัวเลขให้เป็นแบบสตริง #include <stdio.h> void  main( ) int 1234 ;  float f. 56 . 789:  char i_str[10], f_str[10] :  sprintf( izstr,  %d" i);  sprintf( f str %0 . 2f" f) : //เมื่อนำไปแสดงผล ฺเราสามารถใช้รูปแบบสตริงได้เลย printf(  ini %s f %s  in" ilstr. fstr); . ลักษณะผลลัพธ์คือ ii 1234 f. 56 . 79'  สิ่งที่เราได้เรียนรู้ไนบทนี้ คือข้อมูลชนิดอักขระ สตริง รวมถึงการรับและแสดงผลข้อมูลใน ลักษณะต่างๆ  ชึ่งถือเป็นพื้นฐานที่สำคัญ ยิ่งของภาษา c เพราะสตริงเป็นข้อมูลหลักที่ถูกใช้งาน บ่อยที่สุด และการแสดงผลก็ต้องทำควบคู่กันไปตลอด ดังนั้น เราควรศึกษาทั้ง 2  เรื่องนี่ให้เกิด ความเข้าใจที่ดีพอในระดับหนึ่ง มิฉะนั้นอาจเกิดปัญหาในการเรียนรู้เรื่องต่อตไปได้
--- Page 90 ---
 ว ...ง มะ  . . ) [773 เฆ . en . objec 3[0 ช. sele . .. อ a sled selec object to te trror xt airror . as m n. .. ว . 6 operator):  selected nirror  none tot bject
--- Page 91 ---
อิี ตัวเลขและกาธคำนวณ นิดข้อมูลที่สำคัญอย่างหนึ่งซึ่งเราต้องใช้งานกันอยู่ตลอดในการเขียนโปรแกรมนั่นภก็คือ ชรู้อยูลยนิตต้าวเสขวยกะไหนมางครงกจาเขินต้วงกาเนินกรขางอย่างทัยบข้อมูสเดึงกส่าวด้วย  เครื่องหมายทางคณิตศาสตร์ ก่อนจะนำไปใช้งานในขั้นตอนต่อไป  เช่น การบวก ลบ คูณ หาร เป็นต้น  แต่ในบางลักษณะอาจไม่มีเครื่องหมายสำหรับกรณีนั้นโดยตรงฺ เราต้องใช้ฟังก์ชันที่  เกี่ยวข้อง หรือกำหนดวิธีการคำนวณเอาเอง ดังรายละเอียดที่เราจะได้เรียนรู้กันในบทนี้  เครื่องทิมายสำทิรับการกำทินดค่า  เครื่องหมายสำหรับการกำหนดค่า (assignment operator) ก็คือเครื่องหมายเท่ากับ (=) นั่นเอง โดยการใช้เครื่องหมายชนิดนี้ ต้องมีองค์ประกอบ 2 อย่างคือ ตัวแปรที่อยู่ทางฝั่งช้ายของ  เครื่องหมาย และค่าที่อยู่ทางฝั่งขวาของเครื่องหมาย เชึ่งสามารถสรุปได้ดังตาราง  เครื่องหมาย ชื่อเรียก ตัวอย่างการใช้งาน  เท่ากับ หรือกำหนดค่า (assignment) x = 10 ลักษณะการใช้เครื่องหมาย โดยทั่วไปเราก็คุ้นเคยกันดีอยู่แล้ว เช่น int 12345;  float 6.789 ;  char title[1 "c programning language เราสามารถกำหนดค่าต่อเนื่องกันในแบบ chaining assignment โดยค่าจะ ถูกกำหนดให้แก่ตัวแปรจากขวาไปช้าย เช่น  นอกจากนี้
--- Page 92 ---
92 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน int x, y.  z; y= z= 10 ;  จากโค้ดข้างบน การกำหนดค่าจะเรียงตามลำดับคือ z = 10, y = z และ x= y นันแสดง ว่าทั้ง x., y และ  จะมีค่าเป็น 10 เหมือนกันหมด ตัวอย่าง 5-1 หากเราต้องสลับค่าระหว่างตัวแปร 66 (66) 6  (99) 2  ตัว ในแบบที่ต้องใช้ตัวแปรที่สามเข้ามาช่วยสำหรับ 99 b = c (66) การพักข้อมูล ฺมีหลักการดังนี้ ค่าอธิบาย  โค้ด ค่าของดัวแปร สมมติว่าเราจะสลับค่าระหว่าง 2 ตัวแปรคือ a และ b a = 66 a = 66 b = 99 b = 99 สร้างตัวแปรที่สาม  (c) เพื่อใช้พักข้อมูล โดยให้มีค่า a = 66 เท่ากับตัวแปรที่หนึ่ง ๖ = 99 c = 66 ให้ตัวแปรที่หนึ่ง มีค่าเท่ากับตัวแปรที่สอง a = d a = 99 b = 99 c = 66 ให้ตัวแปรที่สอง มีค่าเท่ากับตัวแปรที่สาม b = c a = 99 b = 66 ตัวแปรที่จะสลับค่าระหว่างกัน  ต้องเป็นชนิดเดียวกัน  หรือชนิดที่สามารถแปลงข้อมูล ระหว่างกันได้โดยอัตโนมัติแบบ implicit (automatic) conversion เช่น short., int., long เป็นต้น #include  <stdio.h>  bgfore  swapping: 198, -1939 after  swapping: -18e9, 1อ8  void  main( ) int 108 : int 1009; int c.: //สร้างตัวแปรที่สามเพื่อใช้พักข้อมูล printf( " inbefore  swapping: %d. %d" a. b) a: /ให้ตัวแปรที่สาม ฺมีค่าเท่ากับตัวแปรที่หนึ่ง
--- Page 93 ---
 บทที 5 ตัวเลขและการคานวณ 93 b; เน้ำค่าที่สองไปเก็บในตัวแปรแรก c.; /น้ำค่าแรกที่เก็บในตัวแปรที่สาม ไปเก็บในตัวแปรที่สอง printf(  inafter  swapping: %d ya an" a. d) เครื่องทิมายสำหิรับการคำนวณทางคณิตศาสตร์  เครื่องหมายทางคณิตศาสตร์ (arithmetic operator)  ก็คือเครื่องหมายพื้นฐานต่างๆ ที่ใช้  ในการบวก ลบ  คูณ และหาร นั่นเอง โดยต้องดำเนินการกับตัวเลข 2 จำนวน เชึ่งเครื่องหมาย ในกลุ่มนี้คือ  เครื่องหมาย ชื่อเรียก ตัวอย่างการใช้งาน บวก (addition) 10 20 ลบ (subtraction) 1oo 50 คูณ (multiplication) 10 หาร (division) 50 / 10 ค่าที่เหลือของการหาร (remainder) 13 % 5 = 3 ถ้าเรากำหนดชนิดข้อมูลของตัวแปรที่ใช้เก็บผลลัพธ์เป็นชนิดจำนวนเต็ม  เช่น short., int., long ผลลัพธ์จะถูกแปลงเป็นจำนวนเต็มเสมอ แม้ผลลัพธ์ที่ได้จะเป็นเลขทศนิยม  ก็ตาม ถ้าเรากำหนดชนิดข้อมูลของตัวแปรที่ใช้เก็บผลลัพธ์เป็นชนิดทศนิยม เช่น  float  double ผลลัพธ์จะถูกแปลงเป็นจำนวนทศนิยม แม้ผลลัพธ์ที่ได้จะเป็นเลขจำนวนเต็ม ก็จะมี .0 ต่อท้าย เช่น จาก 5 => 5.0 การคำนวณระหว่าง จำนวน!เต็ม กับ  จำนวนเต็มฺผลลัพธ์ที่ได้จะเป็นจำนวนเต็ม เสมอ ดังนั้น ในกรณีนี้ เราควรกำหนดชนิดข้อมูลของตัวแปรที่ใช้เก็บผลลัพธ์เป็นชนิด จำนวนเต็มเช่นก้น เนี่คือประเด็นสำคัญที่เราต้องพึงระวังเป็นพิเศษ โดยเฉพาะอย่างยิ่ง กับการหาร เช่น 15 10 = 1 การคำนวณระหว่าง จำนวนที่มีทศนิยมฺกับ จำนวนใดต ผลลัพธ์ที้ได้จะเป็นจำนวน ที่มีทศนิยมเสมอ ถึงจะได้ค่าเป็นจำนวนเต็มก็จะมี .0 ต่อท้าย ดังนั้น เราควรกำหนด ชนิดข้อมูลของตัวแปรผลลัพธ์ให้เป็นชนิดเลขทศนิยม ฺเช่น float หรือ double มิฉะนั้น  อาจได้ผลลัพธ์ที้ไม่ถูกต้อง เช่น 1o.5 + 0.5 11.0 หรือ + 0.0 1.0
--- Page 94 ---
94 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน  เครื่องหมาย และ  ก็เป็นการบวก ลบ ตัวเลขธรรมดา  และสิ่งที่เราพิจารณาอีก อย่างคือ  ชนิดข้อมูลของผลลัพธ์อาจถูกแปลงให้สอดคล้องกับชนิดข้อมูลของตัวแปร ที่ใช้เก็บผลลัพธ์ เช่น int 15 5 ; /20  float 15 5 ; //20 .0  ( ชนิด  float ) int 15 5 ; //10  double 15 5 ; //10 .0  เครื่องหมาย จะเป็นการหารแบบปกติ ทีอาจได้ผลลัพธ์เป็นจำนวนเต็มหรือทศนิยม (ชนิดข้อมูลของผลลัพธ์จะขึ้นกับชนิดข้อมูลของตัวแปรที่ใช้เก็บผลลัพธ์) เช่น int 1o 2 ; //5  int  1oo 5 ; //20  double 1o 2 . 5: //4 .0  float 1o 4 ; //2 .5 int 1o 4 ; /ปกติเท่ากับ 2 . 5  (float )  แต่ชนิดตัวแปรที่เก็บผลลัพธ์เป็น  int /จึงถูกแปลงจาก  float => int /นั่นคือ lint)2 . 5 a>  เครื่องหมาย % (หรือเรียกว่า modulus) เป็นการหารแบบเอาเฉพาะค่าที่เหลือ  (remaining) โดย ทั้งตัวตั้งและตัวหารต้องเป็นจำนวนเต็ม ฺมิฉะนั้นจะเกิดข้อผิดพลาด เช่น int 8  %  3 ; fa  ค่าสูงสุดที่ 3  ทารลงตัวคือ /ด้งนั้น ค่าที่เหลือคือ (8 6 ) int 10 %  5 ; fo กรณีนี้เป็นการหารแบบลงตัว ดังนั้น ค่าที่เหลือคือ int 13  %  4 ; iic  ค่าสูงสุดที่ หารลงตัวคือ 12 /ด้งนั้น ค่าที่เหลือคือ (13 12 )  float 50  %  2 .5 ; ferror  ทั้งตัวตั้งและตัวหารต้องเป็นเลชชนิดจำนวนเต็ม
--- Page 95 ---
 บทที 5 ตัวเลขและการคานวณ 95 int 12 .0 %  5 : ferror ทั้งตัวตั้งและตัวหารต้องเป็นเลขชนิดจำนวนเต็ม /เนื่องจาก 12 .0  มัทศนิยม ฺจึงถือเป็นชนิด  float การหารระหว่าง จำนวนเด็ม กับ จำนวนเต็มฺผลลัพธ์ที่ได้จะถูกแปลงเป็น จำนวนเต็ม โดยอัตโนมัติ แม้ว่าผลลัพธ์ที่เกิดขึ้นจริงจะมีทศนิยมด้วย (หารไม่ลงตัว) หรือกำหนด ตัวแปรที่เก็บผลลัพธ์เป็นประเภท float หรือ double ก็ตาม จึงอาจได้ผลลัพธ์ที้ไม่ถูก ต้อง ทั้งนี้ หากเราต้องการผลลัพธ์เป็นเลขทศนิยมตามผลหารจริงที่ได้ อาจแปลงชนิด (คาสต์) ตัวตั้ง  และ/หรือ  ตัวหาร ให้เป็น float หรือ double พร้อมกำหนด ตัวแปรที่เก็บเป็นข้อมูลประเภทนี้ด้วยเช่นกัน ดังแนวทางต่อไปนี้ /ปกตินั้น 1o 2 . 5 int 1o / 4 : fra เพราะตัวแปรเก็บผลลัพธ์เป็นชนิด int ผลลัพธ์จึงถูกแปลงเป็น int  โดยอัตโนมัติ /ด้งนั้น ผลลัพธ์ที่ได้จึงไม่ถูกต้อง  float 1o 4 ; tb 2 . 0 เพราะทั้งตัวตั้งและตัวหารเป็นจำนวนเต็ม  ผลหารก็จะเป็นจำนวนเต็มด้วย /แม้ b  จะเป็นชนิด  float ก็ตาม /ด้งนั้น ผลลัพธ์ที้ได้จึงไม่ถูกต้อง  float  (float 1o 4 : fic 2 .5  เพราะแปลงตัวตั้งเป็นชนิด  float ผลลัพธ์จึงเป็นชนิด  float  ด้วย  float 1o  ffloat )4 : ird 2 . 5  เพราะแปลงตัวหารเป็นชนิด  float ผลลัพธ์จึงเปินชนิด  float  ด้วย  float (float )10  (float )4 ; rd 2 . 5  เพราะแปลงทั้งตัวตั้งและตัวหารเป็นชนิด  float ผลลัพธ์จึงเป็นชนิด  float  ค้วย ข้อมูล
--- Page 96 ---
96 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน ตัวอย่าง 5-2 รับค่าความกว้างและความสูงของรูปสี่เหลี่ยมมุมฉาก (rectangle) ผ่านทาง คีย์บอร์ดด้วยฟังก์ชัน scanf( ) แล้วคำนวณหาพื้นที่และความยาวโดยรอบ ดังนี้ #include  <stdio.n> rectangle width  >>20  rectangle  height ))39 anga sอo  void  main( )  perimeter  zee  float width., height, area.,  .perineter; printf(  inrectangle width  >>" )  scanf( %f"  &width) printf( " rectangle  height >> " ) scanf( %t  &height ) area width neight;  perineter  (wiath  height ) ; printf( "area %g  inperineter %g เn" area.,  perineter ตัวอย่าง 5-3 รับข้อมูลทางคีย์บอร์ดและดำเนินการดังนี้ 1. รับข้อมูลจำนวนสินค้าที่จะซื้อ 2. รับข้อมูลราคาสินค้าต่อหน่วย 3.  ให้สินค้ามีส่วนลด 10%  (หักจากราคา)  คำนวณหาผลรวมที่ต้องจ่ายจริง  (จำนวน x ราคา) 5. รับข้อมูลจำนวนเงินสดที่ผู้ซื้อจ่ายมา 6.  คำนวณหาจำนวนเงินที่ต้องทอน  quantity to buy >)5 prica par unit>>158. 58 total  (before discount): 752 . 58 #include <stdio.h> tota1  (after discount  18%) : 677.25 pay))1899  void  nain( ) change: 322.75 int  quantity;  float price., total1, total2, pay.,  change; เจำนวนสินค้าต้องเป็นจำนวนเต็ม printf( " inquantity to >>" ) buy
--- Page 97 ---
 บทที 5 ตัวเลขและการคานวณ 97  scanf( "%d"  &quantity) /ราคาสินค้าอาจมทศนิยมได้ printf( "price per  unit >>" ) :  scanf( "%f"  aprice) //ผลรวม ( ก่อนหักส่วนลด) total1  quantity price; printf( "total  (before discount ) %0 .2f" total1) //ผลรวม หลังหักส่วนลด  10% total2  (total1 ( 1oo 10)) 100: printf( " intotal (after discount  10%% ) %0 . 2f" total2 //จำนวนเงินสดที่จ่าย printf( " in inpay >>" ) ;  scanf( "%f"  &pay) //เงินทอน  change pay total2; printf( "change: %0 . 2f  in  change) ตัวอย่าง 5-4 รับค่าทางคีย์บอร์ดเป็นจำนวนวินาที แล้วนำมาแปลงเป็นหน่วย ชัวโมง นาที วินาที เช่น 3665 วินาที เท่ากับ  ชั่วโมง  นาที 5 วินาที เป็นต้น โดยให้เริ่มจากหน่วยที่มีค่า มากสุดที่เป็นไปได้เสมอ ซึ่งมีแนวทางดังนี้ /3600 (แปลงเป็นจำนวนเต็ม) ชัวโมง /3600 (แปลงเป็นจำนวนเต็ม) วินาที  นาที ค่าที่เหลือ % 3600 (คาทีเหลือ) วินาที % 60 (ค่าทีเหลือ)
--- Page 98 ---
98 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน  จำดับ  หลักการ ตัวอย่างโค้ด สมมติว่า เวลาที่กำหนดเป็นวินาทีเท่ากับ 4oo0 วินาที t = 4000 แปลงจากชั่วโมง => วินาที ซึ่ง1 ชั่วโมง เท่ากับ 3600 วินาที 4000 / 3600 = 1 ดังนั้น  ต้องเอา  3600  ไปหารจากจำนวนวินาที แล้วแปลง เป็นจำนวนเต็ม หาค่าที่เหลือจากจำนวน ชั่วโมง  โดยใช้วิธีการหารแบบเอา r = 4000 % 3600 400 ค่าที่เหลือ  เอาค่าที่เหลือจากข้อ 3 ( วินาที) มาแปลงเป็นนาที โดย นาที m = r / 60 = 400 6o เท่ากับ  6o วินาที ดังนั้น ต้องเอา 6o ไปหารแล้วแปลงเป็น m = 6  จำนวนเต็ม ค่าที่เหลือจากการหาจำนวนนาที จะกลายเป็นวินาที ซึ่งเราก็ s = r % 60 = 400 % 60  แค่ เอาค่าจากข้อ 3 มาหารด้วย 6o แบบเอาค่าที่เหลือ s = 40 สรุปได้ว่า 4000 วินาที เท่ากับ ชั่วโมง 6 นาที 40 วินาที #include  <stdio.n> total time in  second>>8803 hours:  void nain( ) iihutes: 26 : seconds a9 int total tine sec,  renain  lbbe  hours  minutes  seconds ; /ก้ำหนดเวลาเป็นวินาที printf(  intotal tine in  second >>" ) ; scanf( ad &total time_sec) hours total t ime sec 3600 ; /ชั่วโมง  remain total tine sec %  3600 ; /หาค่าที่เหลือ ininutes  renain 60 ; /นาที  seconds renain % 60 ; i//ค่าที่เหลือคือ วินาที printf( " inhours nd hours) printf(  inm inutes %d  minutes) printf( " inseconds %d in"  seconds ) ;
--- Page 99 ---
 บทที 5 ตัวเลขและการคานวณ 99 ตัวอย่าง 5-5 เปรียบเทียบผลลัพธ์ที่ได้ระว่างการหาร จำนวนเต็ม กับ จำนวนเต็ม  #include <stdio.h> void  main() int n1 55 , n2 10 ; int n1 n2 :  float n1 n2 ;  float  (float )n1 n2 ;  float n1 (float )n2 ;  float  (float )n1  (float )n2 ; printf(  ina %d. yg. %g. yg. %g  in a. d. c. d. ร, p= 5, 5.5, 5.5, 5. 5  เครื่องทิมายสำหิรับการคำนวณและกำทินดค่า  เครื่องหมายสำหรับการคำนวณและกำหนดค่า (arithmetic assignment operator หรือ compound operator) เป็นการนำเครื่องหมายสำหรับการคำนวณ (arithmetic) มารวมกับ  เครื่องหมายสำหรับกำหนดค่า (assignment) เพื่อให้เป็นเครื่องหมายอันเดียวกัน ชึ่งมีดังนี้  เครื่องหมาย ชื่อเรียก ตัวอย่าง  addition assignment  (บวกเพิมด้วยค่าเท่ากับ) x += 10  subtraction assignment (ลบออกด้วยค่าเท่ากับ) 50  multiplication assignment (คูณด้วยค่าเท่ากับ) x *= 20  float division assignment (หารด้วยค่าเท่ากับ) x /= 10 %=  remainder assignment (หารแบบเอาค่าที่เหลือด้วยค่าเท่ากับ) %= 3 ข้อมูลผลลัพธ์ของเครื่องหมายทุกอัน  จะถูกแปลงให้สอดคล้องกับชนิดข้อมูลของ ตัวแปรที่ใช้เก็บผลลัพธ์  เครื่องหมาย + เป็นการบวกค่าเดิมของตัวแปรด้วยค่าที่อยู่ทางด้านขวาของ  เครื่องหมาย  แล้วผลลัพธ์หลังการบวก ก็จัดเก็บไว้ในตัวแปรนั้นตามเดิม (เหมือนกับ การแทนที่ค่าเดิม) เช่น
--- Page 100 ---
1oo การเขียนโปรแกรมกาษา c ขั้นพืนฐาน 1o x =  10 นำค่าเด็มของ xมาบวกเพิม่มอึก1 บวก เพิ่มจากค่าเด็มของ ix  แล้วเก็บผลลัพธ์ไว้ในตัวแปร x x=  x+ 1 x += 1 แล้วเก็บผลลัพธ์ไว้ที่ตัวแปร x เหมือนเดิม เหม็อนเดิม x =  11 x=  11 int  ix 10 ; 1; iix= x+ 1  = 10 + 1  =  11 aa 1. 5 ; iix (int)12 . 5 =  12  float  y = 4 .5 ; 0. 5 ; //y = 4 .5  +  0 . 5 5 . 0  short 1o, 6 : = -2 ; iiz 1o ( -2) a= a; //7 = 8  +  6  =  14 เครื่องหมาย -= เป็นการลบค่าเดิมของตัวแปรด้วยค่าทางด้านขวาของเครื่องหมาย เช่น int 20 ; 15 ; iix =  ix l0 20 15  float 10. 5 ; -0 . 5 : ffy 10. 5 ( -0. 5) 1o  เครื่องหมาย *= เป็นการคูณค่าเดิมของตัวแปรด้วยค่าทางด้านขวาของเครื่องหมาย เช่น int  ix 5; 2 ; iix 5 2 1o 1.25 ; iix (int)(12.5) 12  float -2 . 5 ; 4 :  iy -2 . 5 ( -4 ) 1o. 0  เครื่องหมาย i= เป็นการหารค่าเดิมของตัวแปรด้วยค่าทางด้านขวาของเครื่องหมาย เช่น int x= 100; = 20 : iix 1oo 20  float y 40 . 8 ; y = -4 : iy -40 . 8 ( -4 ) 10.2
--- Page 101 ---
 บทที 5 | ตัวเลขและการค้าบวณ 101  เครื่องหมาย %= เป็นการหารค่าเดิมของตัวแปรด้วยค่าทางด้านขวาของเครื่องหมาย เพื่อหาค่าที่เหลือ (remainder) ซึ่งเราก็ใช้หลักการเดียวกับเครื่องหมาย % ดังที่กล่าว มาแล้ว ถ้าหารไม่ลงตัวต้องเปลี่ยนเป็นค่ามากที่สุดที้ไม่เกินค่าของตัวตั้งและหารได้ลง ไป แล้วคำนวณหาที่เหลือ ซึ่งก็คือผลต่างระหว่างค่านั้น ตามหลักการเดิม เช่น int x=  31 : x %=  4 ; iix=  31 % 4 =>  28  % 4 => 31 28 int y =  -26 : ) %=  8 ; //y =  -26  %  8 => -24 %  8  => 26 ( -24) -2 int z =-15 : 7  %= -7 ; /iz = -15  %  -7  =>  -14 %.7 => า5 ( -14 ) าา ตัวอย่าง 5-6 รับตัวเลข 5 จำนวนทางคีย์บอร์ด แล้วหาผลรวมและค่าเฉลี่ย  #include <stdio.h> value f1 >>38 value f2 >>23  value #3 >>59 void main() value e4 >>18 int  nt, n2 . n3 , n4 sum  lle int sum 0 : //เริ่มแรกให้ผลรวมเป็น average 27.5  float average; printf( " invalue #1 >>" ) ;  scanf( "%d" &n1) : sum n1 printf( " value  #2 >>" ) :  scanf( "%d" &n2 ) : sum n2 printf( " value  #3 >>" ) :  scanf( "%d" &n3 ) sum n3 : printf( " value #4 >>" ) :  scanf( "%d" &n4 ) : sum n4
--- Page 102 ---
102 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน average  (float ) sum 4 ; /สาเหตุที่ต้องคาสต์ ก็ตามที่ได้กล่าวไปในหัวข้อก่อนนี้ printf(  insum %d sun) printf( " inaverage %g  เn" average) ตัวอย่าง 5-7 สมมติว่ามียอดเงินคงเหลือในบัญชีจำนวนหนึ่ง (balance) ให้รับตัวเลขทาง คีย์บอร์ด หากเป็นการฝาก  (deposit) ให้เพิ่มจากค่าเดิมของยอดคงเหลือ  แต่หากเป็นการถอน  (withdraw) ให้ลบออกจากยอดคงเหลือ # include  <stdio.h> balance:  leee .ithdrar. >>498  void  main( )  balance sba int w. d. 1000 :  deposit ))808 balance:  l4ee printf( " inbalance: %d" d)  deposit  >>6ee balance:  2ea8 printf(  in inwitndraw >>  scanf( ad &w) withdra))908 balance: liss w: printf(  balance :  yd b) printf( " in indeposit >>" ) ; scanf( "%d &d) = d; printf(  balance :  ya" b) printf( " in indeposit >>" ) ; scanf( %d &d) = d: printf(  balance :  %d b) printf( " in inwithdraw >2  scanf( %d 8w) w: printf( " balance:  yd" b) putchar(  in" ):
--- Page 103 ---
 บทที 5 | ตัวเลขและการค้าบวณ 103  เครื่องทิมายสำทิรับเพิ่มและลดค่า  เครื่องหมายสำหรับเพิ่มและลดค่า (increment & decrement operator) จะใช้กับข้อมูล เพียงจำนวนเดียว เซึ่งเครื่องหมายในกลุ่มนี้ประกอบด้วย เครื่องหมาย ชือเรียก ตัวอย่าง increment (เพิ่มจากค่าเดิมไปอีก 1) x++ หรือ ++x  decrement (ลดจากค่าเดิมลงไป 1) หรือ x--  เครื่องหมาย เป็นการเพิ่มค่าของข้อมูลจำนวนนั้นจากเดิมไปอีก  จึงเทียบเท่ากับ การใช้เครื่องหมาย += นันเอง เช่น int 10 ; a++ fra 11 หรือเทียบเท่ากับ =  float 10.75 : ++d : o 11.75 หรือเทียบเท่ากับ +=  short 999 :  short ++c: iia 998  เครื่องหมาย เป็นการลดค่าข้อมูลจำนวนนั้นจากเดิมลงอึก  จึงเทียบเท่ากับการใช้ เครื่องหมาย นั่นเอง เช่น  int 10 ; fa 9  หรือเทียบเท่ากับ .3  float 10.75 ; b: ib 9.75 หรือเทียบเท่ากับ .  short 999 :  short d =c.: iid tooo ( -999-1) การวางเครื่องหมาย ++ หรือ ไว้ด้านหน้า  (prefix) หรือด้านหลัง  (suffix หรือ  postfix) ของจำนวน หากตัวแปรนั้นอยู่เพียงลำพัง ค่าที้ได้จะไม่ต่างกัน เช่น int 10 : x++ : iix  = 11 ++x: /ix = 12 ++
--- Page 104 ---
104 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน x- _ iix 11 - x ; iix 1o หากนำเครื่องหมาย ++ หรือ ไปกระทำร่วมกับจำนวนอื่นท จะมีหลักการพิจารณาที่ แตกต่างออกไป ดังนี้ ถ้าวางเครื่องหมาย ++ หรือ ไว้ด้านหน้าจำนวนใด ให้เพิมหรือลดค่าของจำนวน นั้นอีก ก่อน แล้วค่อยนำค่าที่ได้ไปกระทำกับจำนวนอื่น หรือสรุปสั้น ต ก็คือ ถ้า วางไว้ข้างหน้า ก็ให้คิดตัวที่มี + หรือ ก่อนนั่นเอง เช่น  โค้ดที่เขียน วิธีคิด 10; (1) ++a = 10 + 1 = 11 ++a: (2) b = 11 100; (1) --c = c - 1 = 99 = --c' (2) d = 99 a = 10; (1) ++a = 10 + 1 = 11 b = 100; (2) --๖ = 100 - 1 = 99 e = ++a --b: (3) e = 11 + 99 = 110 a = 100; (1) ++a = 100 + 1 101 ++a: (2) a = ++a 101 100; (1) ++b (ตัวแรก) 1oo 101 (2) ++b (ตัวหลัง) 101 1 = 102 ++b ++b; (3) ++b ++b 101 102 203 (4) b = 203 c = 100: (1) ++c =  (100 1) = 101 += ++c; (2) c += ++c => c = c + (++c) = 100+101 c = 201 d = 9; (1) --e = 99 1 = 98 99: (2) ++d 9 + 1 = 10 ae ++d; a-e ++d 98 10 = 88 (4) e -= 88 => e = e - 88 (5) e = 99 88 = 11 (ค่าเดิมของ คือ 99)
--- Page 105 ---
 บทที 5 | ตัวเลขและการค้าบวณ 105 ถ้าวางเครื่องหมาย ++ หรือ ไว้ด้านหลังของจำนวน กรณีนี้มีวิธีการคิดยุ่งยาก  เล็กน้อย  โดยให้เพิ่มหรือลดค่าด้วย ++ และ ทีหลังเครื่องหมายประเภท  assignment เช่น +=, เป็นต้น ให้ดูแนวทางจากโค้ดต่อไปนี้  โค้ดที่เขียน วิธีคิด 10; (1) b = a = 10 a++;  กำหนดค่าด้วย ก่อน ส่วน ++  ทำทีหลัง (2) a = 10 + 1 = 11 100; (1) d = c = 100 = c--: [2) c-- 100 - 1 => c = 99 100: c = c 1oo c++: (2) c++ ไม่มีผล c: = c= 1oo c = 100; (1) c += c = 100 10o 200 += c++: [2) c++ 200 + 1 => c = 201 d = c; d = c = 201 c= 100; d = c. 5 = 105 (คำนวณ ทีหลัง) = c++ + 5; (2) ch+ 10o 1 = 101 a = 5; c = 5 10 = 50 10; (2) a++ = 5 + 1 => a = 6; c= att b--: [3) b-- = 10 - 1 => b = 9 a = 5; --b = 10 - 1 = 9 10; c = 5 * 9 = 45 c = a++ b: [3) a++ = 5 + 1 = 6 ความจริงแล้ว  หลักการคำนวณดังที่กล่าวมานี้  พิจารณาตามลำดับความสำคัญของ  เครื่องหมาย ดังที่จะกล่าวถึงในหัวข้อถัดไป ลำดับการประมวลผลของเครื่องทิมาย หากเราต้องใช้เครื่องหมายร่วมกันมากกว่า อย่างสำหรับการคำนวณแบบต่อเนื่องกัน ก็  อาจเกิดปัญหาว่า จะนำเครื่องหมายใดมาพิจารณาก่อน เพราะการวางตำแหน่งหรือจัดกลุ่มที่ต่าง กัน ผลลัพธ์ที่ได้ก็อาจแตกต่างกันไปด้วย เช่น ลองพิจารณาโค้ดต่อไปนี้
--- Page 106 ---
106 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน 1o 20 5 : /ถ้าคิดในแบบ  ( 10 20 ) / 5 /ถ้าคิดในแบบ 1o ( 20 5 ) 14  จากโค้ด  หากพิจารณาในมุมมองของเราเอง  อาจตัดสินใจไม่ได้ว่าอันไหนถูกต้อง  ดังนั้น  ในภาษา c. (รวมถึงภาษาคอมพิวเตอร์อื่น") จึงมีการจัดลำดับความสำคัญของเครื่องหมาย เซึ่ง จากเครื่องหมายการคำนวณทางคณิตศาสตร์ที่เราได้ศึกษามา ฺสามารถจัดลำดับความสำคัญหรือ ลำดับการประมวลผลได้ดังนี้ จำคับ  เครื่องหมาย พิจารณาวงเล็บเป็นอันดับแรก ax (ค่าติดลบ เช่น -5) ++x.==x (วางไว้ข้างหน้า) *, /, i/, % =, +=. -=, /=. %= x++. x-- (วางไว้ข้างหลัง)  เครื่องหมายที่มีลำดับเท่ากัน เครื่องหมายที่มาก่อนจะถูกนำมาใช้ในการคำนวณก่อน (หรือ ดำเนินการจากข้ายไปขวา) โดยแนวทางการใช้งาน มีดังตัวอย่างต่อไปนี้ ตัวอย่าง 5-8 เป็นการทดสอบลำดับความสำคัญของเครื่องหมายทางคณิตศาสตร์ #include  <stdio.h>  void  main( ) int a. b. c.. e. f.  g: 100 10 ; ffa [2 100 ) 1o 20 1oo 1o 2 ; fb {1oo 10 ) 20 100 10 ; iic (10o 10)
--- Page 107 ---
 บทที 5 | ตัวเลขและการค้านาณ 107 100 1o 30 ; id ( (2 100 ) 10) 30 5 : 10 ; e++ -f: ig (10 1) 45 //เนื่องจาก  e++ มีลำดับความสำคัญต่ำสุด /ดังนั้น การประมวลผลด้วย และกำทนดค่าด้วย //จึงเกิดขืนก่อน 9+- printf( " ina %d  ino ad  inc %d  ind %d  ing %d"  2o a. p. c. d 2e  lea1  se = 45 ในทางปฏิบัติเพื่อทำให้โค้ดอ่านง่ายขึ้น  และหลีกเลี่ยงข้อผิดพลาดจากลำดับความสำคัญ ของเครื่องหมาย ควรใช้วงเล็บในการจัดแบ่งกลุ่มให้ชัดเจน เหมือนกับที่แสดงในคำอธิบาย  ฟังก์ชันทางด้านคณิตศาสตร์  ในภาษา c  จะมีฟังก์ชันทางด้านคณิตศาสตร์ให้เราเลือกใช้อยู่จำนวนหนึ่ง แต่ฟังก์ชันเหล่านี้  อยู่ในเฮดเดอร์  math.h  ดังนั้น  เราต้องอ้างอิงด้วยคำสั่ง ceil  ceil  include  เสียก่อนจะใช้งานได้  โดยในที่นี้จะกล่าวถึงเฉพาะ 2.5 1.5  ฟังก์ชันที่น่าสนใจขชึ่งเรามีโอกาสได้ใช้งานสำหรับการเขียน 1.5 = -2.5 # โปรแกรมทั่วซไปเท่านั้น (ภาพขวามือใช้ประกอบการ floor  floor พิจารณาฟังก์ชัน ceil. และ floor) abs( เลขจำนวนเต็ม) หาค่า absolute ของเลขที่กำหนด เช่น abs(-10) => 10  pow(เลขฐาน, ยกกำลัง) หาค่าเลขยกกำลัง เช่น pow(10, 3) => 1000  sqrt( จำนวนบวก) รากที่สองของจำนวนที่ระบฺุตเต้องไม่ติดลบ) เช่น sqrt(100) 1o  cbrt( ตัวเลข)  (cube root) หารากที่สามของจำนวนที่ระบฺุเช่น cbrt(1000) 10 round( ตัวเลข) ประมาณค่าเป็นเลขจำนวนเต็มที่ไกล้เคียง ถ้าเศษหรือทศนิยม เตั้งแต่ o.5  จะปัดเป็นจำนวนเต็มถัดไป เช่น  round(1.1)  round(1.5)  round(0.5)  round(0.49)  round(-1.1) round(-1.5)
--- Page 108 ---
108 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน  ceil ( ตัวเลข)  จำนวนเต็มที่อยู่ถัดไปจากค่าที่ระบฺุ(จากภาพที่แล้ว  ให้ดูที่ด้านบนของ ตัวเลขที่ระบุ) เช่น  ceil(1.0)  ceil(1.1) = 2  ceil(1.49)   ceil(-1.1) = -1  ceil(1.5)  ceil(-1.5)  floor(ตัวเลข)  จำนวนเต็มที่อยู่ก่อนค่าที่ระบุ_(จากภาพที่แล้ว  ให้ดูจำนวนเต็มที่อยู่ด้าน  ล่างของตัวเลขที่ระบุ) เช่น  floor(1.0)  floor(1.1) = 1  floor(1.5) = 1  floor(-1.1) -2  floor(1.9)  floor(-1.5) -2  trunc(ดัวเลข) ตัดส่วนทศนิยมทิ้งไป ไม่ว่าจะเป็นเท่าไหร่ก็ตาม ฺเช่น  math.trunc(10.99) 10  math. trunc(-10.5) 10  exp(x) หาค่า exponential (e^) เช่น exp(2) = e 7.3890  log(x) หาค่า logarithm มีเลขฐานเป็น e เชน |og(2.71828) 1.0  sin(radian) หาค่า sine ของมุมในหน่วย เรเดียน เช่น sin(3.14/2) 1.0  cosiradian) หาค่า cosine ของมุมในหน่วย เรเดียน เช่น cos(3.14) = -1.0  tan(radian) หาค่า tangent ของมุมในหน่วย เรเดียน เช่น tan(3.14/4) 1.0  degrees(radian) แปลงจากค่าเรเดียนเป็นองศาเช่น degrees(3.14/2) 90  radians(degree) แปลงจากค่าองศาเป็นเรเดียน เช่น radians(90) 1.57 ตัวอย่าง 5-9  แนวทางการใช้ฟังก์ชันทางด้านคณิตศาสตร์ #include  <stdio.h> #include  <math.h>  void  main( ) printf( " nn%g cei1(5.55 ) ) ; /6 printf( " mn%g"  floor(1.23) ); //1 printf( " mn%g   sart (100) ) ; /i1o int  radius 10;  float  area 3 . 141  pow( radius 2 ) ; printf( " inarea  %g area) //314 .1
--- Page 109 ---
 บทที 5 | ตัวเลขและการคาบวณ 109 กาธสร้างเลขส่ม ในบางกรณี ค่าที่จะกำหนดให้แก่ตัวแปรอาจมีความไม่แน่นอน  ฺสามารถเป็นไปได้หลาย อย่าง  จึงระบุเอาไว้ล่วงหน้าไม่ได้ และไม่อาจรับค่าจากผู้ใช้ทางคีย์บอร์ดอีกด้วย เช่น  ค่าของตัวแปร  อาจเป็นค่าใดค่าหนึ่งระหว่าง 1 - 9  หรือค่าของตัวแปร b จะเป็นอะไรก็ได้ที่ไม่เกิน 1oo ลักษณะการกำหนดค่าที่ไม่แน่นอนดังกล่าวนี้  เราสามารถนำวิธีการสร้างเลขสุ่มมาใช้ได้ โดยในภาษา c. มีวิธีการสร้างเลขสุ่มได้  อย่างไรก็ตาม  เพื่อให้ได้เลขที่มีค่าไม่แน่นอนในแต่ละ  ครั้ง ผู้เขียนจะแนะนำแนวทางในการสร้างเลขสุ่มที่เรานิยมใช้งานจริงไปเลย ดังขั้นตอนต่อไปนี้ กรณีนี้` เฮดเดอร์ที่เราต้องอ้างอิงด้วย include ก็คือ stdlib.h และ time.h ก่อนที่จะสร้างเลขสุ่มให้เรียกฟังก์ชัน srand( ตัวเลข) โดยตัวเลขที่กำหนดให้แก่ฟังก์ชัน นี้ ควรเป็นเลขที่มีค่าไม่แน่นอน เพื่อให้การสุ่มแต่ละครั้งได้ผลลัพธ์ที่แตกต่างกันออก ไป และส่วนใหญ่ เรานิยมใช้ค่าเวลาปัจจุบัน ชึ่งกำหนดด้วยฟังก์ชัน time(0) เพราะ ค่าเวลาในแต่ละขณะจะเปลี่ยนแปลงไปเรื่อยๆ หาเลขสุ่มด้วยฟังก์ชัน rand( ) ซึ่งจะได้เป็นเลขจำนวนเต็ม  ทั้งนี้  เมื่อเรียกฟังก์ชัน rand() แต่ละครั้ง จะได้เลขที่แตกต่างกัน ( โค้ดถัดไป  เป็นแค่แนวทางเฉพาะส่วนที่  เกี่ยวข้อง และผลลัพธ์ที่ได้จะไม่แน่นอน) #include <stdlib.h> /สำหรับฟังก์ชันการสุ่มตัวเลข  #include <tine. n> i/สำหรับฟังก์ชันอ่านเวลาปัจจุบัน srand( tine(0) ) ; /ให้ตัวแปลภาษาจัดเตรียมการสร้างเลขสุ่ม printf(  in%d" rand( //2743 printf(  in%d rand( //257 printf(  in%d" rand( //16282 printf(  in%d rand( //32784 ถ้าเราต้องการเลขสูงสุดเท่าใด ฺอาจนำเลขนั้นมาหารแบบเอาค่าที่เหลือ (เครื่องหมาย %) เช่น (มีคำอธิบายเพิ่มเติมถัดจากโค้ด) ถ้าต้องการค่าน้อยกว่า 1o ให้หารด้วย 10 เช่น rand() % 10 ถ้าต้องการค่าน้อยกว่า 1oo ให้หารด้วย 1od เช่น rand( ) % 100 ถ้าต้องการค่าน้อยกว่า 1ooo ให้หารด้วย  1oo0 เช่น rand() % 1000 ถ้าต้องการค่าน้อยกว่า 20 ให้หารด้วย 20 เช่น rand( ) % 20
--- Page 110 ---
110 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน ถ้าต้องการค่า ไม่เกิน 1o ให้หารด้วย 11 เช่น rand() % 11 ถ้าต้องการค่า ไม่เกิน 1oo ให้หารด้วย 101 เช่น rand() % 101  srand( tine(o)) int rand( ) int %  10 ; เจะได้ค่า int  b rand( ) %  100 ; /จะได้ค่า 99 int rand( ) %  1000 : /จะได้ค่า 999 int rand( ) %  20 ; /จะได้ค่า 19 int rand( ) %  11 ; /จะได้ค่า 1o int  f rand( ) %  101 ; /จะได้ค่า 1oo int  g rand( ) %  21 /จะได้ค่า 20 ผู้อ่านอาจสงสัยว่าการนำเลข 10, 100, ไปหารแบบเอาค่าที่เหลือ มันจะได้ผลลัพธ์เป็น อย่างไร ซึ่งขออธิบายเพิ่มเติม ดังแนวทางต่อไปนี้ int rand( ) สมมติว่าสุ่มได้เลข 1234  ถ้าต้องการค่าน้อย  1o 1234 1o 123 => 1234  % 10 => หรือคิดง่ายๆ ว่าคือเศษตัวสุดท้ายของมันนั่นเอง ถ้าเราหารด้วย 1o  ถึงอย่างไรเศษที่เหลือก็ต้องน้อยกว่า 1o สมมติว่าสุ่มได้เลข 2029  ถ้าต้องการค่าน้อยกว่า 1o 2029 1o 202 . 9 =>  2029  %  10 => สมมติว่าสุ่มได้เลข 35790  ถ้าต้องการค่าน้อยกว่า 1o 35790 1o 3579. 0 => 35790  % 1o => สมมติว่าสุมได้เลข 1234  ถ้าต้องการค่าน้อยกว่า 1oo 1234 too 12 . 34 => 1234 %  100 =2 34 หรือคิดง่ายๆ ว่าคือเศษสองตัวสุดท้ายของมันนั่นเอง สมมติว่าสุ่มได้เลข 35790  ถ้าต้องการค่าน้อยกว่า 1oo 35790 1oo 357 .90 =2 35790  % 1oo 9o สมมติว่าสุ่มได้เลข 1009  ถ้าต้องการค่าน้อยกว่า 10o 1oo9 1oo 1. 09 ว2 1009  %  100 =2 09 ถ้าต้องการค่าไม่เกิน  10  เราก็เอา  11 ไปหารแบบเอาค่าที่เหลือ เพื่อให้ค่าที่เหลือ (เศษ มีค่าสูงสุดได้แค่ 1o เพราะค่าที่เหลือไม่มีทางเท่ากับหรือเกินตัวหาร เช่น =>
--- Page 111 ---
 บทที 5 | ตัวเลขและการค้าบวณ 111 35791 %  11 35792  %  11 35793  %  11 1o 35794  %  11 หรือสามารถสรุปเป็นสูตรการสร้างเลขสุ่มระหว่าง o - max ได้ดังนี้ r_o_max rand( )  (iax  แต่กรณีที่เราต้องการค่าในช่วงที่ไม่ต้องเริ่มจาก  0 เช่น 1- 5, 10 - 20, 100 - 999 ให้ใช้ สตรดังนี้  nin nax min rand( ) %  (nax min 1) เมือ min และ max  คือค่าต่ำสุดและสูงสุดของช่วงตัวเลขที่ต้องการ ตามลำดับ ชึ่งหลัก การโดยสังเขปคือ สมมติว่าเราต้องการเลขสุ่มระหว่าง 5 - 20 แสดงว่าหาตัวเลขมาบวกเข้ากับ 5 เพื่อให้ได้ผลบวกตั้งแต่ 5 ขึ้นไปแต้ไม่เกิน 20 นั่นคือ ค่าที่นำมาบวกจะต้องอยู่ระหว่าง 0 ถึง 15 (20 - 5) เนื่องจาก 5 + 0 = 5 และ 5 + 15 20 ชึ่งสิ่งที่เราต้องพิจารณาต่อไปคือ ทำอย่างไร  จึงจะได้เลขระหว่าง 0 - 15 ชึ่งช่วงเลขสุ่มที่เริ่มจาก 0  max นี้ ก็ไปตรงกับหลักการหาเลขสุ่มที่  เราเรียนรู้มาแล้ว ดังนั้น r_5_20 5 + rand() % (20 - 5 + 1) ลองพิจารณาที่ rand() % (20 - 5 + 1) => rand() % (16) => จะได้ค่าระหว่าง 0 - 15 ถ้าสุ่มได้เลข 0 => 5 + 0 = 5 ถ้าสุ่มได้เลข 1 => 5 + 1 = 6 ถ้าสุ่มได้เลข 5 => 5 + 5 = 10 ถ้าสุ่มได้เลข 14 => 5 + 14 = 19 ถ้าสุ่มได้เลข 15 => 5 + 15 = 20  สำหรับแนวทางการหาเลขสุ่มในลักษณะต่างๆ รวมถึงประยุกต์ ใช้งานแบบง่ายๆ ตัวอย่างต่อไปนี้  ให้ดูจาก
--- Page 112 ---
112 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน ตัวอย่าง 5-10 การสร้างเลขสุ่มตามหลักการที่กล่าวมา โดยกำหนดขอบเขตที่แตกต่างกัน #include  <stdio.h> lo =)  sอ 3) s8 # include  <stdlib.h>  loo 85 # include  <time. h> 999 3) 981 18  =>  3  void  main( ) s9   loo =) 97  srand( tine(0)): rand( ) printf( " in 1o => %d" rand( ) %  11 ) : printf( " in 5o =2 %d" rand( ) %  51) printf( " in 1oo %d" rand( ) %  101) : printf( " in 999 .> yd  in rand( ) %  1000) printf( " in- printf( " in 1o => %d า rand( ) %  ( 10 1))); printf( " in  5o 100 => %d ( 50 rand( ) ( 1oo 50 1) ) ); putchar( wn" ) ; ตัวอย่าง 5-11 สร้างเลขสุ่มแบบจำนวนเต็ม โดยสมมติว่าเป็นการออกรางวัลเลขท้าย 2 ตัว  รางวัล, เลขหน้า 3 ตัว และเลขท้าย 3 ตัวอย่างละ 2 รางวัล ซึ่งมีคำแนะนำดังนี้ รางวัลเลขท้าย 2 ตัว ไม่ ควรใช้วิธีสร้างเลขสุ่มระหว่าง 0 - 99 เพราะอาจได้เลขหลักเดียว รางวัลเลขหน้าและท้าย 3 ตัว ไม่ ควรใช้วิธีสร้างเลขสุ่มระหว่าง 0 - 999 เพราะอาจ ได้เลข 1- 2 หลัก  สำหรับวิธีที่ควรใช้ในแต่ละรางวัลนั้น  rand( )% 10  rond( )% 10  rond( )% 10 ให้สุ่มเลขโดดระหว่าง (0 - 9) ทีละหลัก  แล้วนำมาต่อกันจนครบตามจำนวนหลัก ของรางวัลนั้นๆ # include  <stdio.h>  last two digits prize: 4  5 # include  <stdlib.n> first three digits prize: s37 last three digits prize: 1 4  8 #include  <time. h>  void  main( ) srand( tine(0)): rand( ) /รางวัดเลขท้าย 2  ตัว printf(  inlast  two digits prize: %d %0"  จำนวน
--- Page 113 ---
 บทที 5 | ตัวเลขและการค้าบวณ 113 rand( )%10 rand( )%10 /รางวัลเลขหน้า 3  ตัว printf( " infirst  three digits prize: %d  %a  %d" rand( )%10 rand( )%10 , rand( )%10 /รางวัลเลขท้าย 3  คัว printf( " inlast  three digits prize: %d  %d  %d  in" rand( )%10 . rand( )ช10 , rand( )%10 ตัวอย่าง 5-12 การสร้างรหัสผ่านแบบสุ่มที่ประกอบด้วย 0 - 9, a- z, a- z รวมกัน 6 ตัว ซึ่ง  หลักการโดยสังเขปคือ นำอักขระที่จะใช้สุ่มเพื่อสร้างรหัสผ่านมาเรียงเป็นสตริงเดียวกัน เช่น '0123..89abcde...xyzabcd...xyz' ซึ่งอักขระทั้งหมดรวมกันจะมีความยาวเท่ากับ 10 26 26 62 วิธีการเข้าถึงอักขระตัวใดตัวหนึ่งภายในสตริงให้เราระบุเลขลำดับของอักขระตัวนั้นไว้ ในวงเล็บ [] ต่อท้ายชื่อตัวแปร โดยอักขระตัวแรกจะมีลำดับเป็น 0 เช่น  str[0] หมายถึง อักขระตัวแรกที่เก็บในตัวแปร str  str[1] หมายถึง อักขระตัวที่สอง str[2] หมายถึง อักขระตัวที่สาม รายละเอียดทั้งหมดของเรื่องนี้ อยู่ในบทที่ 10 แต่เราจะนำสิ่งที่จำเป็นบางส่วนมา  ใช้งานล่วงหน้าไปก่อน สร้างเลขสุ่มให้ได้ค่าระหว่าง 0 - 61 (มีอักขระ 62 ตัว โดยตัวแรกมีลำดับเป็น 0 แสดง ว่าตัวสุดท้ายมีลำดับเป็น 61) นำตัวเลขที่สุ่มได้ไปใช้เป็นเลขลำดับในการอ่านนำอักขระจากสตริง จะได้อักขระ ตัว เช่น ถ้าสุ่มได้เลข 2 ก็อ่านอักขระในลำดับนั้นด้วย str[2] เป็นต้น เนื่องจากเราต้องการรหัสผ่านที่มีอักขระ 6 ตัว ดังนั้น ต้องทำซ้ำกัน 6 ครั้ง
--- Page 114 ---
114 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน นำอักขระที่ได้ในแต่ละครั้งมาเรียงต่อกัน ก็จะได้รหัสผ่านตามที่ต้องการ #include  <stdio. h>  chors[rond( )% 62] p 9th 4 n #include  <stdlib.h>  chors[rond( )% 62] #include  <tine. h>  chars[rand( )% 62] # include  <string.h>  void  main( ) char chars[100] "0123456789 strcat ( chars,  abcdefghijkimnopgrstuvwxyz" strcat ( chars  abcdefghi klmoporstuvnxyz" )  srand( tine(0) ): rand( ): int rand( ) %  62 ; /จะได้เลข 0 -61 char c1  chars[^] : char  c2  chars [rand( ) %  62 ] char c3  chars [rand( ) %  62 ] char c4  chars [rand( ) %  62 ] char  c5  chars [rand( ) %  62 ] char c6  chars [^and( ) %  62 ] printf(  inpassword:  %c%c%c%c%c%c  เn c1 c2 c3 . c4 c5 ,  c6 ตัวอย่างผลลัพธ์ เช่น  jtah2m การแปลงสูตธคณิตศาสตร์เป็นโค้ดภาษา c หากเราจำเป็นต้องคำนวณโดยใช้สูตรทางคณิตศาสตร์ ก็ต้องแปลงสูตรนั้นให้อยู่ในรูปแบบ ของโค้ดภาษา c ชึ่งสามารถสรุปแนวทางในเบื้องต้นได้ดังนี้ สาร c. ab  pow(a, b) a / b  sqrt(a) หรือ pow(a, (1/2)) โค้ดภาษา
--- Page 115 ---
 บทที 5 | ตัวเลขและการค้าบวณ 115 สูตร  โค้ดภาษา c va a'1/n)  pow(a,  (1/n)) mc2  pow(c, 2) vaf + b2  sqrt(pow(a, 2)  pow(๖, 2)) 4_tr3 (4 / 3) 3.141  pow(r, 3) ab + c la b) c) / (d + (1 / e)) 1 d + a x b2  pow(b, 2)) / (4 (tan(3.141 a))) 4 x tan ตัวอย่าง 5-13 สูตรการหาปริมาตรทรงกลมคือ a_r ให้รับค่ารัศมีทางคีย์บอร์ด แล้วคำนวณ 3 หาปริมาตร  #include  stdio.h> radius of sphere )>15  #include  znath. n> uolume 19597.5 void  main( )  float  radius,  volume ; printf(  inradius  of  sphere >> " ) ;  scanf( "%f" &radius )  volunne (4/3 ) (3.14 )  pow( radius 3 ) printf( " volune  %g in"  volune ) ตัวอย่าง 5-14 สูตรในการคำนวณหามูลค่าในอนาคตของเงินลงทุน (future value) คือ  future_value anount 1+rate )perlod ซึ่งหากเราเขียนสูตรในแบบโค้ดภาษา c ก็จะเป็นดังนี้  future_value  amount pow( (1 rate)  period)
--- Page 116 ---
116 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน  amount  คือจำนวนเงินที่ลงทุนเริ่มแรก rate คืออัตราดอกเบี้ย  period  คือช่วงระยะเวลาที่ลงทุน  ทั้ง rate และ period ต้องเทียบกับช่วงเวลาที่เป็นหน่วยเดียวกัน เช่น ถ้า rate เป็น  อัตราดอกเบี้ยแบบ % ต่อป ดังนั้น period ก็ต้องมีระยะเวลาเป็นปีด้วย ให้เขียนโค้ดเพื่อรับข้อมูลทางคีย์บอร์ดที่ต้องใช้ตามสูตรดังกล่าว แล้วคำนวณหาค่า future  value # include <stdio.h> initia-  investment ))180803  yearly rat=  (%) )>1.5 # include  <math.h> number of years >)5  void main( ) future value 197728 . 39  float  amount.  rate.,  fv; int year: /เงินลงทุนเริ่มแรก printf( " ininitia1  investment >>" ) ; scanf( "%f  &amount ) /อัตราดอกเบี้ยต่อบ (%) printf( " yearly rate (%% ) >>" ) scanf( "%f  &rate) : /ระยะเวลาที่ลงทุน (ปี) printf( "nunber  of years >> ) :  scanf( %d  &year) rate /=  100; //เปลี่ยน %  เป็นตัวเลข fv anount pow( (1 rate.)  year.) printf( " infuture  value %0 . 2f in" fv); ตัวอย่าง 5-15 รูปหลายเหลี่ยม (polygon) ที่ความยาวแต่ละด้านและมุมเท่ากันทั้งหมด มีสูตร  ในการคำนวณหาพื้นที่คือ  polygon_area 4 x tan =ิ nx s2
--- Page 117 ---
 บทที 5 | ตัวเลขและการค้าบวณ 117 ซึ่งหากเราเขียนสูตรในแบบโค้ดภาษา c ก็จะเป็นดังนี้  polygon_area (n  pow( s., 2 ) ) (4 tan(3.14/n) ) เมือ n. คือจำนวนด้าน และ  คือความยาวของแต่ละด้าน ให้เขียนโค้ดเพื่อรับข้อมูลเป็น  จำนวนด้านและความยาวของแต่ละด้าน แล้วคำนวณหาพื้นที่ของรูปทรงดังกล่าว #include <stdio. h> numวgn ot sidas ))6 #include  <nath. n>  langth of aach side))18  polygon area 259 .97 void  main() int  n;  float a: //จำนวนด้านชองรูปหลายเหลี่ยม printf( " annunber of sides >>" )  scanf( "%d" &n) /ความยาวของแต่ละด้าน printf( " length of each side >>" ) ;  scanf( "%f" &s ) (n  pow( s., 2 ) ) (4 tan(3.14/n) ) printf( " inpolygon  area %0 . 2f เn" a.) ตัวเลขและการคำนวณทางคณิตศาสตร์ เป็นพื้นฐานสำคัญที่เราต้องนำไปใช้งานอยู่ตลอด  ในการเขียนโปรแกรม  โดยเฉพาะอย่างยิ่ง การเลือกใช้เครื่องหมายหรือฟังก์ชันต่างๆ  เราต้อง เข้าใจหลักการและลักษณะของผลลัพธ์ที่เกิดขึ้น  มิฉะนั้นเกิดข้อผิดพลาดจนส่งผลต่อการทำงาน ของโปรแกรมในขั้นตอนอื่น" ได้
--- Page 118 ---
 ว ...ง มะ  . . ) [773 เฆ . en . objec 3[0 ช. sele . .. อ a sled selec object to te trror xt airror . as m n. .. ว . 6 operator):  selected nirror  none tot bject
--- Page 119 ---
อี การเปรียบเทียบและกำทินดเงื่อนไข นบทนี้แเราจะได้ศึกษา เกี่ยวกับการใช้คำสั่ง if, else if และ else เพื่อตรวจสอบเงื่อนไขก่อน ที่จะดำเนินการในขั้นตอนต่อไป แต่อย่างไรก็ตาม ฺการตรวจสอบเงื่อนไขดังกล่าวนั้นจะต้อง  ใช้เครื่องหมายเปรียบเทียบและตรรกะ ดังนั้น สิ่งที่เราจะต้องศึกษาเป็นลำดับแรกก็คือ  การใช้  เครื่องหมายในกลุ่ม comparison และ logic  ซึ่งถือเป็นพื้นฐานที่สำคัญอย่างหนึ่งของการเขียน โปรแกรม เพื่อควบคุมการทำงานต่างๆ ให้อยู่ภายใต้เงื่อนไขที่เราต้องการ ข้อมูลชนิดบูลีน bool และ bool) นอกจากข้อมูลชนิดตัวเลขและสตริงที่เราได้ศึกษาผ่านมาแล้วในภาษา c ยังมีชนิดข้อมูล พื้นฐานที่สำคัญอีกอย่างหนึ่ง นั่นคือ ข้อมูลแบบจริงเท็จ(บูลีน: boolean) ซึ่งในภาษา c จะแทน ด้วยคำว่า  bool และถือเป็นคำสงวนอีกคำหนึ่ง โดยลักษณะที่สำคัญของข้อมูลชนิดนี้คือ ต้องมีค่าอย่างใดอย่างหนึงระหว่าง  สำหรับค่าที่เป็น เท็จ  สำหรับค่าที่เป็น จริง  boo1 a. b; ไ: /จริง 0 : /เท็จ การใช้เลข และ 0  แทนค่า จริงเท็จ c บางทีก็สร้างความสับสนเมื่อเรา เปลี่ยนไปใช้ภาษา อื่นฯ หรือเคยใช้ภาษาอื่นแล้วมาเขียนภาษา c เนื่องจากภาษา  คอมพิวเตอร์ส่วนใหญ่ในยุคปัจจุบันจะแทนค่าบูลืนด้วยคำว่า true และ false โดยตรง ทั้งนี้ เราสามารถปรับเปลี่ยนให้เข้ากับรูปแบบของภาษาอื่นต ดังนี้  ในภาษา
--- Page 120 ---
120 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน  อ้างอิงเฮดเดอร์ stdbool.h ด้วยคำสั่ง include กรณีนี้  เราอาจกำหนดชนิดข้อมูลเป็นคำว่า  bool  เหมือนเดิม  หรือจะใช้คำว่า  bool ก็ได้  กำหนดค่าของตัวแปรเป็นคำว่า true หรือ false โดยตรงได้เลย ซึ่งก็จะมีค่าเทียบ  เท่ากับ และ 0 ตามลำดับ #include  <stdboo1 h>  boo1 true; /เทียบเท่ากับ  boo1  false; /เทียบเท่ากับ  boo1 true : /เทียบเท่ากับ  boo1  false; /เทียบเท่ากับ  boo1 0: /เทียบเท่ากับ false ถ้าเรากำหนดค่าเป็นเลขอื่น"ฺที้ไม่ใช่ กับ  0 หรือ  true  กับ false ให้กับตัวแปร ชนิด bool หรือ bool ค่านั้นจะถูกเปลี่ยนเป็นเลข เสมอ หรือให้มีค่าเป็น true นันเอง เช่น  boo1 a. e. f: 0 ; - 1 ; 3 .141;  xxx printf( "a %d %d., %d %d ชd ad c, e. f /ผลลัพธ์คือ o. b 1. c.=t. d=  1, e = 1,  f =  1  สำหรับในหนังสือเล่มนี้ ตหากมีกรณีที่ต้องสร้างตัวแปรแบบจริงเท็จโดยตรง จะเลือกกำหนด  ค่าเป็นคำว่า true/false แม้ต้องอ้างอิงเฮดเดอร์ stdbool.h ก็ตาม เพื่อให้ผู้อ่านเกิดความเคยชิน เมื่อเปลี่ยนไปเขียนโปรแกรมภาษา อื่นต ในอนาคต
--- Page 121 ---
 บทที 6 การเปรียบเทียบและกำหนดเงือนไข 121 เครื่องทิมายสำทิธับการเปรียบเทียบ  เครื่องหมายสำหรับการเปรียบเทียบ (comparison operator) ใช้สำหรับหาค่าความจริง ระหว่างข้อมูล 2 อย่าง ชึงหากการเปรียบเทียบเป็นจริง ก็จะได้ผลลัพธ์เป็น true แต่หากเป็นเท็จ  จะได้ผลลัพธ์เป็น false โดยเครื่องหมายในกลุ่มนี้คือ เครื่องหมาย ชื่อเรียก การไช้งาน  เท่ากันกับ (equality หรือ equal to) a == d ไม่เท่ากันกับ (inequality หรือ not equal to) a .!= b  มากกว่า (greater than) a > b น้อยกว่า (less than) a < d  มากกว่าหรือเท่ากับ (greater than  equal to) a >= b น้อยกว่าหรือเท่ากับ (less than or equal to) a <= b  เครื่องหมายในกลุ่มนี้ จะให้ผลลัพธ์เป็น true (1) หรือ false (o) อย่างใดอย่างหนึ่ง เท่านั้น  เครื่องหมาย เป็นการเปรียบเทียบว่าข้อมูลทั้ง 2 ค่าเท่ากันหรือไม เช่นในโค้ดถัดไป (ความจริง เราไม่จำเป็นต้องเขียนการเปรียบเทียบในวงเล็บก็ได้ แต่ถ้าเขียนจะอ่านโค้ด  ง่ายกว่า)  boo1 (1 2 ) ; /i1 == 2  เป็นเท็จ  ดังนั้น  false  boo1 (5 a= 5 ) ; //5 a= เป็นจริง  ดังนั้น b  true  boo1 ya aa b) ; iifalse true  เป็นเท็จ //ดังนั้น  false int 10 ; int 20 ;  boo1 ix y); ii1o == 20  เป็นเท็จ  ดังนั้น  false  boo1 (z  false ) ; iifalse false  เป็นจริง //ดังนั่น  true  boo1 (o == -0.0) ; /ไม่ว่า จะเป็นบวกหรือลบก็มีค่าเท่ากันเสมอ  ดังนั้น true
--- Page 122 ---
122 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน  เครื่องหมาย != เป็นการเปรียบเทียบว่าทั้ง 2 ค่านั้น ไม่เท่ากันใช่หรือไม่ เช่น  boo1 2) //1 .= เป็นจริง ดังนั้น true  boo1 (5 5 ) : //5 .= 5  เป็นเท็จ ดังนั้น  false  boo1 a .= b) : itrue != false  เป็นจริง /ดังนั้น true int 10 : int y 20 ;  boo1 ix != y): //10 != 20  เป็นจริง ดังนั้น z true  boo1 (z ! =  0 ) : i1 itrue) .= o  เป็นจริง /ด้งนั้น true  เครื่องหมาย เป็นการเปรียบเทียบว่าค่าที่ระบุทางด้านข้ายของเครื่องหมาย มากกว่า  ค่าทางด้านขวาหรือไม่ เช่น  boo1 (1 2 ) / 2  เป็นเท็จ ดังนั้น  false  boo1 ( 5 5 ) //5 5  เป็นเท็จ ดังนั้น b  false  boo1 (a b) /o  (false)  (false)  เป็นเท็จ /ด้งนั้น  faise int  ix 10 ; int 20 ; boo1 (x  >  y) /i1o 20  เป็นจริง ดังนั้น  true boo1 (z  0 ) ; (true) เป็นจริง ดังนั้น t rue boo1 (1 1.0 ) ; (true) .0  เป็นเท็จ /ด้งนั้น false  เครื่องหมาย เป็นการเปรียบเทียบว่าค่าที่ระบุทางด้านช้ายของเครื่องหมายน้อยกว่า  ค่าทางด้านขวาหรือไม่ เช่น  boo1 ( <  2 ) /i1 2  เป็นจริง ดังนั้น true  boo1 (5 5 ) //5 5  เป็นเท็จ ดังนั้น  false  boo1 ya b) /i1 (true)  (false)  เป็นเท็จ /ด้งนั้น  false int 10 : int y 20 ;  boo1 (x < y) ii1o -20  เป็นเท็จ ดังนั้น  false  boo1 (o <2 ) ; i/o (false) เป็นเท็จ /ด้งนั้น  false
--- Page 123 ---
 บทที 6 การเปรียบเทียบและกำหนดเงือนไข 123  เครื่องหมาย >= เป็นการเปรียบเทียบว่าค่าที่ระบุทางด้านช้ายของเครื่องหมาย มากกว่า หรือเท่ากับ ค่าทางด้านขวาหรือไม่ เช่น  boo1 (1 >=  2 ) : //1 >= 2  เป็นเท็จ  ดังนั้น  false  boo1 (5 >=  5 ) : //5 >= 5  เป็นจริง  ดังนั้น true  boo1 ya >=  b) /o  (false) >= (true) เป็นเท็จ เดังนั้น  false int 10 ; int 20 :  boo1 z  =. ix >= y) : //10 2 20  เป็นจริง  ดังนั้น  true  boo1  (z >=  0 ) : //1 (true) >= o  เป็นจริง  ดังนั้น true เครื่องหมาย ส เป็นการเปรียบเทียบว่าค่าที่ระบุทางด้านข้ายของเครื่องหมาย น้อย กว่าหรือเท่ากับ ค่าทางด้านขวาหรือไม่ เช่น  boo1 i1 <= 2 ) ; /it <= 2  เป็นจริง  ดังนั้น true  boo1 (5 <= 5 ) ; //5 <= 5  เป็นจริง ดังนั้น  b  true  boo1 ya <= d) ; /i1 (true) <= (true) เป็นจริง เดังนั้น true int 10 ; int 20 ;  boo1 ix <= y); //10 20  เป็นเท็จ  ดังนั้น  false  boo1  w lz <= 0 | ; //o (false ) o  เป็นจริง /ด้งนั้น true เราสามารถใช้เครื่องหมายในกลุ่มนี้ เพื่อเปรียบเทียบอักขระระหว่าง a-z (a- z) ได้ เช่นกัน โดยพิจารณาตามลำดับของอักขระ เช่น 'a' < 'b' เป็นต้น ซึ่งเบื้องหลังจริงๆ แล้วก็คือการเทียบจากรหัส ascii ของอักขระนั่นเอง เช่น  boo1 a_b (a "๖" ); iitrue  boo1 c_a uc ya" iifalse  boo1 x_z  x' 2` iitrue  boo1 d_f ( "d" if iifalse
--- Page 124 ---
124 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน การเปรียบเทียบสตริง การเปรียบเทียบด้วยเครื่องหมายหรือตัวดำเนินการเชิงเปรียบเทียบ ที่ได้กล่าวมานั้น อาจ ใช้ได้เฉพาะกับข้อมูลประเภทตัวเลขและอักขระเท่านั้น แต่ไม่สามารถนำมาใช้ในการเปรียบเทียบ ข้อมูลประเภทสตริงได้  ซึ่งหากนำมาใช้  แม้จะไม่เกิดข้อผิดพลาด  แต่ก็ให้ผลลัพธ์ที่ไม่ถูกต้อง  สำหรับในภาษา c การเปรียบเทียบระหว่าง  สตริงว่าเท่ากันหรือไม่ จะต้องใช้ฟังก์ชันสำหรับ กรณีนี้โดยตรง ฺนั่นคือ strcmp() ดังรูปแบบและรายละเอียดต่อไปนี้ strcmp( " สตริง1 สตริง2"  strcmp มาจากคำว่า  compare ซึ่งก็สื่อความหมายตรงตัวอยู่แล้วว่าใช้ในการ เปรียบเทียบสตริง  ฟังก์ชันนื้อยู่ในเฮดเดอร์ string.h ซึ่งเราต้องอ้างอิงด้วย include ก่อนใช้งาน ผลลัพธ์ที้ได้จากฟังก์ชันนี้ จะไมใช่ค่าบูลืนแบบจริงเท็จแต่จะเป็นตัวเลข  เซึ่งผู้เขียน ขอสรุปตามลักษณะตัวเลขที่เรานำไปใช้งานจริงเป็นส่วนใหญ่ ดังนี้คือ ถ้าผลลัพธ์เป็นเลข 0 แสดงว่า สตริงทั้งสองอันนั้นเหมือนก้ัน (เป็นสตริงเดียวกัน) รวมถึงรูปแบบตัวพิมพ์ต้องตรงกันทุกอักขระ ถ้าผลลัพธ์เป็นเลขอื่นซ ที่ไมใช่ 0 แสดงว่า สตริงทั้งสองอันนั้นไม่เหมือนกัน  แนวทางการใช้งานในเบื้องต้น เช่น # include  <string. h> int  strcmp( "he1lo  he11o" ); ffa int  strcmp( "he1lo "hi" ); frb ! = int  strcmp( "he1lo "hello" ) iic != ( ตัวพิมพ์ ต่างกัน) ลักษณะพื้นฐานของคำสั่ง if หากเรานำข้อมูลมาใช้ในการประมวลผลทันที โดยปราศจากการตรวจสอบความถูกต้องหรือ ข้อยกเว้นบางประการ ก็อาจก่อให้เกิดข้อผิดพลาด หรือไม่ได้ผลัพธ์ตามต้องการ เช่น int 10 ; int y 0 ;  float  (float )x /y; iiz มีค่าเป็น  inf  string
--- Page 125 ---
 บทที 6 การเปรียบเทียบและกำหนดเงือนไข 125 จากโค้ด มีค่าเป็น infinity เพราะหารด้วย 0  ซึ่งลักษณะเช่นนี้เราจะรู้ล่วงหน้า เพราะ  กำหนดค่าตัวแปรที่แน่นอนเอาไว้แล้ว  แต่ถ้าสมมติว่าเราเปลี่ยนไปรับค่าทางคีย์บอร์ด  ดังโค้ด ถัดไป (เพื่อลดความยุ่งยาก จะแสดงโค้ดเพียงสังเขปเท่านั้น)  scanf( "%f" &x)  scanf( "%f" &y)  ix y:  จากโค้ดข้างบน  เราไม่อาจคาดเดาได้ว่าผู้ใช้จะใส่ ค่าสำหรับตัวแปร เป็นเลขอะไร  ชึ่ง ถ้าใส่เป็นเลขที่ไม่ใช่  ก็ไม่เกิดปัญหาอะไร  แต่ถ้าใส่เลข ก็จะเกิดปัญหาตามที่กล่าวมาแล้ว ด้วยเหตุนี้ในภาษาคอมพิวเตอร์แทบ ทั้งหมด  เจึงต้องมีกลไกการตรวจสอบข้อมูลบางอย่างเพื่อ  กำหนดทางเลือกก่อนกระทำการในขั้นตอนต่อไป เช่น ฺจากโค้ดที่ผ่านมา ถ้าเรานำเงื่อนไขมาเขียน เป็นคำพูดในลักษณะของการตรวจสอบข้อมูลก่อนดำเนินการ ก็จะได้ดังนี้ scanf( "%f" &x) scanf( "%f" &y) ; เป็น  o  { ไม่ต้องดำเนินการต่อไป หรือแจ้งข้อผิดพลาด ถ้า y. ไม่เป็น 0  { z = x /y;  ในภาษา c จะใช้คำสั่ง if  สำหรับการตรวจสอบข้อมูลว่าตรงกับเงื่อนไขที่ระบุหรือไม่ แล้ว  กำหนดบล็อกของกลุ่มคาสั่งที่จะดำเนินการต่อไป ถ้าหากเงื่อนไขเป็นจริง เชึ่งรูปแบบพื้นฐานคือ if  ( เงื่อนไข)  คำสั่งต่างๆ เถ้าเงื่อนไขเป็นจริง จะมีกี่คำสั่งก็ได้)  เงื่อนไขของคำสั่ง if ต้องเป็นข้อมูลที่มีค่าจริงเท็จ (1 หรือ o) หรือการกระทำที่ให้ผล  ออกมาเป็นเลข หรือ 0 เท่านั้น เช่น การเปรียบเทียบด้วย comparison operator หรือการใช้ logical operator ตามที่จะกล่าวถึงในหัวข้อต่อตไป ต้องเขียนเงื่อนไขไว้ในวงเล็บ เสมอ  คำสั่งที่ต้องทำถ้าเงื่อนไขเป็นจริง (หรือ 1) ให้กำหนดไว้ในวงเล็บ {} แต่ถ้าเงื่อนไขเป็น  เท็จ (หรือ 0) คาสั่งในบล็อกนี้จะถูกข้ามไป ถ้า y
--- Page 126 ---
126 การเขียนโปรแกรมภาษา c ขั้นพืนฐาน  สำหรับแนวทางการใช้งานเบื้องต้น จะกำหนดเงื่อนไขเป็นข้อมูลชนิดบูลีน  (true/false) โดยตรงก่อน  ส่วนเงื่อนไขที่เป็นการเปรียบเทียบด้วยเครื่องหมายหรือตัวดำเนินการ จะกล่าวถึง ในหัวข้อต่อตไป ตัวอย่าง 6-1  แนวทางการเปรียบเทียบเงื่อนไขของ if ในเบื้องต้น # include  <stdio.h> # include  <stdboo1 .h>  void  nain( ) if (1) puts( " value  is true" ); //คำสั่งนี้ถูกดำเนินการ เพราะเงื่อนไขเปินจริง (1 true) if (0) puts( " value o  is true" ) //คาสั่งนี้ไม่ถูกดำเนินการ เพราะเงื่อนไขเปินเท็จ (o  false)  boo1  false: if (a) puts( "variable is true" ) //คำสั่งในบล็อกนี้ไม่ถูกดำเนินการ /เพราะเงื่อนไขเปินเทิจ  boo1  b (1 a= 1 ) : ib true if (b) puts( " variable b  is  true" ) : /คำสั่งในบล็อก  if จะถูกดำเนินการ //เพราะเงื่อนไขเป็นจริง boo1  true if (c) puts( "variable is  true" ) //คำาสั่งในบล็อก  if จะถูกดำเนินการ /เพราะเงื่อนไซเป็นจริง  boo1 0; if (d) puts( " variable d is  true" ) //คำสั่งในบล็อก  if ไม่ถูกดำเนินการ
--- Page 127 ---
 บทที 6 การเปรียบเทียบและกำหนดเงือนไข 127 /เพราะเงื่อนไขเป็นเท็จ (o  faise)  อย่างไรก็ตาม ฺหากภายในบล็อกของ if มีเพียงคำสั่งเดียว ฺเราไม่จำเป็นต้องเขียนคำสั่ง นั้นไว้ในวงเล็บ {} ก็ได้ เช่น if  (true ) puts( " hollo" ) เหากมีคาสั่งเดียว เขียนแบบนี่ได้ if  (false ) puts( " goodbye" ); เหากมีคาสั่งเดียว เชียนแบบนี่ได้ if (. . .) puts( "hi" ) /เฉพาะคำสั่งบรรทัดนีที่ชิ้นกับ if puts( ) ; /คำสั่งนี้ ไม่ขึ้นกับ  if จึงถูกดำเนินการเสมอ อย่างไรก็ตาม ถึงแม้ในกรณีที่ เงื่อนไข if มีเพียงคำสั่งเดียว เราไม่จำเป็นต้องกำหนดบล็อก คำสั่งด้วยวงเล็บ {} ดังที่กล่าวมาก็ตาม ฺแต่ในทางปฏิบัติ เราควรหลีกเลี่ยงวิธีการดังกล่าว เพราะ มีโอกาสเกิดข้อผิดพลาดได้ง่าย โดยเฉพาะอย่างยิ่งเมื่อเราเขียนโค้ดที่มี เงื่อนไขซ้อนกันหลายชั้น ดังนั้น แม้จะมีเพียงคำสั่งเดียวก็ควรกำหนดบล็อกด้วยวงเล็บ {} เสมอ การกำทินดเงื่อนไขด้วยเครื่องหิมายเปรียบเทียบ  เครื่องหมายเปรียบเทียบ (comparison operator) ก็คือกลุ่มเครื่องหมายที่เราได้ศึกษา ผ่านมาแล้วในหัวข้อก่อนซ ของบทนี้  เช่น == >= 4= เป็นต้น  เนื่องจากเครื่องหมาย เหล่านี้ จะให้ผลลัพธ์ออกมาเป็นค่าจริงหรือเท็จดังนั้น จึงสามารถนำมาใช้สำหรับการกำหนด  เงื่อนไขของคำสั่ง if ได้ ดังแนวทางต่อไปนี้ int 1 ; if (a == /ถ้าตัวแปร มีค่าเท่ากับ puts(  variable a  stores 1" ) ; int -5 : if  (d a= -5) //ถ้าตัวแปร b  มีค่าเท่ากับ puts(  variable a stones -5" ) ;  hey
--- Page 128 ---
128 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน  จากโค้ดข้างบน คำสั่งในบล็อก if จะถูกดำเนินการทั้งสองอัน เพราะเงื่อนไขตรงกับที่เรา กำหนดหรือเป็นจริงทั้งคู่ อย่างไรก็ตามฺสำหรับกรณีการใช้เครื่องหมาย . นั้น หากจะเปรียบเทียบ กับค่า true  เราสามารถระบุเฉพาะชื่อตัวแปรก็ได้ ดังแนวทางในโค้ดถัดไป  ซึ่งเราจะเขียนแบบ คอลัมน์ด้านช้ายหรือขวา ก็ให้ผลลัพธ์เหมือนกัน เซึ่งโดยทั่วไป เรานิยมเขียนแบบด้านขวามากกว่า  boo1 boo1 iitrue/false iifalse if  (a sa  true) if (a) //ถ้า เป็นจริง  puts ( ส่วนในกรณีการเทียบกับค่า false  เราต้องนำเครื่องหมาย  (not) มาวางข้างหน้าเพื่อ เทียบในทางตรงกันข้าม  (!false true => !0 1) เช่นในโค้ดต่อไปนี้ ด้านบนและล่างคือ รูปแบบที่เทียบเท่ากัน จะเขียนแบบไหนก็ได้ (รายละเอียดเพิ่มเติมเกี่ยวกับเครื่องหมาย จะ กล่าวถึงในหัวข้อต่อตฺไป) ป/รูปแบบที่  boo1 iitrue/false if (b aa  false ) //ถ้า b  เป็นเท็จ ปรูปแบบที่  boo1 iitrue/salse if(!b) /ถ้า b  ไม่เป็นจริง  สำหรับแนวทางการใช้ if เพิ่มเติมในแบบอื่นทมีดังนี้ int 10 ; int  b 20 : if  (a 4= b) puts( "a is  less  than  or  equals to  b") //กรณีนี้ 1o 20  เป็นจริง /ดังนั้น  คำสั่ง puts( )  จึงถูกดำเนินการ puts puts puts
--- Page 129 ---
 บทที 6 | การเปรียบเทียบและกำหนดเงื่อนไข 129 int 100 ; int 0 ;  float  z; if (y o) puts( " dividend  must  be non- zero" ); /กรณีนี้ เป็นจริง /ด้งนั้น  คำสั่ง puts( ) จึงถูกดำเนินการ if (y != 0)  {  (float )x y: printf( "%d %d %.2f"  x. j. z ) : ตัวอย่าง 6-2 รับตัวเลขทางคีย์บอร์ดเข้ามา แล้วตรวจสอบว่าเป็นเลขคู่หรือคี่ โดยถ้าหาร ด้วย 2 ลงตัวหรือมีเศษ (ค่าที่เหลือ) เป็น 0  แสดงว่าเป็นเลขคู่ มิฉะนั้น ถือเป็นเลขคี่ #include <stdio.h> anter  integer number  >>188 lอ8  is avan  void main() int  n; printf( " inenter  integer  nunber >>" ) ;  scanf( "%d" &n) ; /ถ้าหาร (ค่าที่เหลือเป็น o)  แสดงว่าเป็นเลขคู่ if (n %  2 - o) printr( " in%d  is  evenin" n) /ถ้าหาร ไม่ลงตัว (ค่าที่เหลือไม่เป็น o)  แสดงว่าเบ็นเลขคี่ if (n %  2 != 0) printf(" inชd  is  oddin" n.) : ตัวอย่าง 6-3 เป็นการหาค่ามากที่สุดจาก 3 จำนวนที่รับเข้ามา โดยมีแนวทางดังนี้ 1. รับจำนวนแรกเข้ามา แล้วกำหนดค่าสูงสุดให้เท่ากับจำนวนแรกไว้ก่อน 2 รับจำนวนที่สองเข้ามา แล้วใช้ if เปรียบเทียบว่า จำนวนที่สองมากกว่าค่าสูงสุดเดิม (จำนวนแรก) หรือไม่ ถ้ามากกว่าก็ให้จำนวนที่สองเป็นค่าสูงสุดแทน ลงตัว
--- Page 130 ---
130 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน 3. รับจำนวนที่สามเข้ามา แล้วใช้ if เปรียบเทียบเช่นเดิม ฺถ้าจำนวนที่สามมากกว่าค่าสูงสุด  เดิม ก็ให้จำนวนที่สามเป็นค่าสูงสุด แแทน 4. เมื่อเปรียบเทียบจนครบแล้ว ก็จะได้ค่าสูงสุดของจำนวนทั้งหมด #include  <stdio.h> n1 = 10 max = n1 = 10  void  main( ) n2 = 15 n2 > max max = n2 = 15 int n1 n2 , n3 nax; n3 = 5 n3 max max= 15 printf( " innunber #1 >>" ) ; number =1 >>-1อ scanf( "%d" &n1); number #2  >>0 number #3 >>-99 max nา: /ให้ค่าสูงสุดเท่ากับจำนวนแรกไว้ก่อน max value: printf( "nunber  #2 >>" ) : scanf( ya &n2) if  (n2 max) //ถ้าจำนวนที่ มากกว่าค่าสูงสุดก่อนนี้ nax n2 ; /ให้จำนวนที่ เป็นค่าสูงสุดแทน printf( "nunber  #3 >>"  scanf( %d" &n3) if (n3 max) /ถ้าจำนวนที่ มากกว่าค่าสูงสุดก่อนนี้ nax n3 ; /ให้จำนวนที่ เป็นค่าสูงสุดแทน printf(  inmax  value: %d  เn nax) ตัวอย่าง 6-4 ถ้าเปลี่ยนจากการหาค่ามากที่สุดในตัวอย่างที่แล้ว มาเป็นการหาค่าที่น้อยที่สุด  ก็ใช้หลักการเดิม เพียงแต่เปลี่ยนจากการใช้เครื่องหมาย มาเป็น เท่านั้นเอง ดังนี้ #include  <stdio.h> nunber #1 >>3.141 nunber #2 > ,357 number #3 >)1.01  void  main( )  float  n1 n2 n3_ min; nin value: 3.357 printf( " innunber #1 >>" ) ; scanf( "%f" &n1) min n1 /ให้ค่าตำสุดเท่ากับจำนวนแรกไว้ก่อน printf( "nunber  #2 >>" ) :
--- Page 131 ---
 บทที 6 การเปรียบเทียบและกำหนดเงือนไข 131  scanf( "%f" &n2 ) ; if (n2 nin) //ถ้าจำนวนที่ น้อยกว่าค่าสูงสุดก่อนนี้ min n2 ; /ให้จำนวนที่ เป็นค่าต่ำสุดแทน printf( " nunber #3 >>" )  scanf( "%f" &n3 ) : if (n3 min) /ถ้าจำนวนที่ น้อยกว่าค่าสูงสุดก่อนนี้  min n3 ; /ให้จำนวนที่ เป็นค่าต่ำสุดแทน printf(  innin  value %g  in" min) ; การไช้คำสั่ง if-else  คำสั่งในบล็อก if จะถูกดำเนินการ เมื่อเงื่อนไขตรงตามที่ระบุเท่านั้น แต่หากเงื่อนไขเป็น อย่างอื่นที่นอกเหนือไปจากนี้  และถ้าเรามีสิ่งที่ต้องทำในกรณีดังกล่าว ภก็สามารถกำหนดได้ด้วย  คำสั่ง else แล้วตามด้วยบล็อกคำสั่งแบบเยื้องโค้ดเช่นเดียวกับ if ดังรูปแบบต่อไปนี้ if  ( เงื่อนไข) คำสั่งต่างๆ ถ้าเงื่อนไขตรงกับที่กำหนด else  คำสั่งต่างๆ ถ้าเงื่อนไขไม่ตรงกับที่กำหนด  คำสั่ง else ไม่ต้องกำหนดเงื่อนไขใด" ให้กับมัน เพราะเป็นทางเลือกที่จะถูกดำเนินการ เสมอหากเงื่อนไขของคำสั่ง if เป็นเท็จ(ไม่ตรงตามที่ระบุ) เช่น ในโค้ดต่อไปนี้ int //ถ้า n  น้อยกว่าหรือเท่ากับ คาสั่งในบล็อก  if จะถูกดำเนินการ /มิฉะนั้น  (n ไม่น้อยกว่า o) คำสั่งในบล็อก  else จะถูกดำเนินการ if (n <= o) puts(  nunber  must  be  greater than 0" ) ; else puts( " nunber is  ok" ) ;  float 10 ; int  float  z ;
--- Page 132 ---
132 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน เหาก ไม่เป็น คำสั่งในบล็อก  if ก็จะถูกดำเนินการ /มิฉะนั้น (y เป็น o)  คำสั่งในบล็อก else  ก็จะถูกดำเนินการ if  (y ! =  0 ) z = x /y; printf( "%9 %d %g "  x, y, z ) ; else puts( "dividend  can " t  be  zero" ) ; ภายในบล็อกของ else หากมีเพียง1 คำสั่งไม่จำเป็นต้องเขียนคำสั่งไว้ในวงเล็บ {} ก็ได้ เหมือนกับ if ดังที่ได้กล่าวมาแล้ว เช่น int  ix if  (x >= 0 ) puts( " else puts( แต่อย่างไรก็ตาม ฺการไม่เขียนคำสั่งไว้ในวงเล็บ {} ก่อให้เกิดข้อผิดพลาดได้ง่าย ดังนั้น แม้  จะมีเพียงคำสั่งเดียว ผู้เขียนแนะนำให้กำหนดบล็อกด้วยวงเล็บ {} เสมอ ตัวอย่าง 6-5 รับข้อมูลรหัสผ่านแล้วให้ใส่ครั้งที่ 2 เพื่อการยืนยันรหัส  ฺจากนั้นตรวจสอบ ว่าการใส่รหัสทั้ง 2 ครั้งตรงกันหรือไม่ #include <stdio.h> anter password  >>abcde- # include <string.h> confirm password  >>abcdef password didn "t natch  void  main( ) char  pw1[20] pw2[20] printf(  inenter  password >>" )  gets(pw1 ) printf( " confirm  password  >>" )  gets(pw2 ) if  (strcnp ( pw1  pw2 ) . o) puts( " inpassword  ok" ) ; else puts( " inpassword didn t match" )
--- Page 133 ---
 บทที 6 การเปรียบเทียบและกำหนดเงือนไข 133 ตัวอย่าง 6-6 จากการตรวจสอบว่าเลขที่รับเข้ามาทางคีย์บอร์ดเป็นเลขคู่หรือเลขคีในตัวอย่าง ก่อนนี้ แทนที่เราจะใช้ if 2 ครั้ง ก็เปลี่ยนมาใช้ if-else (ผลลัพธ์เหมือนเดิม)  #include <stdio.h>  void  main( ) int  n: printf(  inenter  integer  nunber >>" ) ;  scanf( "%d an) /ถ้าหาร  แล้วไม่มีค่าที่เหลือ  ( ค่าเป็น o)  แสดงว่าเป็นเลขคู่ /ม็ฉะนั้น ( ค่าที่เหลือไม่เป็น o) แสดงว่าเป็นเลขคี่ if in % 0) printf( " in%d  is  even in" n) : else printf( " in%d is  odd in" n.) : การใช้คำสั่ง if-<else if> ถ้าเงื่อนไขที่เราต้องการตรวจสอบสามารถแยกได้หลายกรณี แต่มีเพียงกรณีเดียวเท่านั้นที่  จะถูกดำเนินการ เราอาจตรวจสอบแต่ละเงื่อนไขด้วยคำสั่ง  else if ร่วมกับ if ดังรูปแบบต่อไปนี้ if  ( เงื่อนไขที่ 1)  คำสั่งต่างๆ ถ้าตรงกับเงื่อนไขที่ else if  ( เงื่อนไขที่ 2 )  คำสั่งต่างๆ  ถ้าตรงกับเงื่อนไขที่ else if  ( เงื่อนไขที่ 3 )  คำสั่งต่างๆ  ถ้าตรงกับเงื่อนไขที่ else if  ( เงื่อนไขที่ n คำสั่งต่างๆ ถ้าตรงกับเงื่อนไขที่ เราต้องใช้ else if ร่วมกับ if เสมอ และต้องวางไว้ถัดจากบล็อกของ if  สิ่งที่จะเป็นเงื่อนไขของ else if ต้องมีค่าเป็น 1 (true) หรือ 0 (false) โดยใช้หลัก การเดียวกับเงื่อนไขของ if ทุกประการ แทนดังนี้
--- Page 134 ---
134 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน จะมีการตรวจสอบเงื่อนไขด้วย else if กี่ครั้งก็ได้แต่จะมีเพียงกรณีเดียวเท่านั้นที่ ถูกดำเนินการ แนวทางการตรวจสอบเงื่อนไขในรูปแบบ if-<else if> มีลักษณะดังโค้ดต่างๆ ต่อไปนี้ int  ix int  y. if  (x >  y.) puts( "x greater than  y"); else if ix y) puts( "x  less  than y" ); else if v) puts(  equa1 to  y" );  char size m.  char text[100] if  (size == s" ) text "sial1" : else if (size == m")  { text  medium else if  (size == '_" ) text  "large else if  (size x" ) text  extra large" ถ้าเงื่อนไขที่กำหนด else if อาจเป็นไปได้หลายกรณี เฉพาะเงื่อนไขแรกชึ่งตรงกับที่กำหนด เท่านั้น ที่จะถูกดำเนินการ ส่วนอันที่เหลือจะถูกข้ามไป ในลักษณะดังนี้ int  age 18 :  char str[100] if  (age >= 60 ) str  senior" else if  yage >=  20 ) str adult else if  yage >= 12 ) str "teenager else if  yage >= 4 ) str  "child" else if  (age o) str  "baby puts(str); iteenager
--- Page 135 ---
 บทที 6 การเปรียบเทียบและกำหนดเงือนไข 135 จากโค้ด เรากำหนด age = 18  แสดงว่าตรงกับทั้งเงื่อนไข >= 12) รวมทั้ง >= 2) และ (age > o) แต่เนื่องจากเราวางเงื่อนไข (age >= 12) เอาไว้ก่อนอันอื่น ดังนั้น เฉพาะบล็อก ของเงื่อนไขอันนี้เท่านั้นที่ถูกดำเนินการ และหลังจากที่ทำตามบล็อก else if อันนี้เสร็จ ก็จะข้าม การตรวจสอบในส่วน  if-<else  if> ทั้งหมดไปเลย  ชึ่งตรงนี้แเองที่เป็นข้อแตกต่างระหว่างการใช้  คำสั่ง if หลายๆ ครั้ง กับการใช้ if-<else if> ดังการเปรียบเทียบในตัวอย่างถัดไป ตัวอย่าง 6-7 เปรียบเทียบระหว่างการใช้  if-<else if>  และการใช้ if หลายครั้ง  โดยให้ ,pโค้ดจากภาพต่อไปนี้ finclude astdio.n>  finclude kstring.h> void  main() char login[] "usar1 char psud[. if (strcmp( login, admin" !=  0 ) puts( " login  incorrect"); alse if strcmp pswd, awerty ! = "secnet") puts password incorrect"); else if  (strcmp pswd, 8) puts( t anta- passwora"); puts  goodbye char login[] "user1 ffrasult char pswd[i  login incorrec- it strcmp( login, adin") != d) goodbye puts( "login  incorrect"); it strcmp(psud, secrat ! = อ) puts( "password  incorrect"); it ustrcmp(psud, == e) puts( "please anter password"); puts( " goodbye" firesult  login incornact password  incorrect please ante^ sword goodbye  (age  (age pas
--- Page 136 ---
136 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน จากภาพจะเห็นว่าการใช้ if หลายๆ ครั้ง ทุกเงื่อนไขจะถูกตรวจสอบทั้งหมดและหากเป็น จริงดำเนินการตามคำสั่งในบล็อกนั้น แต่การใช้ if-<else if>  เมื่อเจอเงื่อนไขแรกที่เป็นจริงแล้ว ก็จะหยุดตรวจสอบเงื่อนไขถัดไป หรือข้ามบล็อกของ if-<else if> ในส่วนที่เหลือทั้งหมดนั่นเอง ตัวอย่าง 6-8 ให้รับตัวเลขทางคีย์บอร์ดเป็นจำนวนประตูที่ทึมเจ้าบ้านและทีมเยือนทำได้ แล้วใช้ if-<else if> ตรวจสอบว่าทีมใดเป็นผู้แพ้ เผู้ชนะ หรือ เสมอ #include  <stdio.h>  home  goals >>3  guest  goals )>5  void  main( )  guest team is the winner int h_goals , g_goals ; ihome,  guest printf( " inhone  goals >>"| scanf( "%d &h_goals ) printf( " guest  goals >>" ) ; scanf( "%d" &g_g0a1s ) ; if  (h_goals g_goals ) puts( " inhone team  is the  winner ); else  if (h_goals 9_goa1s) puts( " inguest tean  is  the  winner" ) else puts( " inboth teans play a  draw" ); ตัวอย่าง 6-9 ให้รับข้อมูลทางคีย์บอร์ดเป็นคะแนนระหว่าง 0 - 100 จากนั้น พิจารณาว่า คะแนนดังกล่าวควรจะได้เกรดอะไร โดยเกณฑ์การให้เกรดเป็นดังโค้ดต่อไปนี้ (เถ้าคะแนนที่กำหนด ตรงกับหลาย เงื่อนไข  ก็จะเลือกดำเนินการตามเงื่อนไขที่มาก่อนเพียงอันเดียว  ดังหลักการที่ได้ กล่าวมาแล้ว) #inciude  <stdio.h> enter score  (o  lee) >>69  grade:  void  main( )  int scone; char grade; printf(  inenter score (o 100 ) >>" ) ;  scanf( %d"  &score)
--- Page 137 ---
 บทที 6 การเปรียบเทียบและกำหนดเงือนไข 137 if fscore > 80 ) {  grade 'a " : else if (score . 70 ) {  grade b" else if (score >-60) {  grade "c" else if (score >- 50 ) [  grade 'd" else grade "ร printf( " ingrade:  %c  เn"  grade) การไช้คำสั่ง if-<else if>-else ตามปกตินั้น เงื่อนไขที่กำหนดให้แก่ if-<else if> มักจะเป็นประเด็นหลักๆ ที่เราต้องการ ตรวจสอบ แต่หากมีกรณีอื่นๆ ที่อยู่นอกเหนือไปจากนี้ และต้องถูกดำเนินการเมื่อเงื่อนไขต่างๆ ที่กำหนดให้แก่ if-<else if> ไม่มีอันใดตรงตามที่ระบฺุ ฺก็ให้นำ else มาต่อท้าย if-<else if> ดังนี้ if  ( เงื่อนไขที่ 1)  คำสั่งต่างๆ  ถ้าตรงกับเงื่อนไขที่ else if  ( เงื่อนไขที่ 2 )  คำสั่งต่างๆ  ถ้าตรงกับเงื่อนไขที่ else  คำสั่งต่างๆ ถ้าไม่ตรงกับเงื่อนไขใดฯ เลย  คำสัง else  จะมีความจำเป็นก็ต่อเมื่อ  เงื่อนไขต่างๆ  ที่กำหนดแก่ if-<else  if> ยังไม่ ครอบคลุมกรณีที่เป็นไปได้ทั้งหมด เช่นในโค้ดต่อไปนี้  int if ya 0) puts( " negative" ) ; else  if ya o) puts( "positive" ) ; else  ia
--- Page 138 ---
138 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน puts( " neutra1" )  char  ch if  (ch 'a") puts( "ant" ) else if  (ch == "b" ) puts( "boy" ); else if  (ch == "c" ) puts( "cat" ); else if  fch == "d") puts( "dog" ); else puts( " sorry.  character  out of  range ตัวอย่าง 6-10 สมมติว่ามียอดเงินคงเหลือในบัญชี 30,ood บาท ให้รับค่าทางคีย์บอร์ดเป็น จำนวนเงินที่ต้องการถอนจากตู้ atm ซึ่งมีเงื่อนไขที่สำคัญ ฺเช่น  balance:  38, eb8 amount to uithdraw))153o ต้องไม่เกินยอดเงินคงเหลือ ต้องไม่เกิน 20,od0 บาท และต้อง balance: 28 , 598 เป็นจำนวนเต็มร้อย (หารด้วย 1od ลงตัว) โดยใช้คำสั่ง if-<else balance 38,8e8 if>-else ตรวจสอบเงื่อนไขเหล่านี้ (เสำหรับการจัดรูปแบบตัวเลข amount to withdraw))35930  insufficient balance โดยใช้  คั่นหลักพัน ได้กล่าวไว้แล้วในบทที่ 3) balanca: 39, 933  #define  posix c_source  200809l balance:  38, 989 anount to withdran>>999  include  <locale .h> amount to. uithdraw nust be  the muitiples of 1oe #include  <stdio.h> balance: 39, 988  void  main( )  setlocale (lc all, ") int  withdraw,  balance 30000 ; printf( " inbalance %"d"  balance) /จำนวนเงินที่ต้องการถอน printf(  inamount to withdraw >>" ) ;  scanf( "%d  &withdraw) /ถ้ายอดเงินคงเหลือไม่พอ if  (balance  withdraw) puts( " insufficient  palance ถ้าจำนวนที่จะถอนเกิน  20 , odd
--- Page 139 ---
 บทที 6 การเปรียบเทียบและกาหนดเงื่อนไข 139 else  if  (withdraw 20000 ) puts "can t witharaw  more  than 20000" ) /ถ้าไมใช่จำนวนเด็มร้อย (หาร  1oo  แล้วมีเศษ) else  if  (witndraw % 1oo ! =  0 ) printf( " anount to withdraw  must be ") : printf( the  muitiples of 100" ) ; /ถ้าไม่ตรงตามเงื่อนไขทั้งหมด แสดงว่าถอนได้ else  balance  withdraw; printf(  inbalance: %"d  in"  balance ) การเปรียบเทียบทางตรรกะ การเปรียบเทียบทางตรรกะ (logical  operator) เป็นการเปรียบเทียบระหว่างข้อมูล 2 อย่างที่จะต้องเป็นชนิดบูลีน นั่นคือ true (1) หรือ false (o) อย่างใดอย่างหนึ่ง และผลลัพธ์ที้ได้ ก็จะเป็น true หรือ false เช่นเดียวกัน โดยใช้เครื่องหมาย หรือตัวดำเนินการดังต่อไปนี้ ตัวดำเนินการ ชื่อเรียก การใช้งาน &&  logical and (และ) a &&  b  logical or (หรือ) a ili b  logical not (ไมใช่) !a && มีหลักการดังนี้ ถ้าเป็นจริงทั้ง 2 คู่ (true && true) ผลลัพธ์จะเป็นจริง (true หรือ 1)  กรณีนอกเหนือจากนี้ทั้งหมด ผลลัพธ์จะเป็นเท็จ (false หรือ 0)  boo1 true  true  false,  false a  && b; itrue  && true true b  && c.; itrue && false  false && d; iifalse && false  false 1 ) && true) itrue  && true true && >  2 ) : itrue  && false  false && 2 ) ): iifalse  && false  false
--- Page 140 ---
140 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน มีหลักการดังนี้ ถ้าเป็นเท็จทั้ง 2 ค่า (false ii false) ผลลัพธ์จะเป็นเท็จ (false)  กรณีนอกเหนือจากนี้ทั้งหมด ผลลัพธ์จะเป็นจริง (true)  boo1 true ; true.;  false;  false ii b: iitrue  ii  true  true c.: iitrue  false  true ii e: iifalse ii  false  false  true; iitrue  true  true > 2 ) ; iitrue  false true ( == 2); iifalse ii  false  false จะเปลี่ยนค่าบูลืนให้เป็นตรงกันข้าม ฺนั่นคือ เปลี่ยนจาก true เป็น false และจาก false เป็น true หรือเปลี่ยนจาก เป็น 0 และจาก o เป็น เช่น  boo1 ! true ifalse  boo1 ! false iitrue  boo1 ! 0 ; iic  false true  boo1 1; iitrue !d; id  false  boo1 (true i  false ) ; ii! (true)  false  boo1 ! ( 1 == 1) && ! ( 1 ! =  2 ) ii! (true) && ftrue )  false  &&  false  false ให้ดูแนวทางการนำไปใช้งานจริงในหัวข้อถัดไป กาธกำหินดหลายเงื่อนไขด้วย logical operator ในบางกรณี การที่เราจะกระทำสิ่งใดหรือไม่นั้น อาจมีหลายเงื่อนไขที่ต้องพิจารณาร่วมกัน หรือเป็นกรณีที่เงื่อนไขอย่างหนึ่งจะขึ้นอยู่กับเงื่อนไขอื่นต ด้วยนั่นเอง  เชึ่งในลักษณะเช่นนี้เรา  สามารถเทียบเงื่อนไขที่เกี่ยวข้องทั้งหมดด้วยดำเนินการด้านตรรกะ  (&& หรือ ii) หรือ logical  operator ทั้งนี้หากเราพิจารณาการใช้ร่วมกับ if ก็สามารถสรุปได้ดังนี้ ใช้ && ถ้าต้องการให้เงื่อนไข เป็นจริงทั้งหมดฺ ฺจึงจะทำตามคำสั่ง  ใช้ ii. ถ้าต้องการให้เงื่อนไข เป็นจริงเพียงอันใดอันหนึ่ง ก็ทำตามคำสั่ง
--- Page 141 ---
 บทที 6 การเปรียบเทียบและกำหนดเงือนไข 141 และตามหลักการของภาษา c ที่ต้องเขียนเงื่อนไขไว้ในวงเล็บ ( ) ดังนั้น เราต้องครอบ  เงื่อนไขย่อยตรวมทั้งหมดไว้ในวงเล็บ ( เดียวกัน หรือวงเล็บชั้นนอกสุดฺ ในลักษณะดังนี้ (ให้ แทนตัวดำเนินการแบบตรรกะ && หรือ ii) if ( ( เงื่อนไข 1) ( เงื่อนไข 2 ) ( เงื่อนไข  3 ) (เงื่อนไข n) ) คำสั่ง เมื่อเปรียบเทียบเงื่อนไขรวมทั้งหมดแล้วเป็นจริง  เช่น ลองพิจารณาจากโค้ดต่อไปนี้ (ไม่ขอนำขั้นตอนการประกาศชนิดตัวแปรมาแสดง) /ถ้าตัวแปร  age  ต้องมีคาระหว่าง 12 19 จึงจะทำตามคำสั่ง if  ( (age >= 12) &&  (age <= 19) ) puts (  you  are teenager" ); /ถ้าไมใส่  login หรือ  password  เพียงอันใดอันหนึ่ง ก็แสดงคำเตือน if  ( (strcnp( login "า 0) ii.  (strcmp( pw., a- 0) ) puts( "ท่านต้องใส่ข้อมูลให้ครบทั้งสองช่อง") ; นอกจากนี้ ยังสามารถตรวจสอบได้มากกว่า 2 เงื่อนไข และควรใช้วงเล็บในการแยกแต่ละ กลุ่ม ให้ชัดเจน ว่าเงื่อนไขใดจะเปรียบเทียบกับเงื่อนไขใด เพื่อป้องกันข้อผิดพลาดได้ เช่น /ถ้าเงื่อนไขคือ ต้องมีค่าระหว่าง 1-100  และหารด้วย  ลงตัว if( (x > 0) &&  ix < 100 ) && (x %  5 ส 0) ) อย่างไรก็ตาม ฺการเขียนรวมเงื่อนไขที่ชับซ้อนกว่านี้ อาจก่อให้เกิดข้อผิดพลาดได้ง่าย ถ้า เรายังไม่มีความชำนาญในการเขียนโค้ดมากพอ ซึ่งเราอาจแยกเปรียบเทียบเงื่อนไขทีละส่วนโดย  เก็บผลลัพธ์ไว้ในตัวแปร แล้วค่อยนำตัวแปรทั้งหมดมาเทียบกัน เช่น char  gender[ ] ii" nale" /" fenale  boo1 single iitrue/ false /หากเปินผู้ชายต้องแต่งงานแล้ว ( ไม่โสด )  boo1 (strcnp (gender , "nale" ) a= 0) &&  ( ! single)
--- Page 142 ---
142 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน /ถ้าเป็นผู้หญิงต้องยังโสด  boo1  (strcmp (gender  fenale" ว- 0) &&  ( single) /เปรียบเทียบ  เงื่อนไข  โดยต้องให้อันใดอันหนึ่งเป็นจริง /ดังนั้น จึงเชื่อม 2  เงื่อนไขด้วย ii if  (m ii  f) puts( " you are  welicone" ) : /ถ้าเรามีความชำนาญแล้ว อาจเขียนรวบทั้งหมดในขั้นตอนเดียว ดังนี้ if  ((((strcmp (gender  male" ) . 0) &&  ( ! single) ) ii (strcmp ( gender  female" ) a= 0) &&  ( single) )i) puts (  you ane welcome" ) : ตัวอย่าง 6-11  ในการระบุตำแหน่งบนพื้นโลก เราต้องกำหนดค่า 2  อย่างคือ  (latitude) ต้องมีค่าระหว่าง -90 ถึง 90  (longitude) ต้องมีค่าระหว่าง -180 ถึง 180 mo 80' 30"  lotitude  longitude ให้รับค่าทั้งสองอย่างทางคีย์บอร์ด แล้วตรวจสอบโดยใช้ if ร่วมกับตัวดำเนินการทางตรรกะ ว่าอยู่ในช่วงที่เป็นไปได้หรือไม่ ละติจูด ลองจิจูด
--- Page 143 ---
 บทที 6 การเปรียบเทียบและกำหนดเงือนไข 143 #include. <stdio.h> enter latitude>)199.1234  latitude incorrect.! void  main( ) enten  longitude  >>159.6789  float lat, ion;  longitude  ok printf(  inenter latitude >>" ) ;  scanf( "%f" &lat ) if ((lat >- 90 ) && fat <= 90) ) puts( " latitude  ok" ) ; else puts( " latitude  incorrect! " ) printf(  inenter longitude >>" | :  scanf( "%f" &lon) if ((ion 3= 180 ) && (lat <= 180 ) ) puts( " longitude  ok." ); else puts( " longitude  incorrect! " ); ตัวอย่าง 6-12 เราสามารถจำแนกบุคคลเป็น generation ต่างๆ ได้ตามปี พ.ศ. ที่เกิดดังนี้ (แหล่งข้อมูลต่างๆ เอาจกำหนดช่วงปี พ.ศ. ที่แตกต่างกันบ้างเล็กน้อย) ปี พ.ศ. ที่เกิด  generation 2443 และต่ำกว่า  lost generation 2444 2467  greatest generation 2468 2488  silent generation 2489 2507 baby boomer generation 2508 2519  generation ix 2520 - 2538  generation 2539 2555  generation z
--- Page 144 ---
144 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน ให้รับข้อมูลเป็นปี พ.ศ. ที่เกิด  แล้วใช้  logical  operator  ร่วมกับ  if-<else if> else  ในการตรวจสอบว่าปีดังกล่าวตรงกับ generation ใด # include  <stdio.h> year  born (8.e. )  >>2525 # include  <string. h> you are  generation  void  main( ) int  y;  char  gen[50] printf{ " inyear  born (b.e. ) >>" ) :  scanf( "%d &y) if (y z. 2443 )  strcpy( gen, "lost  generation" ); else if  ((y >=  2444 ) &&  (y < 2467) )  strcpy( gen,  "greatest  generation" ) else if  ((y >= 2468 ) && ly < 2488 ) )  strcpy(gen, "silent  generation" ); else if  ((y >=  2489 ) && ly < 2507 ) )  strcpy igen, " baby  booner  generation" ) ; else if  ((y >=  2508 ) && ly < 2519) )  strcpy igen., " generation x" ); else if  ((y >=  2520 ) && ly <= 2538) ){  strcpy(gen, " generation y" ); else if  (ly >= 2539 ) && ly 4= 2555 ) )  strcpy igen,  "generation  z" ): else  strcpy( gen, "unknown  generation" ); printf( "you are %s in" gen)
--- Page 145 ---
 บทที 6 การเปรียบเทียบและกำหนดเงือนไข 145 ตัวดำเนินการแบบ ternary ตัวดำเนินการแบบ ternary เป็นการเปรียบเทียบเงื่อนไขในอึกลักษณะหนึ่ง ซึ่งมีหลักการ คล้ายกับ if-else แต่เขียนได้กระชับกว่า โดยมีรูปแบบดังนี้  เงื่อนไข ) กรณีเงื่อนไชเป็นจริง  กรณีเงื่อนไขเป็นเท็จ  เงื่อนไข ก็คล้ายกับที่เรากำหนดให้แก่ if หรือ else if โดยต้องให้ผลลัพธ์ออกมาเป็น ค่าบูลืน (จริง/เท็จ) เท่านั้น กรณีเงื่อนไขเป็นจริง ฺอาจเป็นการส่งค่าบางอย่างหรือค่าจากตัวแปรกลับออกไป โดย การระบุค่าหรือชื่อตัวแปรที่เก็บข้อมูลนั้น หรือเป็นคาสั่งให้ทำการบางอย่าง เช่น เรียก  ฟังก์ชันขืนมาทำงาน หรือการคำนวณ เป็นต้น ซึ่งส่วนนี้จะถูกดำเนินการเฉพาะกรณี ที่เงื่อนไขเป็นจริงเท่านั้น  กกรณีเงื่อนไขเป็นเท็จ  ก็เช่นเดียวกับกรณีเงือนไขเป็นจริง แต่ส่วนนี้จะถูกดำเนินการ เฉพาะกรณีที่เงื่อนไขเป็นเท็จเท่านั้น แนวทางการใช้ตัวดำเนินการแบบ ternary เช่น  int -10 ;  int nax fa >  d ) d; โค้ดนี้หมายความว่า ถ้า a  มากกว่า b  ให้คืนค่าจากตัวแปร กลับไป  มิฉะนั้น ให้คืนค่าจากตัวแปร หรือเขียนในแบบ if else  คือ if (a b) max a.: else max b:  int total int  carriage  ftotal >= 1000) 50 ; โค้ดนี้หมายความว่า ถ้ายอดซื้อรวม  ตั้งแต่  1ooo  บาท ขึ้นไป ให้ยกเว้นค่าจัดส่ง (o บาท )  มิฉะนั้น ให้คิดค่าจัดส่ง 5o  บาท
--- Page 146 ---
146 การเขียนโปรแกรมภาษา c ขั้นพืนฐาน อย่างไรก็ตาม ฺในกรณีที่ตัวดำเนินการแบบ  ternary คืนค่าเป็นข้อมูลชนิดสตริง  เราไม่  สามารถนำค่ามากำหนดให้แก่ตัวแปรโดยตรงได้ เช่น โค้ดต่อไปนี้จะเกิดข้อผิดพลาด int  num  char  s[ ]  (nun%  2 . 0) "even" "odd." fer^or วัตถุประสงค์ของโค้ดข้างบนนี้คือ ถ้าจำนวนนั้นหารด้วย 2 ลงตัว (เศษหรือค่าที่เหลือเป็น o) ให้คืนค่าแบบสตริงเป็นคำว่า "even" มิฉะนั้นให้คืนค่าเป็นคำว่า "odd" แต่ในภาษา c เราทำ แบบนี้ไม่ได้ ทั้งนี้ หากเราต้องการคืนค่าเป็นสตริงแล้วนำไปกำหนดให้แก่ตัวแปร อาจเปลี่ยนไป ใช้ฟังก์ชัน strcpy() หรืออื่นฯ แทน เช่น int  nun  char  s[20] /ให้กำหนดค่าไว้ไนส่วนจริง/เท็จ ของ  ternary ( ไม่ต้องส่งค่ากลับออกไป)  (num % == 0)  strcpy( s "even strcpy( s., "odd." ) การใช้คำสั่ง switch case  คำสั่ง switch case เป็นการแยกวิธีดำเนินการออกเป็นกรณีต่างๆ โดยนำข้อมูลมาตรวจสอบ หากตรงกับกรณีใด สิ่งที่กำาหนดเอาไว้สำหรับกรณีนั้นภ็จะถูกดำเนินการ ซึ่งรูปแบบทั่วไปคือ  switch ( สิ่งที่ต้องการตรวจสอบ)  case  กรณีที่ 1 :  คำสั่ง break;  case  กรณีที่ 2 :  คำสัง break.;  case กรณีที่ ท:  คำสัง  break.;  default : คำสั่ง เถ้าไม่ตรงกับกรณีใไดเลยๆ เทียบได้กับ else)
--- Page 147 ---
 บทที 6 การเปรียบเทียบและกำหนดเงือนไข 147 ลักษณะของ switch case จะคล้ายกับ if-<else if>-else ซึ่งมีแนวทางการใช้งาน ดังนี้ int ทนา  switch  (nun)  case : puts( "positive" ) break;  case 0 : puts( "neutral" ) break.;  case .1 : puts( " negative" ) break.;  default : puts (  unknown จากโค้ดหมายความว่า กรณีที่ตัวแปร num เป็น 1 จะแสดงข้อความ  'positive" กรณีที่ เป็น 0 จะแสดงคำว่า "neutral." กรณีที่เป็นเลข -1 จะแสดงคำว่า "negative" แต่หากไม่ตรงกับ กรณีใด (ไมใช่เลข 1, 0, -1) จะแสดงคำว่า "unknown" เป็นต้น โดยลักษณะเกี่ยวกับ switch- case ทีควรรู้เพิมเติมคือ ตัวแปรหรือข้อมูลที่จะตรวจสอบด้วยคำสั่ง switch ต้องเป็นชนิดเลขจำนวนเต็ม ฺหรือ  อักขระ (char) หรือบูลีน (เทียบเท่ากับ 1 และ o) เท่านั้น แต่ จะเป็นชนิดเลขทศนิยม หรือสตริงไม่ได้ จะมีกรณีที่กำหนดด้วย default หรือไม่ก็ได้ ขึ้นกับว่าเรากำหนด case ให้ครอบคลุม กรณีที่จะเป็นไปได้ทั้งหมดหรือไม ซึ่งก็เช่นเดียวกับ else ที่ใช้ร่วมกับ if-<else if> ที่  จะมี else ต่อท้ายหรือไม่ก็ได้ การกำหนดคำสั่ง break ต่อท้ายในกรณีต่างๆ ก็เพื่อหยุดการทำงานของคำสั่ง switch  ไว้แค่ตรงนั้น เมื่อเจอกรณีที่ต้องการแล้ว และออกจากบล็อก switch ไป ทั้งนี้หากไม่มี คำสั่ง break กำกับเอาไว้ คาสั่งทั้งหมดในส่วนที่เหลือก็ยังถูกตรวจสอบและดำเนินการ  ทั้งหมด ซึ่งผิดกับหลักการของคำสั่ง switch เช่น  ,โค้ดและผลลัพธ์ต่อไปนี้ char size m  switch  (size)  case puts( snal1" )  case m puts( "medium  case puts( "large  ให้ลองดู[
--- Page 148 ---
148 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน  default puts( " unknown ลักษณะผลลัพธ์  mediun  large  unknown  จากผลลัพธ์จะพบว่า คำสั่งตั้งแต่ case: m' เป็นต้นไป จะถูกดำเนินการทั้งหมด แม้ว่า เงื่อนไขของกรณีเหล่านั้นไม่ตรงกับค่า 'm' ก็ตาม ลักษณะเช่นนี้จึงขัดกับหลักการของ  คำสั่ง switch case ที่ควรจะเลือกทำเพียงกรณีใดกรณีหนึ่งเท่านั้น และจากเหตุผลที่ กล่าวมา จึงจำเป็นต้องมีคำสั่ง break ต่อท้ายในทุก case เสมอ  ค่าที่เราจะกำหนดเป็นเงื่อนไขของแต่ละ case นั้น จะเป็นสิ่งต่อไปนี้ไม่ได้คือ จะเป็นข้อมูลชนิด float หรือ double หรือค่า null ไม่ได้  จะนำค่าจากตัวแปรมาใช้โดยตรงฺหรือนำมาคำนวณแล้วกำหนดให้เป็นเงื่อนไขของ  case ไม่ได้ ยกเว้นค่าคงที่ชนิดเลขจำนวนเต็มหรืออักขระ ถ้าเป็นเลขหรืออักขระที่กำหนดค่าโดยตรงที่แต่ละ case  สามารถนำมาคำนวณ ด้วยเครื่องหมายต่างๆ แล้วกำหนดให้เป็นเงื่อนไขของ case ได้  แต่ต้องเป็นเลข จำนวนเต็ม ฺหรือคำนวณแล้วได้เลขจำนวนเต็ม #include  <stdio.h>  void  main( ) int 10 ; int 20 ;  float 10 . 5 :  const int  d 30 ;  char e'  float  f;  switch fa)  case b: ferror  เพราะใช้ค่าจากตัวแปร f b;  break;  case 1o 20 : iok แบบนี้ทำได้ เพราะกำหนดค่าโดยตรง 1o 20 ; break;  case o. 0 1:  ierror  เพราะเป็นเลขทศนิยม f o.0 ;  break;
--- Page 149 ---
 บทที 6 การเปรียบเทียบและกาหนดเงื่อนไข 149 case c.: ierror  เพราะใช้ค่าจากตัวแปร f 2 ; break; case  d 2 : frok แบบนี้ทำได้เพราะ เป็นค่าคงที่ 2 ; break: case e.: ierror เพราะใช้ค่าจากตัวแปร break: case '7 ' iok  แบบนี่ทำได้ เพราะกำหนดค่าโดยตรง break: หากมีหลาย case ที่ต้องทำคำสั่งในแบบเดียวกัน เราไม่จำเป็นต้องเขียนคำสั่งเหล่านั้น ซ้ำซ้อนกันก็ได้ แต่สามารถนำไปเขียนไว้ที่ case ตัวสุดท้ายที่ตรงกับเงื่อนไขได้เลย เช่น int  nonth i.1 12  switch  (nonth)  case 1:  case  3 :  case  5 :  case 7 : case  8 :  case 10 : case 12 : puts ( this  month  has 31 days" ) ;  break.;  case 4 :  case  6.:  case 9 :  case  11 : puts( "this  month  has  3o  days" ) ;  break; case  2 : puts( "this  month  has  28-29  days break;  default: inunber out of range"  โค้ดข้างบนหมายความว่า หาก  month มีค่าอย่างใดอย่างหนึ่งระหว่าง 1, 3, 5,  7, 8, 10, 12 จะแสดงคำว่า  "this month has 31 days  แต่หากเป็นลข 4 6, 9 11 จะแสดง  คำว่า  "this month  has 30  days"  หรือหากเขียนโดยใช้คำสั่ง  if-<else  if>-else  ร่วมกับ  เครื่องหมาย ii จะได้ดังนี้ puts
--- Page 150 ---
150 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน int if  (๓==1||๓==3 | /๓==5 | |๓==7||๓==8| ๓==10|/๓==12) puts( "this  month has  31 days" ) ; else if (=-4  ก==6 |๓==9| m==11) puts( "this  nonth  has  3o  days" ) ; else if (๓=-2 ) puts( "this  nonth  has  28 29  days" ) ; else puts( "nunber  out of range" ) ; ตัวอย่าง 6-13 ให้รับตัวเลข 2 จำนวนเข้ามาทางคีย์บอร์ด แล้วรับเครื่องหมายอย่างใดอย่าง หนึ่งระหว่าง และ %  จากนั้นใช้ switch - case เพื่อแยกวิธีการคำนวณในแต่ละกรณี (ตัวอย่างนี้ มีการรับข้อมูลชนิด char ด้วยฟังก์ชัน scanf( ) เชึ่งจะมีปัญหาเช่นเดียวกับการรับข้อมูล ชนิดสตริง ดังนั้น เราจะแก้ปัญหาด้วยวิธีการเดียวกันตามที่เคยกล่าวไว้แล้วในบทที่ 4) # include  <stdio.h> enter num  #1 >>15 enter operator (+, /,) >>/ enter nun #2  >>3  void  main( ) float n1 n2 n; 15 /  3  =  5 char  qp printf( " inenter  nun #1  >>" ) ;  scanf( "%f" &n1 ) ;  getchar( ) printf( "enter  operator ( + , /, %)  >>" ) ; scanf( "%c  &op) printf( "enter nun  #2 >>" ) : scanf( "%f" &n2 )  switch  yop) case nา n2 : break: case n1 n2 break:  case n1 n2 :  break;  case nา in2 break;  case (int )n1 %  ( int )n2 ;  break:
--- Page 151 ---
 บทที 6 การเปรียบเทียบและกำหนดเงือนไข 151 printf( " in%g  %c  %g %g  in" n1, op. n2 r) การตรวจสอบอักขระดัวยฟังก์ชันที่คืนค่าแบบบูลีน ในภาษา c มีฟังก์ชันจำนวนมากที่คืนค่าหรือได้ผลลัพธ์เป็นค่าแบบบูลีน (true/false) โดย เฉพาะอย่างยิ่งฟังก์ชันประเภทการตรวจสอบอักขระ ชึ่งฟังก์ชันบางส่วนเราก็มีโอกาสได้นำมาใช้ บ่อย" ในบทต่อตไป ดังนี้  isdigit() ตรวจสอบว่าอักขระที่ระบุเป็นเลข d - 9 หรือไม่ ถ้าใช่จะได้ค่าเป็น  (true) มิฉะนั้น  จะคืนค่า 0 (false)  isalpha()  ตรวจสอบว่าค่าที่ระบุเป็นตัวอักษร a- z หรือไม่ ถ้าเป็นตัวพิมพ์ใหญ่ (a - z) จะคืนค่า ถ้าเป็นตัวพิมพ์เล็ก (a - z) จะคืนค่า 2  กรณีอื่นๆ จะได้ค่าเป็น 0 isalnum() ตรวจสอบว่าค่าที่ระบุเป็นตัวอักษร a-z หรือเลข 0 - 9 หรือไม่ ถ้าเป็นตัวพิมพ์ใหญ่ (a- z) จะคืนค่า ถ้าเป็นตัวพิมพ์เล็ก (a - z) จะคืนค่า 2 ถ้าเป็นตัวพิมพ์เลข (0 - 9) จะคืนค่า 4 กรณีอื่น" จะได้ค่าเป็น 0  isupper() ตรวจสอบว่าค่าที่ระบุเป็นตัวอักษรพิมพ์ใหญ่หรือไม่ ถ้าเป็นตัวพิมพ์ใหญ่ (a- z) จะคืนค่า กรณีอื่น" จะได้ค่าเป็น 0  islower() ตรวจสอบว่าค่าที่ระบุเป็นตัวอักษรพิมพ์ใหญ่หรือไม่ ถ้าเป็นตัวพิมพ์เล็ก (a - z) จะคืนค่า  กรณีอื่นไ จะได้ค่าเป็น 0  tolower() แปลงอักขระเป็นตัวพิมพ์เล็กและพิมพ์ใหญ่ ตามลำดับ โดยฟังก์ชันเหล่านี้ จะคืนค่า  toupper() เป็นอักขระหลังการแปลง เช่น char c = toupper('c');  ฟังก์ชันทั้งหมดที่แสดงในตารางนี้ อยู่ในเฮดเดอร์ ctype.h  ดังนั้น  เราต้องอ้างอิงด้วย  include จึงจะใช้งานได้ และค่าที่จะกำหนดให้กับแต่ละฟังก์ชันต้องเป็นชนิด char หรือเป็นชนิด int ที่เป็นรหัสของอักขระที่ต้องการตรวจสอบ และเนื่องจากค่าที่คืนกลับมาเป็นชนิดตัวเลข ซึ่งเรา  สามารถเทียบเป็นค่าบูลืนได้นั่นคือ false o. true o ถ้าเราต้องการตรวจสอบแค่ค่าจริงเท็จก็  สามารถใช้ร่วมกับคำสัง if ได้  ซึ่งขอให้ดูแนวทางการใช้งานจากตัวอย่างต่อไปนี้
--- Page 152 ---
152 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน ตัวอย่าง 6-14  แนวทางการใช้ฟังก์ชัน isxxx( ) เพื่อตรวจสอบข้อมูลอักขระ # include  <stdio.h> lis digit ls not digit  # include  <string.h> ls  alpha # include  <ctype.h> is  alpha ls  not ubper is upper  void  main( ) putchar(  in" ); enter digit (9-9) )>7 char $ [20] ; error please enter 9-9 strcpy( s yisdigit( "1" )) " ) ; printf( "1 is %sdigit in" s ) ; strcpy(s.  yisdigit( x" )) hot printf( "x is %sdigit in s ) ; strcpy( s. (isalpha( "a" )) hot ") prints( is %salpha in" s ) ; strcpy( s., (isalpha( "a" )) not "า printf( "a is  %salpha in" s ) ; strcpy(s.,  (isupper( "a" )) not printf( "a is  %supper in" s ) ; strcpy(s.  yisupper( "a" )) not "า printf( "a is  %supper in" s.) ; char d: printf(  inenter digit  (0-9) >>" ) : scanf( ac &d) if (! isdigit(d) ) printf( "error.!  please enter 0-9wn") : else printf( "thank.! for  entering digit in");  สิ่งสำคัญที่เราได้ศึกษาในบทนี้ก็คือ การใช้เครื่องหมายเปรียบเทียบรูปแบบต่างๆ ในกลุ่ม  comparison และ  logic ซึ่งให้ผลลัพธ์แบบบูลีน  นอกจากนี้ยังได้กล่าวถึงการกำหนดเงื่อนไข ด้วยคำสัง if,  else-if,  else และ switch เพื่อตัดสินใจก่อนจะดำเนินการในขั้นตอนต่อไป ชึ่ง ถือเป็นพื้นฐานที่สำคัญอย่างหนึ่งของการเขียนโปรแกรม  เพื่อควบคุมการทำงานต่างๆ  ภายใต้  เงื่อนไขที่เราต้องการ not
--- Page 153 ---
7 การทำซ้ำแบบวนธอบ ารทำช้ำแบบวนรอบ หรือการวนลูป (loop) เป็นการทำงานในลักษณะเดิมตั้งแต่เริ่มต้นไป ก. จนสิ้นสุดแล้วกลับมาเริ่มทำใหม่เช่นนี้ไปเรื่อยฯ จนกว่าจะครบจำนวนรอบหรือตรงกับ  เงื่อนไขที่กำหนดเอาไว้ โดยในภาษา c. นั้นมีรูปแบบของการวนลูปให้เลือกใช้หลายอย่างเช่น for., while หรือ do while เป็นต้น ซึ่งเนื้อหาในบทนี้กจะกล่าวถึงหลักการของลูปแต่ละแบบ และ แนวทางการเลือกลูปที่เหมาะสมกับงานแต่ละอย่างอีกด้วย การใช้ลูปแบบ for ขั้นพื้นฐาน  กรณีที่เราจะทำคำสั่งในลักษณะเดิมแบบซ้ำซก็ต้องเขียนโค้ดที่คล้ายๆกันหลายครั้ง เช่น การพิมพ์เลข 5 ออกไปที่ส่วนแสดงผล printf( " in%d 1) printf( in%d 2) printf(" in%d 3) prints(  in%d 4 ) printf( " in%d 5) ลองคิดดูว่า หากจำนวนตัวเลขที่เราต้องการพิมพ์มีมากกว่านี้ จะเกิดความยุ่งยากเพียงใด หรือบางทีก็ต้องนำเงื่อนไขอย่างอื่นมาพิจารณาด้วย  เราอาจไม่ทราบล่วงหน้าว่าต้องทำซ้ำกี่ครั้ง ดังนั้น ในภาษาคอมพิวเตอร์แทบทั้งหมดรวมถึงภาษา c จึงมีคาสั่งสำหรับการทำงานแบบวงรอบ ตามจำนวนครั้งที่กำหนด หรือเรียกว่าการวนลูป  (loop) นั่นเอง โดยในหัวข้อนี้เราจะเริ่มศึกษา  จากการใช้คำสั่ง for ขั้นพื้นฐานไปก่อน ซึ่งมีรูปแบบอย่างง่ายดังนี้ for (ดัวแปร ค่าเริ่มต้น;  เงื่อนไขการวนลูป;  การเปลี่ยนค่าตัวแปร)  คำสั่งต่างๆ
--- Page 154 ---
154 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน ข้อกำหนดทั้ง 3 ส่วนคือ ตัวแปร เงื่อนไข และการเปลี่ยนค่า ต้องอยู่ภายในวงเล็บ ( ) เสมอ โดยคั่นแต่ละส่วนด้วยเครื่องหมาย semicolon (;) ตัวแปร เหรือตัวนับ เก็คือค่าที่จะถูกนำไปใช้เมื่อมีการวนลูปในแต่ละรอบ โดยต้องระบุ ค่าเริ่มต้นให้กับตัวแปรเสมอ เพื่อกำหนดขอบเขตเริ่มแรกในการทำงานของลูป เงื่อนไขการวนลูป เป็นการกำหนดขอบเขตการทำงานหรือการวนรอบของลูป เซึ่งตาม ปกติแล้ว  เงื่อนไขดังกล่าวนี้ต้องเป็นการเปรียบเทียบที่ให้ผลลัพธ์ออกมาเป็นบูลืน  (true false) โดยการวนลูปจะเกิดขึ้นเมื่อเงื่อนไขเป็นจริง  แต่หากเงื่อนไขเป็นเท็จ ก็ จะสิ้นสุดการวนลูป การเปลี่ยนค่าของตัวแปร  เราต้องเลือกเครื่องหมายอย่างใดอย่างหนึ่งมาเปลี่ยนค่า ของตัวแปรในการวนลูปแต่ละรอบ เช่น เพิ่มค่าทีละ หรือเพิมค่าทีละ 5 หรือลดค่า ทีละ 2 เป็นต้น เราต้องคั่นระหว่างการกำหนดค่าของตัวแปร  เงื่อนไข  และการเปลี่ยนค่า ด้วย  เครื่องหมาย semicolon(;) เสมอ  เช่น จากการพิมพ์เลข 1 - 5  ออกไปที่ส่วนแสดงผลดังโค้ดที่ผ่านมา หากเปลี่ยนมาเขียน แบบ for จะได้ดังนี้ for  (int i= 1;  i <=  5 ; 1++ ) printf( "\n%d" i);  จากโค้ดที่ผ่านมา ลักษณะการวนลูปคือ  เราพิจารณาคร่าวซ ได้ว่า i = 1 จนกว่า เงื่อนไข <= 5 จะเป็นเท็จ หรือ i > 5  จึงจะสิ้นสุดการวนลูป และ i++ แสดงว่าเพิ่มค่าตัวนับครั้งละ 1) เข้าสู่การวนลูปแรก แล้วตรวจสอบเงื่อนไข <= 5) ชึ่งเป็นจริง ก็ทำคำสั่ง ภายในบล็อกของ for จนครบทุกคำสั่ง (นับเป็น ลูป) (i++ =>  2) เพิ่มค่าของตัวแปรไปอีก (คือส่วนที่กำหนดด้วย  i++) แล้วตรวจสอบ  เงื่อนไข (i <= 5) ซึ่งเป็นจริง ก็ทำตามคำสั่งทั้งหมดในบล็อก for (i++ => 3) เพิมตัวแปรไปอีก จากนั้นตรวจสอบเงื่อนไข (i <= 5) ซึงเป็นจริง ก็ทำ  คำสั่งในบล็อก for จนครบ (i++ => ...)  เพิ่มค่าตัวแปร  แล้วตรวจสอบเงื่อนไขเช่นนี้ไปเรื่อยตจนกว่า เงื่อนไข <= 5) จะเป็นเท็จ นั่นคือค่าของตัวแปรมีค่ามากกว่า 5 จึงจะสิ้นสุดการวนลูป เป็นลูปเ  ลูปเริ่มจาก
--- Page 155 ---
 บทที 7 | การทำซำแบบวนรอบ 155 ลองมาดูโค้ดเพิ่มเติมในลักษณะอื่นท เช่น สมมติว่าเราต้องการพิมพ์ เฉพาะเลขคู่ระหว่าง 1 - 10 นั่นแสดงว่าเราต้องเริ่มจาก แล้วเพิ่มค่าตัวแปรทีละ 2 เซึ่งเขียนเป็นโค้ดได้ดังนี้ for  yint 2 : <=  10 : += 2 ) printf( "%d 1) : ผลลัพธ์คือเลข 2  4  6  8  10  สำหรับตัวแปรหรือตัวนับที่ใช้กับลูป for ไม่จำเป็นต้องใช้ชนิด  int  เท่านั้น  แต่อาจเป็น ข้อมูลชนิดตัวเลขอื่นไ ก็ได้ เช่น short., char, long., double หรือ float เช่น กรณีต่างๆ ต่อไปนี้  for  (double 0. 5 ; .<= 6 . 5 ;  d = 1.5 ) printf( "%0. 1f d) ; ผลลัพธ์คือ o.5 2.0  3.5  5 .0  6 . 5 /พิมพ์อักขระ a-z for  (cnar ch 'a" ;  ch <= "2" ;  ch++ ) prints( "%c ch) ; ผลลัพธ์คือ a b c d  . .. ix y z การเปลี่ยนแปลงค่าของตัวแปรนั้น อาจเป็นการลดค่าลงจากเดิมก็ได้ แต่ในกรณีนี้ เราต้อง พิจารณาค่าเริ่มต้นของตัวแปรและเงื่อนไขให้สัมพันธ์ก้นด้วย เช่น โค้ดต่อไปนี้ for  yint 20 ; >= 1 ;  1 t.= 2 ) printf( "%d i) ; ผลลัพธ์คือ 20  18  16 6  4  2  จากโค้ดข้างบนหมายความว่า ค่าของตัวแปรจะเริมจาก 20  แล้วเงื่อนไขคือ  ถ้าตัวแปร มีค่ามากกว่าหรือเท่ากับ ก็จะวนลูปต่อไปเรื่อยตพร้อมกับลดค่าลงครั้งละ  จนกว่าเงื่อนไข >= 1) เป็นเท็จ หรือจนกว่า นั่นเอง จึงจะออกจากลูป  ในอีกลักษณะหนึ่งคือ การพิมพ์อักขระจาก f => a เช่น for  (char ch f" ch >= ch- -) printf( "%c ch) /ผลลัพธ์คือ f  e d c  d a
--- Page 156 ---
156 การเขียนโปรแกรมภาษา c ขั้นพืนฐาน ภายในลูป for นอกจากจะกำหนดเป็นคาสั่งทั่วไปแล้ว ก็อาจมีการตรวจสอบเงื่อนไขด้วย  คำสั่ง if หรือ  switch ซ้อนอยู่ข้างใน ชึ่งไม่ได้มีข้อกำหนดอะไรเป็นพิเศษ  แนวทางจาก  โค้ดต่อไปนี้ /ถ้าต้องการตรวจสอบว่า ตั้งแต่ 11oo เมีจำนวนที่ทั้ง และ 8 หารลงตัวกีจำนวน int  count 0 :  for  (int = 1 ;  i <- 100:  i++ ) if (i % = 0  &&  i  %  8 a= 0) count++ printf( "%d"  count ) iia ตัวอย่าง 7-1 เป็นการใช้ลูป for เพื่อวนรับข้อมูลตัวเลข 5 จำนวนจากผู้ใไช้ผ่านทางคีย์บอร์ด พร้อมกับบวกเพิ่มเข้าไปในผลรวม แล้วแสดงผลลัพธ์และหาค่าเฉลี่ย #include  <stdio.h> numer #1  >>38 numวar f2 )218 number #3  >>28  void  main( ) numer #4 >>18  float กนท. sun o.0; number #5  >>59 sum:  12o putchar(  in") average:  24  for (int =  1:  1 <= 5;  1++ ) printf( "nunber #%d >> 1) :  scanf( "%f &num ) sun . ทนา printf(  insun: %g sum ) printf(  inaverage:  %g  in sun / :5 ) ; ตัวอย่าง 7-2 การหาค่าของเลขยกกำลัง ก็คือการนำเลขฐานมาคูณกันเป็นจำนวนครั้งเท่ากับ เลขชี้กำลัง ฺเช่น 103 10 10 10 โดยให้รับข้อมูลทางคีย์บอร์ดเป็นเลขฐานและเลขยกกำลัง จากนั้นใช้ลูป for เพื่อคำนวณหาค่าของเลขยกกำลัง และจะเทียบกับการใช้ฟังก์ชัน pow( ) ของ ภาษา c.  ให้ดูด้วยว่าได้ค่าเท่ากันกับที่เราคิดเองหรือไม่ #include  <stdio.n> วase >)-5 #include  <stdboo1 h> power  (+int) >>3 #include  <matn.h> -125 using  pow(-5,  3) -125 ขอให้ดู!
--- Page 157 ---
 บทที 7 | การทำซ้ำแบบวนรอบ 157 void  main( )  float  base,  resuit 1 : int  power  boo1 erno^  false printf(  inbase  >>" )  scanf( "%f"  &base ) printf( "power  (+int) >>" ) :  scanf( "%d"  apower) if lpower == 0) result ไ : else if  (power >= 1)  for (int 1 : z  power; 1++ ) result  base: else result 0 : error true if (!error) printf( " mn%g %d %g  base. power  result ); printf(  inusing  pow(%g , %d.) %gin"  base.  power  pow( base.,  power) else puts (  inerror!  invalid  nurberin" ) กาธกำทินดลูป for ซ้อนกัน การกำหนดลูป for ซ้อนกันกึคล้ายกับกรณีที่เราใช้เงื่อนไข if ซ้อนกัน โดยเมื่อเกิดการวน ลูปชั้นนอกในแต่ละรอบ จะทำให้ลูป for. ที่อยู่ชั้นในวนไปจนครบรอบตามเงื่อนไข แล้วจึงจะกลับ ออกมาวนลูปชั้นนอกในรอบถัดไป ซึ่งเราจะวางลูป for ซ้อนกันกี่ชั้นก็ได้ ดังรูปแบบต่อไปนี้
--- Page 158 ---
158 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน for (. . . )  for for แนวทางการใช้งาน เช่น สมมติว่าเราต้องการพิมพ์ตัวเลข 5 บรรทัด โดยในแต่ละบรรทัดนั้น ก็จะพิมพ์เลข 1- 10 นั่นแสดงว่าลูปชั้นนอกจะต้องวน 5 รอบ  แล้วลูปชั้นในจะต้องวน 10 รอบ ดังนี้  for  (int 1 : <= 5 ; 1++ ) le la  for (int 1,; j z 10;  ]++) le printf( "%d j) ; le  le putchar{  wn" ) : /ขื้นบรรทัดใหม่  จากโค้ด  ลูปชั้นใน (i) จะต้องวนไปจนครบรอบก่อน ดังจะเห็นได้จากการพิมพ์ตัวเลข 1-10 ในแต่ละบรรทัด  แล้วจึงจะกลับสู่ลูปชั้นนอก (i) ซึ่งในกรณีนี้ระหว่างลูป และ ไม่ได้เกี่ยวข้อง หรือมีผลต่อกัน เพียงแค่วนลูปให้ครบตามจำนวนรอบเท่านั้น อย่างไรก็ตาม ฺอาจมีบางกรณีที่ต้องนำตัวแปรของลูปชั้นนอกไปใช้ร่วมกับตัวแปรของลูป ชั้นใน ดังในโค้ดต่อไปนี้ ซึ่งเราจะให้ลูปชั้นในวนรอบเป็นจำนวนครั้งเท่ากับค่าในแต่ละรอบของ  ลูปชั้นนอก เช่น วนลูปชั้นนอกครั้งที่ วนลูปชั้นใน 1 รอบ วนลูปชั้นนอกครั้งที่ 2 วนลูปชั้นใน 2  รอบ วนลูปชั้นนอกครั้งที่ 3 วนลูปชั้นใน 3 รอบ ดังนั้น เราต้องนำตัวแปรของลูปชั้นนอกมาเป็นขอบเขตของเงื่อนไขของลูปชั้นใน ดังนี้  for (int i=  1; i <= 5 ; 1++ )  for yint j 1 : j <= 1;  ]++ ) printf( "%d ]) ;
--- Page 159 ---
 บทที 7 | การทำซ้ำแบบวนรอบ 159  putchar(  in ): ตัวอย่าง 7-3 เป็นการสร้างตารางสูตรคูณ โดยใช้ลูปแบบ for ซ้อนกัน 2 ชั้น  muitiplication table l8  le 16 18 2a 13 15 ฉ 14 24 27 3e 29 28 32 36 49  lo 1ร 28 25 3e 35 a8 45 59 24 3a 42 48 54 s3 12 18 28 35 46 49 56 53 79 1 x 2 1 x 3 ^x 4 16 24 32 48 48 56 64 72 88 18 27 36 45 54 63 72 |81 9อ 2 x 1 2 x 2 2 x  3 2 x 4 le 29  3e a8 5e se ze se 98  lee 3 x1 3 / 2 3 x 3 3 x 4  #include. <stdio.h>  #include  <string.h> void  main( ) printf( เา- printf( "nuitiplication  table" ) printf(  in" ); ii /ลูปชั้นนอก  (i)  สำหรับตัวเลขในแนวตั้ง  for  (int 1;  i <= 10;  1++ ) (j) สำหรับเลขในแนวนอน  for yint 1; j <= 10;  ]++ ) /คอลัมน์แรก ความกว้างเป็น 2  และจัดชิดข้าย if uj == 1) printf("%-2d" i * j) ; /คอลัมน์ถัดไป ความกว้างเป็น 5  และจัดชิดขวา else printf( "%5d" j);  putchar( " mn") ;  //ถ้าครบลูป  ให้ขึ้นแถวใหม่ /ลูปชั้นใน
--- Page 160 ---
160 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน การใช้คำลัง break ตามปกติแล้ว for จะเกิดการวนรอบไปจนกว่าเงือนไขจะเป็นเท็จ แต่อาจมีข้อกำหนด บางอย่างที่ต้องการให้ลูปหยุดทำงานในขณะใดขณะหนึ่ง ถึงแม้เงื่อนไขการวนลูปจะยังเป็นจริงอยู่  ก็ตาม ซึ่งลักษณะเช่นนี้ เราสามารถนำคำสั่ง break มาวางไว้ณ  จุดที่ต้องการออกจากลูปได้เลย เช่น int  sumn 0 ;  for  (int 1 ; .<= 10;  n++ ) sum = n: if  (n >=  5 ) break: printr( " sun %d" sun) ii1 2 + 3 4 15  จากโค้ดข้างบน เมือ n 5 การวนลูปจะสิ้นสุดลง เพราะถูกกำหนดด้วยคำสั่ง break ถึง แม้จะยังไม่ครบตามเงื่อนไข แต่อย่างไรก็ตาม กรณีที่ใช้คำสั่ง break ร่วมกับ switch และซ้อน อยู่ในลูป for จะไม่มีผลให้ลูปหยุดการทำงานแต่อย่างใด เช่น ตัวอย่างต่อไปนี้ ตัวอย่าง 7-4 ตรวจสอบว่าเมื่อเราใช้คำสั่ง switch ที่ต้องมี break ในแต่ละ case หากซ้อน  อยู่ในลูป for จะเกิดผลอย่างไร # include  <stdio.h> 1 is odd 2  is aven 3  is odd  void  main( ) 4 is avan int  renainder 0 : 5 is odd 6  is evan for yint 1 : <= 10 : n++ ) 7 is  odd  remainder n ๖  2 : 8 is gvn 9  is  odd  switch( renainder) lอ  is avan case  0: printf( "%d is  evenin" n) : break:  default : printf( "%d is oddin" n) break: ลูปแบบ
--- Page 161 ---
 บทที 7 | การทำซำแบบวนรอบ 161  จากโค้ด จะเห็นว่าลูป for วนรอบตั้งแต่ค่าแรกจนถึงค่าสุดท้าย (ท = 1 ถึง n = 10) แม้ ภายในลูปจะมีคำสั่ง break ของ switch ก็ตาม ฺนั่นแสดงว่า คำสั่ง break ของ switch ไม่มีผล ต่อลูป for การใช้คำสั่ง continue  คำสัง continue เป็นการสั่งให้วนลูปถัดไปทันที โดยไม่ทำคำสั่งภายในลูป for ที่อยู่ถัดจาก  continue ลงไป ดังนั้นจึงใช้ในทางตรงกันข้ามกับคำสั่ง break เช่น ในโค้ดต่อไปนี้ int sun 0 : for rint =  1;  n <= 10 ; n-+) if (n == 5)  continue; sun = nะ printf( " sun %d" sun) /i1 2  +  3  +  4  +  6  +  7  + 8  +  9 1o 50  จากโค้ด เมื่อ n = 5 จะวนลูปถัดไปทันที ดังนั้น คำสั่ง sum += 5 จึงถูกข้าม แล้วทำต่อ ในลูปต่อไป (ถ้าเป็น break จะออกจากลูป) กาธกำทินดลูป for แบบไม่รู้จบ (infinite loop)  กรณีที่เราต้องการวนลูปไปเรื่อย แบบไม่กำหนดเงื่อนไขไว้ล่วงหน้าว่าจะหยุดเมื่อใด ก็อาจ สร้างเป็นลูปแบบไม่รู้จบ (infinite loop) โดยไม่ต้องมีส่วนที่กำหนดค่าเริ่มต้น ส่วนเงื่อนไข และ ส่วนการเปลี่ยนค่า แต่เขียนลงไปเฉพาะเครื่องหมาย semi-colon(;) จำนวน 2 อันไว้ในวงเล็บ  for  โค้ดข้างบนจะทำให้เกิดการวนลูปแบบไม่รู้จบ ดังนั้น เราจะต้องกำหนดเงื่อนไขบางอย่าง  ไว้ในบล็อกร่วมกับการใช้คำสั่ง break เพื่อหยุดการวนรอบของลูป ดังตัวอย่างถัดไป
--- Page 162 ---
162 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน ตัวอย่าง 7-5 เป็นการสร้างลูป  for  เพื่อรับตัวเลขระหว่าง 50 1oo แต่หากผู้ใช้ใส่ค่า ที้ไม่อยู่ในช่วงนี้ เก็จะรับค่าใหม่ไปเรื่อยตจนกว่าจะใส่ค่าได้ถูกต้อง ซึ่งในกรณีนี้  เราไม่ทราบว่า  ล่วงหน้าจะต้องทำซ้ำกี่ครั้ง ดังนั้น  for แบบไม่รู้จบฺ  แล้วถ้าใส่ข้อมูลถูกต้องก็จะออก จากลูปด้วยคำสั่ง  break # include  stdio.h> antar  integer numben  se 188 >>49 enter  integer  number  se  lee >>181 enter integer number  so  lอo >>74  void nain( ) thanks int nะ for  (  : printf( "enter. integer  nunber 50  1oo >: 2 ):  scanf( "%d" &n) if (n >= 50  && <= 100) puts ( thanks ") break;  ออกจากลูป  for จากโค้ดข้างบนเราจะวนลูปเพื่อรับค่าจากผู้ใช้ไปเรื่อยต จนกว่าจะใส่ค่าระหว่าง 50-100 ชึ่ง ในกรณีนี้เราไม่ทราบล่วงหน้าว่าต้องวนลูปกี่รอบ ดังนั้น จึงต้องมากำหนดเงื่อนไขภายในลูป หลัง  จากทีได้รับข้อมูลเข้ามาแล้ว แต่โดยทั่วไป เราไม่นิยมใช้ลูป for ในแบบไม่รู้จบกันมากนัก เพราะ ยังมีลูปอื่น" ฺที่ถูกสร้างมาเพื่อวัตถุประสงค์ นี้โดยตรงอยู่แล้ว เช่น while และ do-while ดังที่จะ กล่าวถึงในหัวข้อต่อตไป ลักษณะที่ควธรู้เพิ่มเติมเกี่ยวกับลูป for นอกจากพื้นฐานทั่วไปของลูป for ที้ได้กล่าวในหัวข้อต่างๆ ที่ผ่านมา ก็ยังมีสิ่งที่เราควรรู้ เพิ่มเติมอีกหลายอย่าง เซึ่งแยกพิจารณาได้ดังต่อไปนี้ ตัวแปร หรือตัวนับที่ประกาศขึ้นในลูป for จะใช้ได้เฉพาะภายในลูปนี้เท่านั้น โดยหลัง จากสิ้นสุดลูปแล้ว ไม่สามารถอ้างถึงตัวแปรนี้ได้อีก ยกเว้นเราจะสร้างตัวแปรไว้ก่อนลูป  แล้วนำมาเป็นตัวนับภายในลูป  for แม้ลูปจะสิ้นสุดแล้ว  ก็ยังสามารถใช้ตัวแปร ดังกล่าวต่อไปได้ เช่น  for  (int 10 ; aa 100; += 10 ) int y จึงใช้ลูป
--- Page 163 ---
 บทที 7 | การทำซ้ำแบบวนรอบ 163 printf{ "%d" x) ferror printf{ "%d" y) ferror int  y; for (y 100 ; y >= 10 ; 10) printf{ "%d" y); irok สามารถอ้างถึงตัวแปร ตรงนี้ได้ ถ้าตัวแปรนั้นถูกประกาศเอาไว้ก่อนนี้แล้ว  เราไม่สามารถนำมาประกาศช้ำในลูป for  ได้อีก เช่น int 1: int nะ for (int =  1;  1 <= 10 : 1++ ) ferror int i;  ierror  ในการกำหนดเงื่อนไขของลูป  ถ้าเป็นกรณีที่ต้องคำนวณค่าเพื่อนำมาเปรียบเทียบ ก็  ควรทำการคำนวณให้ได้ผลลัพธ์ออกมาก่อน  แต่ไม่ควรทำการคำนวณ ณ  ตำแหน่งที่ กำหนด เงื่อนไข เพราะจะเกิดการคำนวณชำำในทุกรอบของการวนลูป ดังโค้ดถัดไป ซึ่งเราไม่ควร์ใช้รูปแบบแรก แต่ควร์ใช้รูปแบบที่สองมากกว่า /รูปแบบแรก คำนวณในขั้นตอนการระบุเงือนไขของลูป ไม่ควรใช้แบบนี้ int 10 ; int 5 ;  for fint x = 1 :  x <= fa b) ;  x++ ) /รูปแบบที่สอง คำนวณก่อนแล้วค่อยนำมากำหนดเป็นเงื่อนไข /ควรใช้แบบนี้มากกว่า int 10 ; int 5 ; int b:  for( int = 1 :  ix <= c;  x++ )  {
--- Page 164 ---
164 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน ในบางครั้ง  การเปลี่ยนค่าของตัวแปร  เอาจอยู่นอกขอบเขตของเงื่อนไขที่เรากำหนด  เอาไว้ โดยเฉพาะอย่างยิ่งกรณีที่ใช้เครื่องหมาย != ในการเปรียบเทียบ  ซึ่งลักษณะ เช่นนี้จะทำให้ลูปทำงานต่อไปเรื่อยตแบบไม่รู้จบ  เช่นในโค้ดถัดไป  เราเพิ่มค่า ครั้งละ 2 ดังนั้น ในแต่ละลูปค่า i จะเป็น 1, 3, 5, 7, แต่เรากำหนดเงื่อนไขเป็น != 6  จึงไม่มีลูปใดที่จะทำให้เงือนไขนี้เป็นเท็จและหยุดการทำงานลงได้  ชึ่งวิธีแก้ปัญหานี้ คือ หลีกเลี่ยงการเปรียบเทียบด้วยเครื่องหมาย != แล้วเปลี่ยนไปใช้พวก >,  >=, <=, 4= แทน  for  (int 1 ; ! =  6 ; +=  2 ) iii = 1, 5 , 7 printf( "%d i ); //เกิด infinite loop  ในกรณีที่เรากำหนดเงื่อนไขเป็นเท็จตั้งแต่เริ่มแรก คอมไพเลอร์จะไม่แจ้งข้อผิดพลาด และไม่มีการทำคำสั่งใดๆ ในบล็อกของ for เช่น โค้ดถัดไป ชึ่งเรากำหนดค่า n = 100 แต่เงื่อนไขคือ <= 1o ทำให้เงื่อนไขเป็นเท็จตั้งแต่เริ่มแรก ดังนั้น คำสั่งทั้งหมดใน  บล็อก for  จึงถูกข้ามไป  for  (int 100 : <= 10 ; = 5 : ) printf( "%d ก.) ; ในส่วนของค่าเริ่มต้น เราสามารถกำหนดตัวแปรและค่าเริ่มต้นได้มากกว่า ตัว โดย  คั่นแต่ละตัวด้วยเครื่องหมาย comma  เช่น int  i, sum : for (i sumn d: i 10:  1++ )  suili += 1 ; printf( suin ad sun) //45 ในส่วนของการเปลี่ยนค่าตัวแปร เราสามารถอัปเดตตัวแปรพร้อมกันได้มากกว่า ตัว โดยคั่นแต่ละตัวด้วยเครื่องหมาย comma (,) เช่น  for  (int 1, j 10 ; <=  5 : i++ j + 10) printf( "%d x  %d  ad%n i. j. j) ;
--- Page 165 ---
 บทที 7 | การทำซำแบบวนรอบ 165  เราสามารถใช้คำสั่ง for  expression  โดยไม่ต้องมีบล็อก  {} แต่ต้อง มี เครื่องหมาย  ปิดท้ายวงเล็บ  แล้วนำคำสั่งที่ต้องการทำมาเขียนไว้ในส่วนของ การเปลี่ยนค่าได้เลย โดยคั่นระหว่างคำสั่งด้วยเครื่องหมาย comma (,) เช่น  int i: for li 0; 5 ; i++ printf( "%d i) ) ; เต้องมี ปิดท้าย เพราะเป็น expression ภาษา c. ไม่มีข้อห้ามในการเปลี่ยนค่าของตัวแปรภายในลูป  แต่เราต้องแน่ใจว่า การกระทำเช่นนั้นจะไม่ส่งผลให้ลูปทำงานผิดพลาด เช่นในโค้ดถัดไป ซึ่งจะเกิดการวนลูป แบบไม่รู้จบ เพราะค่าของ  จะเท่าเดิมตลอด for  (int = 1;  1 <=  5;  1++ ) /เก๊ด  infinite loop 1. printf( "%d i) : กาธไช้ลูปแบบ while การทำงานเป็นวงรอบด้วยลูป for มักจะใช้เฉพาะกรณีที่เราทราบค่าเริ่มต้นและค่าสุดท้าย ของการวนรอบ  แต่หากไม่ทราบค่าเหล่านี้ล่วงหน้า แต่ทราบเพียงเงื่อนไขบางอย่างที่ทำให้เกิดการ วนรอบ ก็อาจเปลี่ยนมาใช้ลูป  while แทนได้  while จะมีการตรวจสอบเงื่อนไขก่อน วนรอบ หากตรงตามที่กำหนด (เป็นจริง) ก็จะเริ่มทำตามคำสั่งในลูป แล้ววนรอบไปเรื่อยต จนกว่า  เงื่อนไขจะเป็นเท็จ ซึ่งมีรูปแบบดังนี้  while  ( เงื่อนไข)  คำสั่งต่างๆ  สำหรับเงื่อนไข ก็กำหนดคล้ายกับคำสั่ง if คือต้องเป็นการเปรียบเทียบที่ให้ค่าออกมาเป็น ค่าบูลืน (true หรือ false) เท่านั้น เช่น การแสดงตัวเลข 1- 5 โดยใช้ลูป while  int ไ;  while  ix <=  5) prints( "%d x x-+ ; ในแบบ โดยลูปแบบ
--- Page 166 ---
166 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน หลักการทำงานของโค้ดข้างบนคือ ลูป while จะตรวจสอบเงื่อนไขที่ตอนต้นลูป โดยเริ่ม  แรก 4= 5 เป็นจริง จึงเริ่มทำคำสั่งต่างๆ ภายในบล็อกของมัน แล้วก่อนจะวนลูปถัดไป ก็ตรวจ สอบเงือนไข x <= 5 ถ้าเป็นจริง  ก็ทำคำสั่งในลูปจนครบ ฺจากนั้นก็ตรวจสอบเงื่อนไข เป็นเช่นนี้ไป  เรื่อยต จนถึง x = 6 ซึง 6 <= 5 เป็นเท็จ while  จึงหยุดการวนรอบ และไม่ทำคำสั่ง ภายในบล็อกของมันต่อ ชึ่งลักษณะที่เราควรรู้เพิ่มเติมเกี่ยวกับลูปแบบ while มีดังนี้ ภายในบล็อกของลูป while จะต้องมีคำาสั่งที่สามารถทำให้เงื่อนไขเปลี่ยนจากจริง เป็นเท็จได้ มิฉะนั้นจะเกิดการวนรอบแบบไม่รู้จบ เช่นโค้ดต่อไปนี้  while (true) /เงื่อนไขเป็นจริงตลอด puts( "hello" ) ; /จึงเกิดการวนลูปไม่รู้จบ ( infinite) int  ix 1 :  while  (x z- 5 ) /เกิดการวนลูปไม่รู้จบเช่นกัน printf{ "%d  x) ; ควรหลีกเลี่ยงการใช้เครื่องหมาย != ในการเปรียบเทียบเงื่อนไขด้วยเหตุผลที่ คล้ายกับลูปแบบ for เพราะหากเราพิจารณาไม่รอบคอบพอ เงื่อนไขนั้นอาจไม่มีทางที่ จะเป็นเท็จได้ จนเกิดการวนลูปไม่รู้จบ ดังการเปรียบเทียบในโค้ดถัดไป /หากทำแบบนี้ จะเกิดการวนลูปไม่รู้จบ /เพราะ ไม่มีทางเท่ากับ  เงื่อนไขจึงเป็นจริงตลอด int  while  ix ! =  6 ) printf( "%d x); += 2 : iix 1. 3 , 5 . 7. 9. /ควร์ใช้ < >หรือ > ในการเปรียบเทียบมากกว่า int 1 :  while  ix 6 ) printf( "%d x) ; + 2 :  iix= t. 3 . เราสามารถนำคำสั่ง break มาใช้กับ while เพื่อให้หยุดการวนรอบได้เช่นเดียวกับ for ดังโค้ดต่อไปนี้ ชึ่งจะพิมพ์ตัวเลข 1- 5 แล้วหยุด ดังนั้นลูป 1 :
--- Page 167 ---
 บทที 7 | การทำซ้ำแบบวนรอบ 167 int 1 ;  while  ftrue) if  ix >  5 | break; printf( "%d x) ; x-- หรือสามารถใช้คำสั่ง continue เพื่อวนลูปถัดไป โดยไม่ทำคำสั่งส่วนที่เหลือของบล็อก  while int x:  while  (true) printf( "positive  integer  nunber >>" ) :  scanf( "%d" &x) : if  ix <  0 )  cont inue;  ในกรณีการประกาศตัวแปร ก็สามารถำหลักการที่ได้กล่าวไว้ในลูปแบบ  for มา  ใช้งานได้ เช่น ควรประกาศตัวแปรไว้ก่อนลูป  แต้ไม่ควรประกาศไว้ภายในลูป  เพราะจะเกิดการ  ประกาศช้ำซในการวนลูปแต่ละรอบ ไม่ควรทำการคำนวณ ณ  จุดที่กำหนด เงื่อนไข เพราะเกิดการคำนวณแบบช้ำ1 ในแต่ละลูป  เช่นในโค้ดถัดไป  ควรใช้รูปแบบทางด้านล่างมากกว่าที่จะใช้รูปแบบ ทางด้านบน int 10 ;  while  ix 100) int y x; /ไม่ควรประกาศตัวแปรไว้ในลูป int 10 ; int  y: /แต่ควรประกาศไว้ก่อนลูป  while  ix 100 )
--- Page 168 ---
168 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน y  ix: /ไม่ควรทำการคำนวณในขั้นตอนการครวจสอบเงื่อนไข /เพราะจะเกิดการทำซ้ำ1 int 1d, 5 : int 1 :  while  ix ya /ควรคำนวณให้เสร็จก่อน แล้วค่อยไปกำหนดเงื่อนไข int to. 5 : int b; int 1 :  while  ix c.) เราสามารถใช้ลูป while ซ้อนกัน เหรือใช้จะใช้ลูป while ซ้อนกับ for ก็ได้ ทั้งนี้ขึ้นกับ ลักษณะของงานที่จะทำเป็นหลัก ให้ดูโค้ดของกรณีนี้จากตัวอย่างต่อตไป ตัวอย่าง 7-6 การตรวจสอบว่า ถ้าเราสร้างสุ่มระหว่าง 0 - 100 จะต้องสุ่มกี่ครั้ง เจึงจะได้ เลขที่มีค่าตั้งแต่ 9o ขึ้นไป #include  <stdio.h> 37 48 15 13  78  19 18  38  46  14 17  93 #include  <stdlib.h> randomized  12 time(s) #include  <time.h>  void  main( )  srand( tine(0) ) : int times 0: putchar( " in" );  while  ix 90 ) /ถ้าได้ค่าที่น้อยกว่า 9o  ค้องวนลูปต่อไป rand( % 101 : //ค่าเลขสุ่มที่จะได้ จะอยู่ระหว่าง  1oo printf( "%d x) :  times += printf( " inrandonized %d tine(s) in  times)  ในทุกลูป b) )
--- Page 169 ---
 บทที 7 | การทำซ้ำแบบวนรอบ 169 ตัวอย่าง 7-7 เป็นการรับรหัสผ่านจากผู้ใช้ ถ้ารหัสที่ถูกต้องคือ 567890 ชึ่งหากใส่ผิดก็ให้ ใส่ใหม่ ดังนั้น จึงใช้ลูป while ในการรับข้อมูลไปเรื่อยต จนกว่าจะใส่ค่าที่ถูกต้อง  #include <stdio.h> antar password>>555 enter  password >>5678 #include  <stdboo1 .h> anter password >>56789  #include  <string.h> enter password  >>567890 thanks!  void  main( )  char  password[10]  putchar(  in ): /ให้เงื่อนไขเป็น true  เพื่อวนลูปไปเรื่อยๆ  while (true ) printf( "enter  password >>" )  (password) /ถ้าใส่รหัสถูก ให้ออกจากลูป  while if  (strcnp ( password "567890" ) == o  ) { break; puts( thanks.! การใช้ลูปแบบ do-while  do while เป็นการวนลูปโดยใช้เงื่อนไขเป็นตัวกำหนดคล้ายกับลูปแบบ while แต่ ในกรณีของ  do-while การตรวจสอบเงื่อนไขจะเกิดขึ้นที่ท้ายลูป  ดังนั้น จึงต้องทำคำสั่งภายใน  บล็อกของมันอย่างน้อย  ครั้ง โดยตราบใดที่.เงื่อนไขยังเป็นจริง ฺการวนลูปจะดำเนินไปเรื่อยๆ จนกว่า เงื่อนไขจะเป็นเท็จ ซึ่งรูปแบบของลูปนี้คือ  do คำสั่งต่างๆ  while  ( เงื่อนไช)  สำหรับการกำหนดเงื่อนไขก็มีหลักการเช่นเดียวกับลูปแบบ while หรือคำสัง if คือต้อง เป็นการเปรียบเทียบที่ให้ค่าออกมาเป็น true หรือ false เท่านั้น และต้องเขียนเงื่อนไขไว้ในวงเล็บ ดังตัวอย่างต่อไปนี้ gets ลูปแบบ
--- Page 170 ---
170 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน ตัวอย่าง 7-8 เป็นการใช้ลูป do-while เพื่อรับข้อมูลตัวเลขจากผู้ใช้จนกว่าจะได้ค่าที่  มากกว่า 99 #include  <stdio.n> antar number greater  than 99  >>98 antar number greater  than 99  >>99 antar number greater than 99  >>-189  void  main( ) antar number  greater  than 99  >>189 zhanks int x:  putchar(  wn" ); do printf( "enter nunber  greater  than 99 >> ):  scanf( "%d &x )  while ix 99 ) printf( "thanks  เn ):  จากโค้ดข้างบน  เมื่อเริ่มต้นลูป ฺจะแสดงข้อความให้ผู้ใช่ใส่ข้อมูลทันที  โดยยังไม่มีการ  ตรวจสอบเงื่อนไขใดๆ เมื่อทำครบทุกคำสั่งในบล็อก  จึงจะตรวจสอบเงื่อนไขที่ท้ายลูป และถ้า  เงื่อนไขเป็นจริง เช่น  เราใส่ข้อมูลที่น้อยกว่าหรือเท่ากับ 99 ก็จะวนลูปถัดไปเรื่อยต จนกว่าจะใส่  ค่าที่มากกว่า 99 เพื่อให้เงื่อนไขเป็นเท็จ  จึงจะออกจากลูป โดยลักษณะที่ควรรู้เพิ่มเติมเกี่ยวกับ  ลูปแบบ do-while คือ กรณีของลูป  do-while  ต้องมี  semi-colon  (;) ปิดท้ายวงเล็บที่กำหนดเงื่อนไขของ เช่น  do  while (. . . ) : เต้องมี seni  coion ปิดท้ายเงื่อนไข  do-while กับแบบ while มีข้อแตกต่างที่สำคัญดังนี้ ลูปแบบ  while จะตรวจสอบเงื่อนไขก่อนเริ่มลูป  และจะวนลูปก็ต่อเมื่อ เงื่อนไข เป็นจริง do while จะตรวจสอบเงื่อนไขที่ท้ายลูป ฺนั่นแสดงว่าลูปแบบนี้จะต้อง  ทำตามคำสั่งที่กำหนดในบล็อกของลูปอย่างน้อย  ครั้ง และจะวนลูปถัดไปเมื่อ  เงื่อนไขเป็นจริงเช่นเดียวกัน ลูปเสมอ  ลูปแบบ ลูปแบบ
--- Page 171 ---
 บทที 7 | การทำซำแบบวนรอบ 171 จากการที่ลูปแบบ  do while จะตรวจสอบเงื่อนไขที่ท้ายลูป ดังนั้น ลูปแบบนี้จึงเหมาะกับ  งานที่ต้องมีการกระทำบางอย่างไปก่อนในครั้งแรก แล้วค่อยตรวจสอบเงื่อนไขภายหลัง เนื่องจากลูปแบบนี้ จะใช้เงื่อนไขเป็นตัวกำหนดขอบเขตการวนลูป ดังนั้น คำสั่งภายใน  บล็อก do จะต้องมีกรณีที่จะทำให้เงื่อนไขมีค่าเป็นเท็จ หรือไม่ก็ใช้คำสั่ง break เพื่อ  หยุดการทำงานเช่นเดียวกับลูปแบบ while มิฉะนั้นจะเกิดการวนรอบแบบไม่รู้จบ เช่น  int  resuit; do result rand( ) %1000 ; if  (result > 500) break;  while (true) printf( random  number %d result ) ; ลักษณะปลีกย่อยเพิ่มเติมอื่นๆ ก็สามารถนำหลักการที้ได้กล่าวไว้ในลูปเ แแบบ while มาใช้ได้ ตัวอย่าง 7-9 การนับจำนวนตัวอักษรที่เป็นสระ  (vowel) ในภาษาอังกฤษ ด้วยการใช้ลูป  do while โดยในแต่ละลูปจะใช้ฟังก์ชัน  getchar( )  เพื่อรับอักขระ ตัวจากผู้ใช้ด้วย  แล้ว ตรวจสอบว่าอักขระตัวนั้นเป็นสระหรือไม่ ถ้าเป็นก็นับเพิ่มไปอีก 1 ซึ่งเราจะวนลูปรับค่าไปเรื่อย1 จนกว่าผู้ใช้จะใส่เลข d จึงหยุดหรือออกจากลูป #include  <stdio.h> enter to stop enter ichar >)e #include. <stdboo1 h> enter char )d #include <ctype. h> enter char >น enter char ))c anter char )2a void  main() enter char >)t int  count._ vowels 0 ; enten char >)1 anter char >20 char c.: antan char วก enter char >)3 printf(  inenter d  to  stopin") ; vowe1 letters: do printf( "enter char >>" )  getchar( );  getchar( ); iiclear  in if (c == 0" )  {
--- Page 172 ---
172 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน  break;  tolower(c) /แปลงเป็นตัวพิมพ์เล็ก if ic== "a iic== e" iic=="i"/ic== 0" ||c==u" )  count_ vowe1s++  while (true) printf( " invowe1 letters: %a in"  count._ vowels ) ตัวอย่าง 7-10 เป็นการสร้างเกมทายตัวเลข โดยมีหลักการดังต่อไปนี้ เมื่อเริ่มเกมให้สร้างเลขสุ่ม ให้มีค่าระหว่าง 0-99  do while  หรือ  while  หรือ for. ก็ได้  แล้วแต่ถนัด  เพื่อให้ผู้เล่นใส่ตัวเลข ทีต้องการทาย ถ้าผู้เล่นใส่เลขที่มากกว่าค่าที่สุ่มได้ ให้แสดงข้อความว่า "น้อยกว่านี้" ถ้าผู้เล่นใส่เลขที่น้อยกว่าค่าที่สุ่มได้ ให้แสดงข้อความว่า "มากกว่านี้"  ในที่นี้มีข้อกำหนดว่าให้ทายได้ไม่เกิน 7 ครั้ง +++ anter  integer numper l-198 a= ดังนั้นจึงให้วนลูปเพื่อทายไปจนกว่าจะถูก  guesstinate  #1 >>59 less than  so (ชนะ) แต่ถ้าทายครบ 7  ครั้งแล้วยังไม่ถูก  guesstimate #2  >>39  ก็ให้ถือว่าแพ้ less than  3o  guesstimate #3  >>28 greater than  2e #include  <stdio.h>  include  <stdlib.h>  guesstimate #4 )>25 # include  <t ime. h> greater than  25 #include  <stdbool .h>  guesstimate #5  >>28  greater  than  28  void  main( )  guesstinate #6 >>29 srand( tine(o)) yes the number  is  29 /สร้างเลขส่มสำหรับไห้ทาย int rand_nun rand( ) %  ( 100 1) ; int  count /ทายครั้งที่เท่าไหร่  const int  max /ทายผิดไม่เกิน ครั้ง int  guess nนn //ค่าที่ผู้เล่นทายแต่ละครั้ง ใช้ลูป
--- Page 173 ---
 บทที 7 | การทำซ้ำแบบวนรอบ 173 printf( เn*** enter integer  nunber 1-100 - + + in"):  do /รับค่าตัวเลขที่ทายในแต่ละครั้ง printf( " inguesstinate #%d  count)  scanf( "%d  eguess_nun) /ถ้าเลขที่ผู่้ใช้ทาย มากกว่า เลขที่สุ่มได้ /ให้แสดงข้อความว่าน้อยกว่านี้ /หมายถึง ให้ใส่ เลขที่น้อยกว่านี้ if  yguess ทum rand_nun) printf( less than  %d in  guess_num ) /ถ้าเลขที่ผู่ใช้ทาย น้อยกว่า เลขที่สุ่มได้ /ให้แสดงข้อความว่า มากกว่านี้ /หมายถึง ให้ใส่เลขที่มากกว่านี้ else if  (guess_num rand_num)  printf( "greater than %din"  guess_nun) /ถ้าเลขที่ผู้ใช้ทาย เท่ากับ เลขที่สุ่มได้ '/นั่นคือทายถูกต้อง ให้ออกจากลูป else if  (guess_num rand_num) printf( "yes! the  number is  %din"  guess_num) break: //ถ้าทายผิดครบจำนวนครั้งที่กำหนดไว้ /ให้จบเกม และออกจากลูป if  (count  max) printf{ " ingane  over! you  guessed " printf{ "nore than %d  tines in"  max) break:  count-+ '/เพิ่มตัวนับ ว่าเป็นการทายครั้งที่เท่าไร  while  ftrue) เนื้อหาหลักที่เราได้เรียนรู้ไนบทนี้คือ การวนลูป (loop) แบบต่างๆ เช่น for, while หรือ  do-while  เป็นต้น ซึ่งลูปทั้งหมดเหล่านี้ล้วนเป็นพื้นฐานสำคัญของการเขียนโปรแกรมภาษา c เพื่อควบคุมการทำงานแบบช้ำซจนกว่าจะครบรอบตามต้องการ  และเนื่องจากลูปแต่ละแบบมี หลักการกำหนดเงื่อนไขที่แตกต่างกัน ดังนั้น เราต้องเลือกลูปให้เหมาะสมกับงานที่ต้องดำเนินการ จึงจะได้ผลลัพธ์ที่ถูกต้องและไม่เกิดข้อผิดพลาด